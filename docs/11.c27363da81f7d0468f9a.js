(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Eij6:function(e,t,n){"use strict";n.r(t),n.d(t,"EventsModule",function(){return St});var r=n("ofXK"),i=n("tyNb"),o=n("zUwj"),s=n("UKuc"),a=n("dgEK"),l=n("SZB9"),c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function d(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.buildRenderRange=function(t,n,r){var i,o=this.dateEnv,s=e.prototype.buildRenderRange.call(this,t,n,r),a=s.start,c=s.end;if(/^(year|month)$/.test(n)&&(a=o.startOfWeek(a),(i=o.startOfWeek(c)).valueOf()!==c.valueOf()&&(c=Object(l.w)(i,1))),this.options.monthMode&&this.options.fixedWeekCount){var d=Math.ceil(Object(l.ab)(a,c));c=Object(l.w)(c,6-d)}return{start:a,end:c}},t}(l.c),p=function(){function e(e){var t=this;this.isHidden=!0,this.margin=10,this.documentMousedown=function(e){t.el&&!t.el.contains(e.target)&&t.hide()},this.options=e}return e.prototype.show=function(){this.isHidden&&(this.el||this.render(),this.el.style.display="",this.position(),this.isHidden=!1,this.trigger("show"))},e.prototype.hide=function(){this.isHidden||(this.el.style.display="none",this.isHidden=!0,this.trigger("hide"))},e.prototype.render=function(){var e=this,t=this.options,n=this.el=Object(l.R)("div",{className:"fc-popover "+(t.className||""),style:{top:"0",left:"0"}});"function"==typeof t.content&&t.content(n),t.parentEl.appendChild(n),Object(l.Cb)(n,"click",".fc-close",function(t){e.hide()}),t.autoHide&&document.addEventListener("mousedown",this.documentMousedown)},e.prototype.destroy=function(){this.hide(),this.el&&(Object(l.Qb)(this.el),this.el=null),document.removeEventListener("mousedown",this.documentMousedown)},e.prototype.position=function(){var e,t,n=this.options,r=this.el,i=r.getBoundingClientRect(),o=Object(l.N)(r.offsetParent),s=Object(l.I)(n.parentEl);e=n.top||0,t=void 0!==n.left?n.left:void 0!==n.right?n.right-i.width:0,e=Math.min(e,s.bottom-i.height-this.margin),e=Math.max(e,s.top+this.margin),t=Math.min(t,s.right-i.width-this.margin),t=Math.max(t,s.left+this.margin),Object(l.B)(r,{top:e-o.top,left:t-o.left})},e.prototype.trigger=function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))},e}(),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.renderSegHtml=function(e,t){var n,r,i=this.context,o=e.eventRange,s=o.def,a=o.ui,c=s.allDay,d=Object(l.J)(i,s,a),h=c&&e.isStart&&Object(l.L)(i,s,a),u=c&&e.isEnd&&Object(l.K)(i,s,a),p=this.getSegClasses(e,d,h||u,t),g=Object(l.W)(this.getSkinCss(a)),f="";return p.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(n=this.getTimeText(o))&&(f='<span class="fc-time">'+Object(l.sb)(n)+"</span>"),r='<span class="fc-title">'+(Object(l.sb)(s.title||"")||"&nbsp;")+"</span>",'<a class="'+p.join(" ")+'"'+(s.url?' href="'+Object(l.sb)(s.url)+'"':"")+(g?' style="'+g+'"':"")+'><div class="fc-content">'+("rtl"===i.options.dir?r+" "+f:f+" "+r)+"</div>"+(h?'<div class="fc-resizer fc-start-resizer"></div>':"")+(u?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},t.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}},t.prototype.computeDisplayEventEnd=function(){return!1},t}(l.k),f=function(e){function t(t){var n=e.call(this)||this;return n.dayGrid=t,n}return d(t,e),t.prototype.attachSegs=function(e,t){var n=this.rowStructs=this.renderSegRows(e);this.dayGrid.rowEls.forEach(function(e,t){e.querySelector(".fc-content-skeleton > table").appendChild(n[t].tbodyEl)}),t||this.dayGrid.removeSegPopover()},t.prototype.detachSegs=function(){for(var e,t=this.rowStructs||[];e=t.pop();)Object(l.Qb)(e.tbodyEl);this.rowStructs=null},t.prototype.renderSegRows=function(e){var t,n,r=[];for(t=this.groupSegRows(e),n=0;n<t.length;n++)r.push(this.renderSegRow(n,t[n]));return r},t.prototype.renderSegRow=function(e,t){var n,r,i,o,s,a,c,d=this.context.isRtl,h=this.dayGrid,u=h.colCnt,p=this.buildSegLevels(t),g=Math.max(1,p.length),f=document.createElement("tbody"),v=[],m=[],b=[];function y(e){for(;i<e;)(c=(b[n-1]||[])[i])?c.rowSpan=(c.rowSpan||1)+1:(c=document.createElement("td"),o.appendChild(c)),m[n][i]=c,b[n][i]=c,i++}for(n=0;n<g;n++){if(r=p[n],i=0,o=document.createElement("tr"),v.push([]),m.push([]),b.push([]),r)for(s=0;s<r.length;s++){a=r[s];var S=d?u-1-a.lastCol:a.firstCol,E=d?u-1-a.firstCol:a.lastCol;for(y(S),c=Object(l.R)("td",{className:"fc-event-container"},a.el),S!==E?c.colSpan=E-S+1:b[n][i]=c;i<=E;)m[n][i]=c,v[n][i]=a,i++;o.appendChild(c)}y(u);var w=h.renderProps.renderIntroHtml();w&&(d?Object(l.z)(o,w):Object(l.Lb)(o,w)),f.appendChild(o)}return{row:e,tbodyEl:f,cellMatrix:m,segMatrix:v,segLevels:p,segs:t}},t.prototype.buildSegLevels=function(e){var t,n,r,i=this.context.isRtl,o=this.dayGrid.colCnt,s=[];for(e=this.sortEventSegs(e),t=0;t<e.length;t++){for(n=e[t],r=0;r<s.length&&v(n,s[r]);r++);n.level=r,n.leftCol=i?o-1-n.lastCol:n.firstCol,n.rightCol=i?o-1-n.firstCol:n.lastCol,(s[r]||(s[r]=[])).push(n)}for(r=0;r<s.length;r++)s[r].sort(m);return s},t.prototype.groupSegRows=function(e){var t,n=[];for(t=0;t<this.dayGrid.rowCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].row].push(e[t]);return n},t.prototype.computeDisplayEventEnd=function(){return 1===this.dayGrid.colCnt},t}(g);function v(e,t){var n,r;for(n=0;n<t.length;n++)if((r=t[n]).firstCol<=e.lastCol&&r.lastCol>=e.firstCol)return!0;return!1}function m(e,t){return e.leftCol-t.leftCol}var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.attachSegs=function(e,t){var n=t.sourceSeg,r=this.rowStructs=this.renderSegRows(e);this.dayGrid.rowEls.forEach(function(e,t){var i,o,s=Object(l.tb)('<div class="fc-mirror-skeleton"><table></table></div>');n&&n.row===t?i=n.el:(i=e.querySelector(".fc-content-skeleton tbody"))||(i=e.querySelector(".fc-content-skeleton table")),o=i.getBoundingClientRect().top-e.getBoundingClientRect().top,s.style.top=o+"px",s.querySelector("table").appendChild(r[t].tbodyEl),e.appendChild(s)})},t}(f),y='<td style="pointer-events:none"></td>',S=function(e){function t(t){var n=e.call(this)||this;return n.fillSegTag="td",n.dayGrid=t,n}return d(t,e),t.prototype.renderSegs=function(t,n,r){"bgEvent"===t&&(r=r.filter(function(e){return e.eventRange.def.allDay})),e.prototype.renderSegs.call(this,t,n,r)},t.prototype.attachSegs=function(e,t){var n,r,i,o=[];for(n=0;n<t.length;n++)i=this.renderFillRow(e,r=t[n]),this.dayGrid.rowEls[r.row].appendChild(i),o.push(i);return o},t.prototype.renderFillRow=function(e,t){var n,r,i,o=this.dayGrid,s=this.context.isRtl,a=o.colCnt,c=s?a-1-t.lastCol:t.firstCol,d=(s?a-1-t.firstCol:t.lastCol)+1;n="businessHours"===e?"bgevent":e.toLowerCase(),i=(r=Object(l.tb)('<div class="fc-'+n+'-skeleton"><table><tr></tr></table></div>')).getElementsByTagName("tr")[0],c>0&&Object(l.z)(i,new Array(c+1).join(y)),t.el.colSpan=d-c,i.appendChild(t.el),d<a&&Object(l.z)(i,new Array(a-d+1).join(y));var h=o.renderProps.renderIntroHtml();return h&&(s?Object(l.z)(i,h):Object(l.Lb)(i,h)),r},t}(l.l),E=function(e){function t(t){var n=e.call(this,t)||this,r=n.eventRenderer=new w(n),i=n.renderFrame=Object(l.Gb)(n._renderFrame);return n.renderFgEvents=Object(l.Gb)(r.renderSegs.bind(r),r.unrender.bind(r),[i]),n.renderEventSelection=Object(l.Gb)(r.selectByInstanceId.bind(r),r.unselectByInstanceId.bind(r),[n.renderFgEvents]),n.renderEventDrag=Object(l.Gb)(r.hideByHash.bind(r),r.showByHash.bind(r),[i]),n.renderEventResize=Object(l.Gb)(r.hideByHash.bind(r),r.showByHash.bind(r),[i]),n}return d(t,e),t.prototype.firstContext=function(e){e.calendar.registerInteractiveComponent(this,{el:this.el,useEventCenter:!1})},t.prototype.render=function(e,t){this.renderFrame(e.date),this.renderFgEvents(t,e.fgSegs),this.renderEventSelection(e.eventSelection),this.renderEventDrag(e.eventDragInstances),this.renderEventResize(e.eventResizeInstances)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.renderFrame.unrender(),this.context.calendar.unregisterInteractiveComponent(this)},t.prototype._renderFrame=function(e){var t=this.context,n=t.theme,r=t.options,i=t.dateEnv.format(e,Object(l.U)(r.dayPopoverFormat));this.el.innerHTML='<div class="fc-header '+n.getClass("popoverHeader")+'"><span class="fc-title">'+Object(l.sb)(i)+'</span><span class="fc-close '+n.getIconClass("close")+'"></span></div><div class="fc-body '+n.getClass("popoverContent")+'"><div class="fc-event-container"></div></div>',this.segContainerEl=this.el.querySelector(".fc-event-container")},t.prototype.queryHit=function(e,t,n,r){var i=this.props.date;if(e<n&&t<r)return{component:this,dateSpan:{allDay:!0,range:{start:i,end:Object(l.u)(i,1)}},dayEl:this.el,rect:{left:0,top:0,right:n,bottom:r},layer:1}},t}(l.b),w=function(e){function t(t){var n=e.call(this)||this;return n.dayTile=t,n}return d(t,e),t.prototype.attachSegs=function(e){for(var t=0,n=e;t<n.length;t++)this.dayTile.segContainerEl.appendChild(n[t].el)},t.prototype.detachSegs=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];Object(l.Qb)(r.el)}},t}(g),D=function(){function e(e){this.context=e}return e.prototype.renderHtml=function(e){var t,n,r,i,o,s,a,c,d=[];e.renderIntroHtml&&d.push(e.renderIntroHtml());for(var h=0,u=e.cells;h<u.length;h++){var p=u[h];d.push((t=p.date,n=e.dateProfile,i=p.htmlAttrs,o=void 0,s=void 0,void 0,c=void 0,o=(r=this.context).dateEnv,s=r.theme,a=Object(l.Ob)(n.activeRange,t),(c=Object(l.mb)(t,n,r)).unshift("fc-day",s.getClass("widgetContent")),'<td class="'+c.join(" ")+'"'+(a?' data-date="'+o.formatIso(t,{omitTime:!0})+'"':"")+(i?" "+i:"")+"></td>"))}return e.cells.length||d.push('<td class="fc-day '+this.context.theme.getClass("widgetContent")+'"></td>'),"rtl"===this.context.options.dir&&d.reverse(),"<tr>"+d.join("")+"</tr>"},e}(),C=Object(l.U)({day:"numeric"}),O=Object(l.U)({week:"numeric"}),T=function(e){function t(t,n){var r=e.call(this,t)||this;r.bottomCoordPadding=0,r.isCellSizesDirty=!1,r.renderProps=n;var i=r.eventRenderer=new f(r),o=r.fillRenderer=new S(r);r.mirrorRenderer=new b(r);var s=r.renderCells=Object(l.Gb)(r._renderCells,r._unrenderCells);return r.renderBusinessHours=Object(l.Gb)(o.renderSegs.bind(o,"businessHours"),o.unrender.bind(o,"businessHours"),[s]),r.renderDateSelection=Object(l.Gb)(o.renderSegs.bind(o,"highlight"),o.unrender.bind(o,"highlight"),[s]),r.renderBgEvents=Object(l.Gb)(o.renderSegs.bind(o,"bgEvent"),o.unrender.bind(o,"bgEvent"),[s]),r.renderFgEvents=Object(l.Gb)(i.renderSegs.bind(i),i.unrender.bind(i),[s]),r.renderEventSelection=Object(l.Gb)(i.selectByInstanceId.bind(i),i.unselectByInstanceId.bind(i),[r.renderFgEvents]),r.renderEventDrag=Object(l.Gb)(r._renderEventDrag,r._unrenderEventDrag,[s]),r.renderEventResize=Object(l.Gb)(r._renderEventResize,r._unrenderEventResize,[s]),r}return d(t,e),t.prototype.render=function(e,t){var n=e.cells;this.rowCnt=n.length,this.colCnt=n[0].length,this.renderCells(n,e.isRigid),this.renderBusinessHours(t,e.businessHourSegs),this.renderDateSelection(t,e.dateSelectionSegs),this.renderBgEvents(t,e.bgEventSegs),this.renderFgEvents(t,e.fgEventSegs),this.renderEventSelection(e.eventSelection),this.renderEventDrag(e.eventDrag),this.renderEventResize(e.eventResize),this.segPopoverTile&&this.updateSegPopoverTile()},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.renderCells.unrender()},t.prototype.getCellRange=function(e,t){var n=this.props.cells[e][t].date;return{start:n,end:Object(l.u)(n,1)}},t.prototype.updateSegPopoverTile=function(e,t){var n=this.props;this.segPopoverTile.receiveProps({date:e||this.segPopoverTile.props.date,fgSegs:t||this.segPopoverTile.props.fgSegs,eventSelection:n.eventSelection,eventDragInstances:n.eventDrag?n.eventDrag.affectedInstances:null,eventResizeInstances:n.eventResize?n.eventResize.affectedInstances:null},this.context)},t.prototype._renderCells=function(e,t){var n,r,i=this.context,o=i.calendar,s=i.view,a=i.isRtl,c=i.dateEnv,d=this.rowCnt,h=this.colCnt,u="";for(n=0;n<d;n++)u+=this.renderDayRowHtml(n,t);for(this.el.innerHTML=u,this.rowEls=Object(l.ib)(this.el,".fc-row"),this.cellEls=Object(l.ib)(this.el,".fc-day, .fc-disabled-day"),a&&this.cellEls.reverse(),this.rowPositions=new l.n(this.el,this.rowEls,!1,!0),this.colPositions=new l.n(this.el,this.cellEls.slice(0,h),!0,!1),n=0;n<d;n++)for(r=0;r<h;r++)o.publiclyTrigger("dayRender",[{date:c.toDate(e[n][r].date),el:this.getCellEl(n,r),view:s}]);this.isCellSizesDirty=!0},t.prototype._unrenderCells=function(){this.removeSegPopover()},t.prototype.renderDayRowHtml=function(e,t){var n=this.context.theme,r=["fc-row","fc-week",n.getClass("dayRow")];t&&r.push("fc-rigid");var i=new D(this.context);return'<div class="'+r.join(" ")+'"><div class="fc-bg"><table class="'+n.getClass("tableGrid")+'">'+i.renderHtml({cells:this.props.cells[e],dateProfile:this.props.dateProfile,renderIntroHtml:this.renderProps.renderBgIntroHtml})+'</table></div><div class="fc-content-skeleton"><table>'+(this.getIsNumbersVisible()?"<thead>"+this.renderNumberTrHtml(e)+"</thead>":"")+"</table></div></div>"},t.prototype.getIsNumbersVisible=function(){return this.getIsDayNumbersVisible()||this.renderProps.cellWeekNumbersVisible||this.renderProps.colWeekNumbersVisible},t.prototype.getIsDayNumbersVisible=function(){return this.rowCnt>1},t.prototype.renderNumberTrHtml=function(e){var t=this.context.isRtl,n=this.renderProps.renderNumberIntroHtml(e,this);return"<tr>"+(t?"":n)+this.renderNumberCellsHtml(e)+(t?n:"")+"</tr>"},t.prototype.renderNumberCellsHtml=function(e){var t,n=[];for(t=0;t<this.colCnt;t++)n.push(this.renderNumberCellHtml(this.props.cells[e][t].date));return this.context.isRtl&&n.reverse(),n.join("")},t.prototype.renderNumberCellHtml=function(e){var t,n,r=this.context,i=r.dateEnv,o=r.options,s="",a=Object(l.Ob)(this.props.dateProfile.activeRange,e),c=this.getIsDayNumbersVisible()&&a;return c||this.renderProps.cellWeekNumbersVisible?((t=Object(l.mb)(e,this.props.dateProfile,this.context)).unshift("fc-day-top"),this.renderProps.cellWeekNumbersVisible&&(n=i.weekDow),s+='<td class="'+t.join(" ")+'"'+(a?' data-date="'+i.formatIso(e,{omitTime:!0})+'"':"")+">",this.renderProps.cellWeekNumbersVisible&&e.getUTCDay()===n&&(s+=Object(l.D)(o,i,{date:e,type:"week"},{class:"fc-week-number"},i.format(e,O))),c&&(s+=Object(l.D)(o,i,e,{class:"fc-day-number"},i.format(e,C))),s+="</td>"):"<td></td>"},t.prototype.updateSize=function(e){var t=this,n=t.fillRenderer,r=t.eventRenderer,i=t.mirrorRenderer;(e||this.isCellSizesDirty||this.context.calendar.isEventsUpdated)&&(this.buildPositionCaches(),this.isCellSizesDirty=!1),n.computeSizes(e),r.computeSizes(e),i.computeSizes(e),n.assignSizes(e),r.assignSizes(e),i.assignSizes(e)},t.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildRowPositions()},t.prototype.buildColPositions=function(){this.colPositions.build()},t.prototype.buildRowPositions=function(){this.rowPositions.build(),this.rowPositions.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},t.prototype.positionToHit=function(e,t){var n=this.colPositions,r=this.rowPositions,i=n.leftToIndex(e),o=r.topToIndex(t);if(null!=o&&null!=i)return{row:o,col:i,dateSpan:{range:this.getCellRange(o,i),allDay:!0},dayEl:this.getCellEl(o,i),relativeRect:{left:n.lefts[i],right:n.rights[i],top:r.tops[o],bottom:r.bottoms[o]}}},t.prototype.getCellEl=function(e,t){return this.cellEls[e*this.colCnt+t]},t.prototype._renderEventDrag=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),this.fillRenderer.renderSegs("highlight",this.context,e.segs))},t.prototype._unrenderEventDrag=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.fillRenderer.unrender("highlight",this.context))},t.prototype._renderEventResize=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),this.fillRenderer.renderSegs("highlight",this.context,e.segs),this.mirrorRenderer.renderSegs(this.context,e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},t.prototype._unrenderEventResize=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.fillRenderer.unrender("highlight",this.context),this.mirrorRenderer.unrender(this.context,e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},t.prototype.removeSegPopover=function(){this.segPopover&&this.segPopover.hide()},t.prototype.limitRows=function(e){var t,n,r=this.eventRenderer.rowStructs||[];for(t=0;t<r.length;t++)this.unlimitRow(t),!1!==(n=!!e&&("number"==typeof e?e:this.computeRowLevelLimit(t)))&&this.limitRow(t,n)},t.prototype.computeRowLevelLimit=function(e){var t,n,r=this.rowEls[e].getBoundingClientRect().bottom,i=Object(l.hb)(this.eventRenderer.rowStructs[e].tbodyEl);for(t=0;t<i.length;t++)if((n=i[t]).classList.remove("fc-limited"),n.getBoundingClientRect().bottom>r)return t;return!1},t.prototype.limitRow=function(e,t){var n,r,i,o,s,a,c,d,h,u,p,g,f,v,m,b=this,y=this.colCnt,S=this.context.isRtl,E=this.eventRenderer.rowStructs[e],w=[],D=0,C=function(n){for(;D<n;)(a=b.getCellSegs(e,D,t)).length&&(h=r[t-1][D],m=b.renderMoreLink(e,D,a),v=Object(l.R)("div",null,m),h.appendChild(v),w.push(v)),D++};if(t&&t<E.segLevels.length){for(n=E.segLevels[t-1],r=E.cellMatrix,(i=Object(l.hb)(E.tbodyEl).slice(t)).forEach(function(e){e.classList.add("fc-limited")}),o=0;o<n.length;o++){s=n[o];var O=S?y-1-s.lastCol:s.firstCol,T=S?y-1-s.firstCol:s.lastCol;for(C(O),d=[],c=0;D<=T;)a=this.getCellSegs(e,D,t),d.push(a),c+=a.length,D++;if(c){for(u=(h=r[t-1][O]).rowSpan||1,p=[],g=0;g<d.length;g++)f=Object(l.R)("td",{className:"fc-more-cell",rowSpan:u}),m=this.renderMoreLink(e,O+g,[s].concat(a=d[g])),v=Object(l.R)("div",null,m),f.appendChild(v),p.push(f),w.push(f);h.classList.add("fc-limited"),Object(l.ub)(h,p),i.push(h)}}C(this.colCnt),E.moreEls=w,E.limitedEls=i}},t.prototype.unlimitRow=function(e){var t=this.eventRenderer.rowStructs[e];t.moreEls&&(t.moreEls.forEach(l.Qb),t.moreEls=null),t.limitedEls&&(t.limitedEls.forEach(function(e){e.classList.remove("fc-limited")}),t.limitedEls=null)},t.prototype.renderMoreLink=function(e,t,n){var r=this,i=this.context,o=i.calendar,s=i.view,a=i.dateEnv,c=i.options,d=i.isRtl,h=Object(l.R)("a",{className:"fc-more"});return h.innerText=this.getMoreLinkText(n.length),h.addEventListener("click",function(i){var l=c.eventLimitClick,h=r.props.cells[e][d?r.colCnt-t-1:t].date,u=i.currentTarget,p=r.getCellEl(e,t),g=r.getCellSegs(e,t),f=r.resliceDaySegs(g,h),v=r.resliceDaySegs(n,h);"function"==typeof l&&(l=o.publiclyTrigger("eventLimitClick",[{date:a.toDate(h),allDay:!0,dayEl:p,moreEl:u,segs:f,hiddenSegs:v,jsEvent:i,view:s}])),"popover"===l?r.showSegPopover(e,t,u,f):"string"==typeof l&&o.zoomTo(h,l)}),h},t.prototype.showSegPopover=function(e,t,n,r){var i,o,s=this,a=this.context,c=a.calendar,d=a.view,h=a.isRtl,u=h?this.colCnt-t-1:t,g=n.parentNode;i=1===this.rowCnt?d.el:this.rowEls[e],o={className:"fc-more-popover "+a.theme.getClass("popover"),parentEl:d.el,top:Object(l.N)(i).top,autoHide:!0,content:function(t){s.segPopoverTile=new E(t),s.updateSegPopoverTile(s.props.cells[e][u].date,r)},hide:function(){s.segPopoverTile.destroy(),s.segPopoverTile=null,s.segPopover.destroy(),s.segPopover=null}},h?o.right=Object(l.N)(g).right+1:o.left=Object(l.N)(g).left-1,this.segPopover=new p(o),this.segPopover.show(),c.releaseAfterSizingTriggers()},t.prototype.resliceDaySegs=function(e,t){for(var n=t,r={start:n,end:Object(l.u)(n,1)},i=[],o=0,s=e;o<s.length;o++){var a=s[o],c=a.eventRange,d=c.range,u=Object(l.xb)(d,r);u&&i.push(h({},a,{eventRange:{def:c.def,ui:h({},c.ui,{durationEditable:!1}),instance:c.instance,range:u},isStart:a.isStart&&u.start.valueOf()===d.start.valueOf(),isEnd:a.isEnd&&u.end.valueOf()===d.end.valueOf()}))}return i},t.prototype.getMoreLinkText=function(e){var t=this.context.options.eventLimitText;return"function"==typeof t?t(e):"+"+e+" "+t},t.prototype.getCellSegs=function(e,t,n){for(var r,i=this.eventRenderer.rowStructs[e].segMatrix,o=n||0,s=[];o<i.length;)(r=i[o][t])&&s.push(r),o++;return s},t}(l.b),j=Object(l.U)({week:"numeric"}),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.processOptions=Object(l.Fb)(t._processOptions),t.renderSkeleton=Object(l.Gb)(t._renderSkeleton,t._unrenderSkeleton),t.renderHeadIntroHtml=function(){var e=t.context,n=e.options;return t.colWeekNumbersVisible?'<th class="fc-week-number '+e.theme.getClass("widgetHeader")+'" '+t.weekNumberStyleAttr()+"><span>"+Object(l.sb)(n.weekLabel)+"</span></th>":""},t.renderDayGridNumberIntroHtml=function(e,n){var r=t.context,i=r.options,o=r.dateEnv,s=n.props.cells[e][0].date;return t.colWeekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+">"+Object(l.D)(i,o,{date:s,type:"week",forceOff:1===n.colCnt},o.format(s,j))+"</td>":""},t.renderDayGridBgIntroHtml=function(){return t.colWeekNumbersVisible?'<td class="fc-week-number '+t.context.theme.getClass("widgetContent")+'" '+t.weekNumberStyleAttr()+"></td>":""},t.renderDayGridIntroHtml=function(){return t.colWeekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"></td>":""},t}return d(t,e),t.prototype._processOptions=function(e){e.weekNumbers?e.weekNumbersWithinDays?(this.cellWeekNumbersVisible=!0,this.colWeekNumbersVisible=!1):(this.cellWeekNumbersVisible=!1,this.colWeekNumbersVisible=!0):(this.colWeekNumbersVisible=!1,this.cellWeekNumbersVisible=!1)},t.prototype.render=function(t,n){e.prototype.render.call(this,t,n),this.processOptions(n.options),this.renderSkeleton(n)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.renderSkeleton.unrender()},t.prototype._renderSkeleton=function(e){this.el.classList.add("fc-dayGrid-view"),this.el.innerHTML=this.renderSkeletonHtml(),this.scroller=new l.o("hidden","auto");var t=this.scroller.el;this.el.querySelector(".fc-body > tr > td").appendChild(t),t.classList.add("fc-day-grid-container");var n=Object(l.R)("div",{className:"fc-day-grid"});t.appendChild(n),this.dayGrid=new T(n,{renderNumberIntroHtml:this.renderDayGridNumberIntroHtml,renderBgIntroHtml:this.renderDayGridBgIntroHtml,renderIntroHtml:this.renderDayGridIntroHtml,colWeekNumbersVisible:this.colWeekNumbersVisible,cellWeekNumbersVisible:this.cellWeekNumbersVisible})},t.prototype._unrenderSkeleton=function(){this.el.classList.remove("fc-dayGrid-view"),this.dayGrid.destroy(),this.scroller.destroy()},t.prototype.renderSkeletonHtml=function(){var e=this.context,t=e.theme,n=e.options;return'<table class="'+t.getClass("tableGrid")+'">'+(n.columnHeader?'<thead class="fc-head"><tr><td class="fc-head-container '+t.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+t.getClass("widgetContent")+'"></td></tr></tbody></table>'},t.prototype.weekNumberStyleAttr=function(){return null!=this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},t.prototype.hasRigidRows=function(){var e=this.context.options.eventLimit;return e&&"number"!=typeof e},t.prototype.updateSize=function(t,n,r){e.prototype.updateSize.call(this,t,n,r),this.dayGrid.updateSize(t)},t.prototype.updateBaseSize=function(e,t,n){var r,i,o=this.dayGrid,s=this.context.options.eventLimit,a=this.header?this.header.el:null;o.rowEls?(this.colWeekNumbersVisible&&(this.weekNumberWidth=Object(l.Eb)(Object(l.ib)(this.el,".fc-week-number"))),this.scroller.clear(),a&&Object(l.Tb)(a),o.removeSegPopover(),s&&"number"==typeof s&&o.limitRows(s),r=this.computeScrollerHeight(t),this.setGridHeight(r,n),s&&"number"!=typeof s&&o.limitRows(s),n||(this.scroller.setHeight(r),((i=this.scroller.getScrollbarWidths()).left||i.right)&&(a&&Object(l.H)(a,i),r=this.computeScrollerHeight(t),this.scroller.setHeight(r)),this.scroller.lockOverflow(i))):n||(r=this.computeScrollerHeight(t),this.scroller.setHeight(r))},t.prototype.computeScrollerHeight=function(e){return e-Object(l.Sb)(this.el,this.scroller.el)},t.prototype.setGridHeight=function(e,t){this.context.options.monthMode?(t&&(e*=this.dayGrid.rowCnt/6),Object(l.cb)(this.dayGrid.rowEls,e,!t)):t?Object(l.Ub)(this.dayGrid.rowEls):Object(l.cb)(this.dayGrid.rowEls,e,!0)},t.prototype.computeDateScroll=function(e){return{top:0}},t.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},t.prototype.applyDateScroll=function(e){void 0!==e.top&&this.scroller.setScrollTop(e.top)},t}(l.s);R.prototype.dateProfileGeneratorClass=u;var I=function(e){function t(t){var n=e.call(this,t.el)||this;return n.slicer=new x,n.dayGrid=t,n}return d(t,e),t.prototype.firstContext=function(e){e.calendar.registerInteractiveComponent(this,{el:this.dayGrid.el})},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.context.calendar.unregisterInteractiveComponent(this)},t.prototype.render=function(e,t){var n=this.dayGrid,r=e.dateProfile,i=e.dayTable;n.receiveContext(t),n.receiveProps(h({},this.slicer.sliceProps(e,r,e.nextDayThreshold,t.calendar,n,i),{dateProfile:r,cells:i.cells,isRigid:e.isRigid}),t)},t.prototype.buildPositionCaches=function(){this.dayGrid.buildPositionCaches()},t.prototype.queryHit=function(e,t){var n=this.dayGrid.positionToHit(e,t);if(n)return{component:this.dayGrid,dateSpan:n.dateSpan,dayEl:n.dayEl,rect:{left:n.relativeRect.left,right:n.relativeRect.right,top:n.relativeRect.top,bottom:n.relativeRect.bottom},layer:0}},t}(l.b),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.sliceRange=function(e,t){return t.sliceRange(e)},t}(l.q),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayTable=Object(l.Fb)(H),t}return d(t,e),t.prototype.render=function(t,n){e.prototype.render.call(this,t,n);var r=this.props.dateProfile,i=this.dayTable=this.buildDayTable(r,t.dateProfileGenerator);this.header&&this.header.receiveProps({dateProfile:r,dates:i.headerDates,datesRepDistinctDays:1===i.rowCnt,renderIntroHtml:this.renderHeadIntroHtml},n),this.simpleDayGrid.receiveProps({dateProfile:r,dayTable:i,businessHours:t.businessHours,dateSelection:t.dateSelection,eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,isRigid:this.hasRigidRows(),nextDayThreshold:this.context.nextDayThreshold},n)},t.prototype._renderSkeleton=function(t){e.prototype._renderSkeleton.call(this,t),t.options.columnHeader&&(this.header=new l.d(this.el.querySelector(".fc-head-container"))),this.simpleDayGrid=new I(this.dayGrid)},t.prototype._unrenderSkeleton=function(){e.prototype._unrenderSkeleton.call(this),this.header&&this.header.destroy(),this.simpleDayGrid.destroy()},t}(R);function H(e,t){var n=new l.e(e.renderRange,t);return new l.f(n,/year|month|week/.test(e.currentRangeUnit))}var P=Object(l.V)({defaultView:"dayGridMonth",views:{dayGrid:M,dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}}),G=function(e,t){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function k(e,t){function n(){this.constructor=e}G(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var N=function(){return(N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},B=function(e){function t(t){var n=e.call(this)||this;return n.timeGrid=t,n}return k(t,e),t.prototype.renderSegs=function(t,n,r){e.prototype.renderSegs.call(this,t,n,r),this.fullTimeFormat=Object(l.U)({hour:"numeric",minute:"2-digit",separator:this.context.options.defaultRangeSeparator})},t.prototype.attachSegs=function(e,t){for(var n=this.timeGrid.groupSegsByCol(e),r=0;r<n.length;r++)n[r]=this.sortEventSegs(n[r]);this.segsByCol=n,this.timeGrid.attachSegsByCol(n,this.timeGrid.fgContainerEls)},t.prototype.detachSegs=function(e){e.forEach(function(e){Object(l.Qb)(e.el)}),this.segsByCol=null},t.prototype.computeSegSizes=function(e){var t=this.timeGrid,n=this.segsByCol,r=t.colCnt;if(t.computeSegVerticals(e),n)for(var i=0;i<r;i++)this.computeSegHorizontals(n[i])},t.prototype.assignSegSizes=function(e){var t=this.timeGrid,n=this.segsByCol,r=t.colCnt;if(t.assignSegVerticals(e),n)for(var i=0;i<r;i++)this.assignSegCss(n[i])},t.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",meridiem:!1}},t.prototype.computeDisplayEventEnd=function(){return!0},t.prototype.renderSegHtml=function(e,t){var n,r,i,o=e.eventRange,s=o.def,a=o.ui,c=s.allDay,d=Object(l.J)(this.context,s,a),h=e.isStart&&Object(l.L)(this.context,s,a),u=e.isEnd&&Object(l.K)(this.context,s,a),p=this.getSegClasses(e,d,h||u,t),g=Object(l.W)(this.getSkinCss(a));if(p.unshift("fc-time-grid-event"),Object(l.Bb)(o.range)){if(e.isStart||e.isEnd){var f=e.start,v=e.end;n=this._getTimeText(f,v,c),r=this._getTimeText(f,v,c,this.fullTimeFormat),i=this._getTimeText(f,v,c,null,!1)}}else n=this.getTimeText(o),r=this.getTimeText(o,this.fullTimeFormat),i=this.getTimeText(o,null,!1);return'<a class="'+p.join(" ")+'"'+(s.url?' href="'+Object(l.sb)(s.url)+'"':"")+(g?' style="'+g+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+Object(l.sb)(i)+'" data-full="'+Object(l.sb)(r)+'"><span>'+Object(l.sb)(n)+"</span></div>":"")+(s.title?'<div class="fc-title">'+Object(l.sb)(s.title)+"</div>":"")+"</div>"+(u?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},t.prototype.computeSegHorizontals=function(e){var t,n,r;if(function(e){var t,n,r,i,o;for(t=0;t<e.length;t++)for(n=e[t],r=0;r<n.length;r++)for((i=n[r]).forwardSegs=[],o=t+1;o<e.length;o++)_(i,e[o],i.forwardSegs)}(t=function(e){var t,n,r,i=[];for(t=0;t<e.length;t++){for(n=e[t],r=0;r<i.length&&_(n,i[r]).length;r++);n.level=r,(i[r]||(i[r]=[])).push(n)}return i}(e)),n=t[0]){for(r=0;r<n.length;r++)L(n[r]);for(r=0;r<n.length;r++)this.computeSegForwardBack(n[r],0,0)}},t.prototype.computeSegForwardBack=function(e,t,n){var r,i=e.forwardSegs;if(void 0===e.forwardCoord)for(i.length?(this.sortForwardSegs(i),this.computeSegForwardBack(i[0],t+1,n),e.forwardCoord=i[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-n)/(t+1),r=0;r<i.length;r++)this.computeSegForwardBack(i[r],0,e.forwardCoord)},t.prototype.sortForwardSegs=function(e){var t=e.map(z),n=[{field:"forwardPressure",order:-1},{field:"backwardCoord",order:1}].concat(this.context.eventOrderSpecs);return t.sort(function(e,t){return Object(l.F)(e,t,n)}),t.map(function(e){return e._seg})},t.prototype.assignSegCss=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];Object(l.B)(r.el,this.generateSegCss(r)),r.level>0&&r.el.classList.add("fc-time-grid-event-inset"),r.eventRange.def.title&&r.bottom-r.top<30&&r.el.classList.add("fc-short")}},t.prototype.generateSegCss=function(e){var t,n,r=this.context.options.slotEventOverlap,i=e.backwardCoord,o=e.forwardCoord,s=this.timeGrid.generateSegVerticalCss(e),a=this.context.isRtl;return r&&(o=Math.min(1,i+2*(o-i))),a?(t=1-o,n=i):(t=i,n=1-o),s.zIndex=e.level+1,s.left=100*t+"%",s.right=100*n+"%",r&&e.forwardPressure&&(s[a?"marginLeft":"marginRight"]=20),s},t}(l.k);function L(e){var t,n,r=e.forwardSegs,i=0;if(void 0===e.forwardPressure){for(t=0;t<r.length;t++)L(n=r[t]),i=Math.max(i,1+n.forwardPressure);e.forwardPressure=i}}function _(e,t,n){void 0===n&&(n=[]);for(var r=0;r<t.length;r++)(i=e).bottom>(o=t[r]).top&&i.top<o.bottom&&n.push(t[r]);var i,o;return n}function z(e){var t=Object(l.E)(e);return t.forwardPressure=e.forwardPressure,t.backwardCoord=e.backwardCoord,t}var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.prototype.attachSegs=function(e,t){this.segsByCol=this.timeGrid.groupSegsByCol(e),this.timeGrid.attachSegsByCol(this.segsByCol,this.timeGrid.mirrorContainerEls),this.sourceSeg=t.sourceSeg},t.prototype.generateSegCss=function(t){var n=e.prototype.generateSegCss.call(this,t),r=this.sourceSeg;if(r&&r.col===t.col){var i=e.prototype.generateSegCss.call(this,r);n.left=i.left,n.right=i.right,n.marginLeft=i.marginLeft,n.marginRight=i.marginRight}return n},t}(B),V=function(e){function t(t){var n=e.call(this)||this;return n.timeGrid=t,n}return k(t,e),t.prototype.attachSegs=function(e,t){var n,r=this.timeGrid;return"bgEvent"===e?n=r.bgContainerEls:"businessHours"===e?n=r.businessContainerEls:"highlight"===e&&(n=r.highlightContainerEls),r.attachSegsByCol(r.groupSegsByCol(t),n),t.map(function(e){return e.el})},t.prototype.computeSegSizes=function(e){this.timeGrid.computeSegVerticals(e)},t.prototype.assignSegSizes=function(e){this.timeGrid.assignSegVerticals(e)},t}(l.l),F=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}],W=function(e){function t(t,n){var r=e.call(this,t)||this;r.isSlatSizesDirty=!1,r.isColSizesDirty=!1,r.processOptions=Object(l.Fb)(r._processOptions),r.renderSkeleton=Object(l.Gb)(r._renderSkeleton),r.renderSlats=Object(l.Gb)(r._renderSlats,null,[r.renderSkeleton]),r.renderColumns=Object(l.Gb)(r._renderColumns,r._unrenderColumns,[r.renderSkeleton]),r.renderProps=n;var i=r.renderColumns,o=r.eventRenderer=new B(r),s=r.fillRenderer=new V(r);return r.mirrorRenderer=new A(r),r.renderBusinessHours=Object(l.Gb)(s.renderSegs.bind(s,"businessHours"),s.unrender.bind(s,"businessHours"),[i]),r.renderDateSelection=Object(l.Gb)(r._renderDateSelection,r._unrenderDateSelection,[i]),r.renderFgEvents=Object(l.Gb)(o.renderSegs.bind(o),o.unrender.bind(o),[i]),r.renderBgEvents=Object(l.Gb)(s.renderSegs.bind(s,"bgEvent"),s.unrender.bind(s,"bgEvent"),[i]),r.renderEventSelection=Object(l.Gb)(o.selectByInstanceId.bind(o),o.unselectByInstanceId.bind(o),[r.renderFgEvents]),r.renderEventDrag=Object(l.Gb)(r._renderEventDrag,r._unrenderEventDrag,[i]),r.renderEventResize=Object(l.Gb)(r._renderEventResize,r._unrenderEventResize,[i]),r}return k(t,e),t.prototype._processOptions=function(e){var t,n,r=e.slotDuration,i=e.snapDuration;r=Object(l.Q)(r),i=i?Object(l.Q)(i):r,null===(t=Object(l.Wb)(r,i))&&(i=r,t=1),this.slotDuration=r,this.snapDuration=i,this.snapsPerSlot=t,n=e.slotLabelFormat,Array.isArray(n)&&(n=n[n.length-1]),this.labelFormat=Object(l.U)(n||{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"}),this.labelInterval=(n=e.slotLabelInterval)?Object(l.Q)(n):this.computeLabelInterval(r)},t.prototype.computeLabelInterval=function(e){var t,n,r;for(t=F.length-1;t>=0;t--)if(n=Object(l.Q)(F[t]),null!==(r=Object(l.Wb)(n,e))&&r>1)return n;return e},t.prototype.render=function(e,t){this.processOptions(t.options),this.colCnt=e.cells.length,this.renderSkeleton(t.theme),this.renderSlats(e.dateProfile),this.renderColumns(e.cells,e.dateProfile),this.renderBusinessHours(t,e.businessHourSegs),this.renderDateSelection(e.dateSelectionSegs),this.renderFgEvents(t,e.fgEventSegs),this.renderBgEvents(t,e.bgEventSegs),this.renderEventSelection(e.eventSelection),this.renderEventDrag(e.eventDrag),this.renderEventResize(e.eventResize)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.renderSlats.unrender(),this.renderColumns.unrender(),this.renderSkeleton.unrender()},t.prototype.updateSize=function(e){var t=this,n=t.fillRenderer,r=t.eventRenderer,i=t.mirrorRenderer;(e||this.isSlatSizesDirty)&&(this.buildSlatPositions(),this.isSlatSizesDirty=!1),(e||this.isColSizesDirty)&&(this.buildColPositions(),this.isColSizesDirty=!1),n.computeSizes(e),r.computeSizes(e),i.computeSizes(e),n.assignSizes(e),r.assignSizes(e),i.assignSizes(e)},t.prototype._renderSkeleton=function(e){var t=this.el;t.innerHTML='<div class="fc-bg"></div><div class="fc-slats"></div><hr class="fc-divider '+e.getClass("widgetHeader")+'" style="display:none" />',this.rootBgContainerEl=t.querySelector(".fc-bg"),this.slatContainerEl=t.querySelector(".fc-slats"),this.bottomRuleEl=t.querySelector(".fc-divider")},t.prototype._renderSlats=function(e){this.slatContainerEl.innerHTML='<table class="'+this.context.theme.getClass("tableGrid")+'">'+this.renderSlatRowHtml(e)+"</table>",this.slatEls=Object(l.ib)(this.slatContainerEl,"tr"),this.slatPositions=new l.n(this.el,this.slatEls,!1,!0),this.isSlatSizesDirty=!0},t.prototype.renderSlatRowHtml=function(e){for(var t,n,r,i=this.context,o=i.dateEnv,s=i.theme,a=i.isRtl,c="",d=Object(l.Rb)(e.renderRange.start),h=e.minTime,u=Object(l.Q)(0);Object(l.C)(h)<Object(l.C)(e.maxTime);)t=o.add(d,h),n=null!==Object(l.Wb)(u,this.labelInterval),r='<td class="fc-axis fc-time '+s.getClass("widgetContent")+'">'+(n?"<span>"+Object(l.sb)(o.format(t,this.labelFormat))+"</span>":"")+"</td>",c+='<tr data-time="'+Object(l.jb)(t)+'"'+(n?"":' class="fc-minor"')+">"+(a?"":r)+'<td class="'+s.getClass("widgetContent")+'"></td>'+(a?r:"")+"</tr>",h=Object(l.v)(h,this.slotDuration),u=Object(l.v)(u,this.slotDuration);return c},t.prototype._renderColumns=function(e,t){var n=this.context,r=n.calendar,i=n.view,o=n.isRtl,s=n.theme,a=n.dateEnv,c=new D(this.context);this.rootBgContainerEl.innerHTML='<table class="'+s.getClass("tableGrid")+'">'+c.renderHtml({cells:e,dateProfile:t,renderIntroHtml:this.renderProps.renderBgIntroHtml})+"</table>",this.colEls=Object(l.ib)(this.el,".fc-day, .fc-disabled-day");for(var d=0;d<this.colCnt;d++)r.publiclyTrigger("dayRender",[{date:a.toDate(e[d].date),el:this.colEls[d],view:i}]);o&&this.colEls.reverse(),this.colPositions=new l.n(this.el,this.colEls,!0,!1),this.renderContentSkeleton(),this.isColSizesDirty=!0},t.prototype._unrenderColumns=function(){this.unrenderContentSkeleton()},t.prototype.renderContentSkeleton=function(){var e,t=this.context.isRtl,n=[];n.push(this.renderProps.renderIntroHtml());for(var r=0;r<this.colCnt;r++)n.push('<td><div class="fc-content-col"><div class="fc-event-container fc-mirror-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>');t&&n.reverse(),e=this.contentSkeletonEl=Object(l.tb)('<div class="fc-content-skeleton"><table><tr>'+n.join("")+"</tr></table></div>"),this.colContainerEls=Object(l.ib)(e,".fc-content-col"),this.mirrorContainerEls=Object(l.ib)(e,".fc-mirror-container"),this.fgContainerEls=Object(l.ib)(e,".fc-event-container:not(.fc-mirror-container)"),this.bgContainerEls=Object(l.ib)(e,".fc-bgevent-container"),this.highlightContainerEls=Object(l.ib)(e,".fc-highlight-container"),this.businessContainerEls=Object(l.ib)(e,".fc-business-container"),t&&(this.colContainerEls.reverse(),this.mirrorContainerEls.reverse(),this.fgContainerEls.reverse(),this.bgContainerEls.reverse(),this.highlightContainerEls.reverse(),this.businessContainerEls.reverse()),this.el.appendChild(e)},t.prototype.unrenderContentSkeleton=function(){Object(l.Qb)(this.contentSkeletonEl)},t.prototype.groupSegsByCol=function(e){var t,n=[];for(t=0;t<this.colCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].col].push(e[t]);return n},t.prototype.attachSegsByCol=function(e,t){var n,r,i;for(n=0;n<this.colCnt;n++)for(r=e[n],i=0;i<r.length;i++)t[n].appendChild(r[i].el)},t.prototype.getNowIndicatorUnit=function(){return"minute"},t.prototype.renderNowIndicator=function(e,t){if(this.colContainerEls){var n,r=this.computeDateTop(t),i=[];for(n=0;n<e.length;n++){var o=Object(l.R)("div",{className:"fc-now-indicator fc-now-indicator-line"});o.style.top=r+"px",this.colContainerEls[e[n].col].appendChild(o),i.push(o)}if(e.length>0){var s=Object(l.R)("div",{className:"fc-now-indicator fc-now-indicator-arrow"});s.style.top=r+"px",this.contentSkeletonEl.appendChild(s),i.push(s)}this.nowIndicatorEls=i}},t.prototype.unrenderNowIndicator=function(){this.nowIndicatorEls&&(this.nowIndicatorEls.forEach(l.Qb),this.nowIndicatorEls=null)},t.prototype.getTotalSlatHeight=function(){return this.slatContainerEl.getBoundingClientRect().height},t.prototype.computeDateTop=function(e,t){return t||(t=Object(l.Rb)(e)),this.computeTimeTop(Object(l.Q)(e.valueOf()-t.valueOf()))},t.prototype.computeTimeTop=function(e){var t,n,r=this.slatEls.length,i=this.props.dateProfile,o=(e.milliseconds-Object(l.C)(i.minTime))/Object(l.C)(this.slotDuration);return o=Math.max(0,o),o=Math.min(r,o),t=Math.floor(o),n=o-(t=Math.min(t,r-1)),this.slatPositions.tops[t]+this.slatPositions.getHeight(t)*n},t.prototype.computeSegVerticals=function(e){var t,n,r,i=this.context.options.timeGridEventMinHeight;for(t=0;t<e.length;t++)(n=e[t]).top=this.computeDateTop(n.start,r=this.props.cells[n.col].date),n.bottom=Math.max(n.top+i,this.computeDateTop(n.end,r))},t.prototype.assignSegVerticals=function(e){var t,n;for(t=0;t<e.length;t++)n=e[t],Object(l.B)(n.el,this.generateSegVerticalCss(n))},t.prototype.generateSegVerticalCss=function(e){return{top:e.top,bottom:-e.bottom}},t.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildSlatPositions()},t.prototype.buildColPositions=function(){this.colPositions.build()},t.prototype.buildSlatPositions=function(){this.slatPositions.build()},t.prototype.positionToHit=function(e,t){var n=this.context.dateEnv,r=this,i=r.snapsPerSlot,o=r.slatPositions,s=r.colPositions,a=s.leftToIndex(e),c=o.topToIndex(t);if(null!=a&&null!=c){var d=o.tops[c],h=o.getHeight(c),u=c*i+Math.floor((t-d)/h*i),p=this.props.cells[a].date,g=Object(l.v)(this.props.dateProfile.minTime,Object(l.Hb)(this.snapDuration,u)),f=n.add(p,g);return{col:a,dateSpan:{range:{start:f,end:n.add(f,this.snapDuration)},allDay:!1},dayEl:this.colEls[a],relativeRect:{left:s.lefts[a],right:s.rights[a],top:d,bottom:d+h}}}},t.prototype._renderEventDrag=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),e.isEvent?this.mirrorRenderer.renderSegs(this.context,e.segs,{isDragging:!0,sourceSeg:e.sourceSeg}):this.fillRenderer.renderSegs("highlight",this.context,e.segs))},t.prototype._unrenderEventDrag=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),e.isEvent?this.mirrorRenderer.unrender(this.context,e.segs,{isDragging:!0,sourceSeg:e.sourceSeg}):this.fillRenderer.unrender("highlight",this.context))},t.prototype._renderEventResize=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),this.mirrorRenderer.renderSegs(this.context,e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},t.prototype._unrenderEventResize=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.mirrorRenderer.unrender(this.context,e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},t.prototype._renderDateSelection=function(e){e&&(this.context.options.selectMirror?this.mirrorRenderer.renderSegs(this.context,e,{isSelecting:!0}):this.fillRenderer.renderSegs("highlight",this.context,e))},t.prototype._unrenderDateSelection=function(e){e&&(this.context.options.selectMirror?this.mirrorRenderer.unrender(this.context,e,{isSelecting:!0}):this.fillRenderer.unrender("highlight",this.context))},t}(l.b),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},t.prototype.getKeysForDateSpan=function(e){return e.allDay?["allDay"]:["timed"]},t.prototype.getKeysForEventDef=function(e){return e.allDay?Object(l.rb)(e)?["timed","allDay"]:["allDay"]:["timed"]},t}(l.r),Y=Object(l.U)({week:"short"}),q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitter=new U,t.renderSkeleton=Object(l.Gb)(t._renderSkeleton,t._unrenderSkeleton),t.renderHeadIntroHtml=function(){var e,n=t.context,r=n.theme,i=n.dateEnv,o=n.options,s=t.props.dateProfile.renderRange,a=Object(l.Y)(s.start,s.end);return o.weekNumbers?(e=i.format(s.start,Y),'<th class="fc-axis fc-week-number '+r.getClass("widgetHeader")+'" '+t.axisStyleAttr()+">"+Object(l.D)(o,i,{date:s.start,type:"week",forceOff:a>1},Object(l.sb)(e))+"</th>"):'<th class="fc-axis '+r.getClass("widgetHeader")+'" '+t.axisStyleAttr()+"></th>"},t.renderTimeGridBgIntroHtml=function(){return'<td class="fc-axis '+t.context.theme.getClass("widgetContent")+'" '+t.axisStyleAttr()+"></td>"},t.renderTimeGridIntroHtml=function(){return'<td class="fc-axis" '+t.axisStyleAttr()+"></td>"},t.renderDayGridBgIntroHtml=function(){var e=t.context,n=e.options;return'<td class="fc-axis '+e.theme.getClass("widgetContent")+'" '+t.axisStyleAttr()+"><span>"+Object(l.kb)(n)+"</span></td>"},t.renderDayGridIntroHtml=function(){return'<td class="fc-axis" '+t.axisStyleAttr()+"></td>"},t}return k(t,e),t.prototype.render=function(t,n){e.prototype.render.call(this,t,n),this.renderSkeleton(n)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.renderSkeleton.unrender()},t.prototype._renderSkeleton=function(e){this.el.classList.add("fc-timeGrid-view"),this.el.innerHTML=this.renderSkeletonHtml(),this.scroller=new l.o("hidden","auto");var t=this.scroller.el;this.el.querySelector(".fc-body > tr > td").appendChild(t),t.classList.add("fc-time-grid-container");var n=Object(l.R)("div",{className:"fc-time-grid"});if(t.appendChild(n),this.timeGrid=new W(n,{renderBgIntroHtml:this.renderTimeGridBgIntroHtml,renderIntroHtml:this.renderTimeGridIntroHtml}),e.options.allDaySlot){this.dayGrid=new T(this.el.querySelector(".fc-day-grid"),{renderNumberIntroHtml:this.renderDayGridIntroHtml,renderBgIntroHtml:this.renderDayGridBgIntroHtml,renderIntroHtml:this.renderDayGridIntroHtml,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1});var r=this.el.querySelector(".fc-divider");this.dayGrid.bottomCoordPadding=r.getBoundingClientRect().height}},t.prototype._unrenderSkeleton=function(){this.el.classList.remove("fc-timeGrid-view"),this.timeGrid.destroy(),this.dayGrid&&this.dayGrid.destroy(),this.scroller.destroy()},t.prototype.renderSkeletonHtml=function(){var e=this.context,t=e.theme,n=e.options;return'<table class="'+t.getClass("tableGrid")+'">'+(n.columnHeader?'<thead class="fc-head"><tr><td class="fc-head-container '+t.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+t.getClass("widgetContent")+'">'+(n.allDaySlot?'<div class="fc-day-grid"></div><hr class="fc-divider '+t.getClass("widgetHeader")+'" />':"")+"</td></tr></tbody></table>"},t.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},t.prototype.unrenderNowIndicator=function(){this.timeGrid.unrenderNowIndicator()},t.prototype.updateSize=function(t,n,r){e.prototype.updateSize.call(this,t,n,r),this.timeGrid.updateSize(t),this.dayGrid&&this.dayGrid.updateSize(t)},t.prototype.updateBaseSize=function(e,t,n){var r,i,o,s=this;if(this.axisWidth=Object(l.Eb)(Object(l.ib)(this.el,".fc-axis")),this.timeGrid.colEls){var a=Object(l.ib)(this.el,".fc-row").filter(function(e){return!s.scroller.el.contains(e)});this.timeGrid.bottomRuleEl.style.display="none",this.scroller.clear(),a.forEach(l.Tb),this.dayGrid&&(this.dayGrid.removeSegPopover(),(r=this.context.options.eventLimit)&&"number"!=typeof r&&(r=5),r&&this.dayGrid.limitRows(r)),n||(i=this.computeScrollerHeight(t),this.scroller.setHeight(i),((o=this.scroller.getScrollbarWidths()).left||o.right)&&(a.forEach(function(e){Object(l.H)(e,o)}),i=this.computeScrollerHeight(t),this.scroller.setHeight(i)),this.scroller.lockOverflow(o),this.timeGrid.getTotalSlatHeight()<i&&(this.timeGrid.bottomRuleEl.style.display=""))}else n||(i=this.computeScrollerHeight(t),this.scroller.setHeight(i))},t.prototype.computeScrollerHeight=function(e){return e-Object(l.Sb)(this.el,this.scroller.el)},t.prototype.computeDateScroll=function(e){var t=this.timeGrid.computeTimeTop(e);return(t=Math.ceil(t))&&t++,{top:t}},t.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},t.prototype.applyDateScroll=function(e){void 0!==e.top&&this.scroller.setScrollTop(e.top)},t.prototype.axisStyleAttr=function(){return null!=this.axisWidth?'style="width:'+this.axisWidth+'px"':""},t}(l.s);q.prototype.usesMinMaxTime=!0;var X=function(e){function t(t){var n=e.call(this,t.el)||this;return n.buildDayRanges=Object(l.Fb)(K),n.slicer=new Q,n.timeGrid=t,n}return k(t,e),t.prototype.firstContext=function(e){e.calendar.registerInteractiveComponent(this,{el:this.timeGrid.el})},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.context.calendar.unregisterInteractiveComponent(this)},t.prototype.render=function(e,t){var n=e.dateProfile,r=e.dayTable,i=this.dayRanges=this.buildDayRanges(r,n,this.context.dateEnv),o=this.timeGrid;o.receiveContext(t),o.receiveProps(N({},this.slicer.sliceProps(e,n,null,t.calendar,o,i),{dateProfile:n,cells:r.cells[0]}),t)},t.prototype.renderNowIndicator=function(e){this.timeGrid.renderNowIndicator(this.slicer.sliceNowDate(e,this.timeGrid,this.dayRanges),e)},t.prototype.buildPositionCaches=function(){this.timeGrid.buildPositionCaches()},t.prototype.queryHit=function(e,t){var n=this.timeGrid.positionToHit(e,t);if(n)return{component:this.timeGrid,dateSpan:n.dateSpan,dayEl:n.dayEl,rect:{left:n.relativeRect.left,right:n.relativeRect.right,top:n.relativeRect.top,bottom:n.relativeRect.bottom},layer:0}},t}(l.b);function K(e,t,n){for(var r=[],i=0,o=e.headerDates;i<o.length;i++){var s=o[i];r.push({start:n.add(s,t.minTime),end:n.add(s,t.maxTime)})}return r}var Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.prototype.sliceRange=function(e,t){for(var n=[],r=0;r<t.length;r++){var i=Object(l.xb)(e,t[r]);i&&n.push({start:i.start,end:i.end,isStart:i.start.valueOf()===e.start.valueOf(),isEnd:i.end.valueOf()===e.end.valueOf(),col:r})}return n},t}(l.q),$=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayTable=Object(l.Fb)(J),t}return k(t,e),t.prototype.render=function(t,n){e.prototype.render.call(this,t,n);var r=this.props,i=r.dateProfile,o=r.dateProfileGenerator,s=n.nextDayThreshold,a=this.buildDayTable(i,o),l=this.splitter.splitProps(t);this.header&&this.header.receiveProps({dateProfile:i,dates:a.headerDates,datesRepDistinctDays:!0,renderIntroHtml:this.renderHeadIntroHtml},n),this.simpleTimeGrid.receiveProps(N({},l.timed,{dateProfile:i,dayTable:a}),n),this.simpleDayGrid&&this.simpleDayGrid.receiveProps(N({},l.allDay,{dateProfile:i,dayTable:a,nextDayThreshold:s,isRigid:!1}),n),this.startNowIndicator(i,o)},t.prototype._renderSkeleton=function(t){e.prototype._renderSkeleton.call(this,t),t.options.columnHeader&&(this.header=new l.d(this.el.querySelector(".fc-head-container"))),this.simpleTimeGrid=new X(this.timeGrid),this.dayGrid&&(this.simpleDayGrid=new I(this.dayGrid))},t.prototype._unrenderSkeleton=function(){e.prototype._unrenderSkeleton.call(this),this.header&&this.header.destroy(),this.simpleTimeGrid.destroy(),this.simpleDayGrid&&this.simpleDayGrid.destroy()},t.prototype.renderNowIndicator=function(e){this.simpleTimeGrid.renderNowIndicator(e)},t}(q);function J(e,t){var n=new l.e(e.renderRange,t);return new l.f(n,!1)}var Z=Object(l.V)({defaultView:"timeGridWeek",views:{timeGrid:{class:$,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),ee=function(e,t){return(ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function te(e,t){function n(){this.constructor=e}ee(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ne=function(){return(ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};l.O.touchMouseIgnoreWait=500;var re=0,ie=0,oe=!1,se=function(){function e(e){var t=this;this.subjectEl=null,this.downEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(e){if(!t.shouldIgnoreMouse()&&function(e){return 0===e.button&&!e.ctrlKey}(e)&&t.tryStart(e)){var n=t.createEventFromMouse(e,!0);t.emitter.trigger("pointerdown",n),t.initScrollWatch(n),t.shouldIgnoreMove||document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp)}},this.handleMouseMove=function(e){var n=t.createEventFromMouse(e);t.recordCoords(n),t.emitter.trigger("pointermove",n)},this.handleMouseUp=function(e){document.removeEventListener("mousemove",t.handleMouseMove),document.removeEventListener("mouseup",t.handleMouseUp),t.emitter.trigger("pointerup",t.createEventFromMouse(e)),t.cleanup()},this.handleTouchStart=function(e){if(t.tryStart(e)){t.isTouchDragging=!0;var n=t.createEventFromTouch(e,!0);t.emitter.trigger("pointerdown",n),t.initScrollWatch(n);var r=e.target;t.shouldIgnoreMove||r.addEventListener("touchmove",t.handleTouchMove),r.addEventListener("touchend",t.handleTouchEnd),r.addEventListener("touchcancel",t.handleTouchEnd),window.addEventListener("scroll",t.handleTouchScroll,!0)}},this.handleTouchMove=function(e){var n=t.createEventFromTouch(e);t.recordCoords(n),t.emitter.trigger("pointermove",n)},this.handleTouchEnd=function(e){if(t.isDragging){var n=e.target;n.removeEventListener("touchmove",t.handleTouchMove),n.removeEventListener("touchend",t.handleTouchEnd),n.removeEventListener("touchcancel",t.handleTouchEnd),window.removeEventListener("scroll",t.handleTouchScroll,!0),t.emitter.trigger("pointerup",t.createEventFromTouch(e)),t.cleanup(),t.isTouchDragging=!1,re++,setTimeout(function(){re--},l.O.touchMouseIgnoreWait)}},this.handleTouchScroll=function(){t.wasTouchScroll=!0},this.handleScroll=function(e){if(!t.shouldIgnoreMove){var n=window.pageXOffset-t.prevScrollX+t.prevPageX,r=window.pageYOffset-t.prevScrollY+t.prevPageY;t.emitter.trigger("pointermove",{origEvent:e,isTouch:t.isTouchDragging,subjectEl:t.subjectEl,pageX:n,pageY:r,deltaX:n-t.origPageX,deltaY:r-t.origPageY})}},this.containerEl=e,this.emitter=new l.i,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),ie++||window.addEventListener("touchmove",ae,{passive:!1})}return e.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),--ie||window.removeEventListener("touchmove",ae,{passive:!1})},e.prototype.tryStart=function(e){var t=this.querySubjectEl(e),n=e.target;return!(!t||this.handleSelector&&!Object(l.db)(n,this.handleSelector)||(this.subjectEl=t,this.downEl=n,this.isDragging=!0,this.wasTouchScroll=!1,0))},e.prototype.cleanup=function(){oe=!1,this.isDragging=!1,this.subjectEl=null,this.downEl=null,this.destroyScrollWatch()},e.prototype.querySubjectEl=function(e){return this.selector?Object(l.db)(e.target,this.selector):this.containerEl},e.prototype.shouldIgnoreMouse=function(){return re||this.isTouchDragging},e.prototype.cancelTouchScroll=function(){this.isDragging&&(oe=!0)},e.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},e.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},e.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},e.prototype.createEventFromMouse=function(e,t){var n=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:r}},e.prototype.createEventFromTouch=function(e,t){var n,r,i=e.touches,o=0,s=0;return i&&i.length?(n=i[0].pageX,r=i[0].pageY):(n=e.pageX,r=e.pageY),t?(this.origPageX=n,this.origPageY=r):(o=n-this.origPageX,s=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:r,deltaX:o,deltaY:s}},e}();function ae(e){oe&&e.preventDefault()}var le=function(){function e(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return e.prototype.start=function(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=n-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},e.prototype.handleMove=function(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()},e.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},e.prototype.stop=function(e,t){var n=this,r=function(){n.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)},e.prototype.doRevertAnimation=function(e,t){var n=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",Object(l.B)(n,{left:r.left,top:r.top}),Object(l.Vb)(n,function(){n.style.transition="",e()})},e.prototype.cleanup=function(){this.mirrorEl&&(Object(l.Qb)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},e.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&Object(l.B)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},e.prototype.getMirrorEl=function(){var e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),t.classList.add("fc-dragging"),Object(l.B)(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t},e}(),ce=function(e){function t(t,n){var r=e.call(this)||this;return r.handleScroll=function(){r.scrollTop=r.scrollController.getScrollTop(),r.scrollLeft=r.scrollController.getScrollLeft(),r.handleScrollChange()},r.scrollController=t,r.doesListening=n,r.scrollTop=r.origScrollTop=t.getScrollTop(),r.scrollLeft=r.origScrollLeft=t.getScrollLeft(),r.scrollWidth=t.getScrollWidth(),r.scrollHeight=t.getScrollHeight(),r.clientWidth=t.getClientWidth(),r.clientHeight=t.getClientHeight(),r.clientRect=r.computeClientRect(),r.doesListening&&r.getEventTarget().addEventListener("scroll",r.handleScroll),r}return te(t,e),t.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},t.prototype.getScrollTop=function(){return this.scrollTop},t.prototype.getScrollLeft=function(){return this.scrollLeft},t.prototype.setScrollTop=function(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())},t.prototype.setScrollLeft=function(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())},t.prototype.getClientWidth=function(){return this.clientWidth},t.prototype.getClientHeight=function(){return this.clientHeight},t.prototype.getScrollWidth=function(){return this.scrollWidth},t.prototype.getScrollHeight=function(){return this.scrollHeight},t.prototype.handleScrollChange=function(){},t}(l.p),de=function(e){function t(t,n){return e.call(this,new l.h(t),n)||this}return te(t,e),t.prototype.getEventTarget=function(){return this.scrollController.el},t.prototype.computeClientRect=function(){return Object(l.M)(this.scrollController.el)},t}(ce),he=function(e){function t(t){return e.call(this,new l.t,t)||this}return te(t,e),t.prototype.getEventTarget=function(){return window},t.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},t.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},t}(ce),ue="function"==typeof performance?performance.now:Date.now,pe=function(){function e(){var e=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(e.isAnimating){var t=e.computeBestEdge(e.pointerScreenX+window.pageXOffset,e.pointerScreenY+window.pageYOffset);if(t){var n=ue();e.handleSide(t,(n-e.msSinceRequest)/1e3),e.requestAnimation(n)}else e.isAnimating=!1}}}return e.prototype.start=function(e,t){this.isEnabled&&(this.scrollCaches=this.buildCaches(),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))},e.prototype.handleMove=function(e,t){if(this.isEnabled){var n=e-window.pageXOffset,r=t-window.pageYOffset,i=null===this.pointerScreenY?0:r-this.pointerScreenY,o=null===this.pointerScreenX?0:n-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(ue()))}},e.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy();this.scrollCaches=null}},e.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},e.prototype.handleSide=function(e,t){var n=e.scrollCache,r=this.edgeThreshold,i=r-e.distance,o=i*i/(r*r)*this.maxVelocity*t,s=1;switch(e.name){case"left":s=-1;case"right":n.setScrollLeft(n.getScrollLeft()+o*s);break;case"top":s=-1;case"bottom":n.setScrollTop(n.getScrollTop()+o*s)}},e.prototype.computeBestEdge=function(e,t){for(var n=this.edgeThreshold,r=null,i=0,o=this.scrollCaches;i<o.length;i++){var s=o[i],a=s.clientRect,l=e-a.left,c=a.right-e,d=t-a.top,h=a.bottom-t;l>=0&&c>=0&&d>=0&&h>=0&&(d<=n&&this.everMovedUp&&s.canScrollUp()&&(!r||r.distance>d)&&(r={scrollCache:s,name:"top",distance:d}),h<=n&&this.everMovedDown&&s.canScrollDown()&&(!r||r.distance>h)&&(r={scrollCache:s,name:"bottom",distance:h}),l<=n&&this.everMovedLeft&&s.canScrollLeft()&&(!r||r.distance>l)&&(r={scrollCache:s,name:"left",distance:l}),c<=n&&this.everMovedRight&&s.canScrollRight()&&(!r||r.distance>c)&&(r={scrollCache:s,name:"right",distance:c}))}return r},e.prototype.buildCaches=function(){return this.queryScrollEls().map(function(e){return e===window?new he(!1):new de(e,!1)})},e.prototype.queryScrollEls=function(){for(var e=[],t=0,n=this.scrollQuery;t<n.length;t++){var r=n[t];"object"==typeof r?e.push(r):e.push.apply(e,Array.prototype.slice.call(document.querySelectorAll(r)))}return e},e}(),ge=function(e){function t(t){var n=e.call(this,t)||this;n.delay=null,n.minDistance=0,n.touchScrollAllowed=!0,n.mirrorNeedsRevert=!1,n.isInteracting=!1,n.isDragging=!1,n.isDelayEnded=!1,n.isDistanceSurpassed=!1,n.delayTimeoutId=null,n.onPointerDown=function(e){n.isDragging||(n.isInteracting=!0,n.isDelayEnded=!1,n.isDistanceSurpassed=!1,Object(l.Nb)(document.body),Object(l.Mb)(document.body),e.isTouch||e.origEvent.preventDefault(),n.emitter.trigger("pointerdown",e),n.pointer.shouldIgnoreMove||(n.mirror.setIsVisible(!1),n.mirror.start(e.subjectEl,e.pageX,e.pageY),n.startDelay(e),n.minDistance||n.handleDistanceSurpassed(e)))},n.onPointerMove=function(e){if(n.isInteracting){if(n.emitter.trigger("pointermove",e),!n.isDistanceSurpassed){var t=n.minDistance,r=e.deltaX,i=e.deltaY;r*r+i*i>=t*t&&n.handleDistanceSurpassed(e)}n.isDragging&&("scroll"!==e.origEvent.type&&(n.mirror.handleMove(e.pageX,e.pageY),n.autoScroller.handleMove(e.pageX,e.pageY)),n.emitter.trigger("dragmove",e))}},n.onPointerUp=function(e){n.isInteracting&&(n.isInteracting=!1,Object(l.y)(document.body),Object(l.x)(document.body),n.emitter.trigger("pointerup",e),n.isDragging&&(n.autoScroller.stop(),n.tryStopDrag(e)),n.delayTimeoutId&&(clearTimeout(n.delayTimeoutId),n.delayTimeoutId=null))};var r=n.pointer=new se(t);return r.emitter.on("pointerdown",n.onPointerDown),r.emitter.on("pointermove",n.onPointerMove),r.emitter.on("pointerup",n.onPointerUp),n.mirror=new le,n.autoScroller=new pe,n}return te(t,e),t.prototype.destroy=function(){this.pointer.destroy()},t.prototype.startDelay=function(e){var t=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout(function(){t.delayTimeoutId=null,t.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)},t.prototype.handleDelayEnd=function(e){this.isDelayEnded=!0,this.tryStartDrag(e)},t.prototype.handleDistanceSurpassed=function(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)},t.prototype.tryStartDrag=function(e){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))},t.prototype.tryStopDrag=function(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))},t.prototype.stopDrag=function(e){this.isDragging=!1,this.emitter.trigger("dragend",e)},t.prototype.setIgnoreMove=function(e){this.pointer.shouldIgnoreMove=e},t.prototype.setMirrorIsVisible=function(e){this.mirror.setIsVisible(e)},t.prototype.setMirrorNeedsRevert=function(e){this.mirrorNeedsRevert=e},t.prototype.setAutoScrollEnabled=function(e){this.autoScroller.isEnabled=e},t}(l.g),fe=function(){function e(e){this.origRect=Object(l.N)(e),this.scrollCaches=Object(l.lb)(e).map(function(e){return new de(e,!0)})}return e.prototype.destroy=function(){for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy()},e.prototype.computeLeft=function(){for(var e=this.origRect.left,t=0,n=this.scrollCaches;t<n.length;t++){var r=n[t];e+=r.origScrollLeft-r.getScrollLeft()}return e},e.prototype.computeTop=function(){for(var e=this.origRect.top,t=0,n=this.scrollCaches;t<n.length;t++){var r=n[t];e+=r.origScrollTop-r.getScrollTop()}return e},e.prototype.isWithinClipping=function(e,t){for(var n,r={left:e,top:t},i=0,o=this.scrollCaches;i<o.length;i++){var s=o[i];if("HTML"!==(n=s.getEventTarget().tagName)&&"BODY"!==n&&!Object(l.Kb)(r,s.clientRect))return!1}return!0},e}(),ve=function(){function e(e,t){var n=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(e){var t=n.dragging;n.initialHit=null,n.movingHit=null,n.finalHit=null,n.prepareHits(),n.processFirstCoord(e),n.initialHit||!n.requireInitial?(t.setIgnoreMove(!1),n.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=function(e){n.emitter.trigger("dragstart",e),n.handleMove(e,!0)},this.handleDragMove=function(e){n.emitter.trigger("dragmove",e),n.handleMove(e)},this.handlePointerUp=function(e){n.releaseHits(),n.emitter.trigger("pointerup",e)},this.handleDragEnd=function(e){n.movingHit&&n.emitter.trigger("hitupdate",null,!0,e),n.finalHit=n.movingHit,n.movingHit=null,n.emitter.trigger("dragend",e)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new l.i}return e.prototype.processFirstCoord=function(e){var t,n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl;i!==document&&(t=Object(l.N)(i),r=Object(l.P)(r,t));var o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&t){var s=Object(l.yb)(t,o.rect);s&&(r=Object(l.ob)(s))}this.coordAdjust=Object(l.Z)(r,n)}else this.coordAdjust={left:0,top:0}},e.prototype.handleMove=function(e,t){var n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);!t&&me(this.movingHit,n)||(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))},e.prototype.prepareHits=function(){this.offsetTrackers=Object(l.Db)(this.droppableStore,function(e){return e.component.buildPositionCaches(),new fe(e.el)})},e.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var t in e)e[t].destroy();this.offsetTrackers={}},e.prototype.queryHitForOffset=function(e,t){var n=this.droppableStore,r=this.offsetTrackers,i=null;for(var o in n){var s=n[o].component,a=r[o];if(a.isWithinClipping(e,t)){var c=a.computeLeft(),d=a.computeTop(),h=e-c,u=t-d,p=a.origRect,g=p.right-p.left,f=p.bottom-p.top;if(h>=0&&h<g&&u>=0&&u<f){var v=s.queryHit(h,u,g,f);!v||s.props.dateProfile&&!Object(l.Pb)(s.props.dateProfile.activeRange,v.dateSpan.range)||i&&!(v.layer>i.layer)||(v.rect.left+=c,v.rect.right+=c,v.rect.top+=d,v.rect.bottom+=d,i=v)}}}return i},e}();function me(e,t){return!e&&!t||Boolean(e)===Boolean(t)&&Object(l.zb)(e.dateSpan,t.dateSpan)}var be=function(e){function t(t){var n=e.call(this,t)||this;n.handlePointerDown=function(e){var t=n.dragging;t.setIgnoreMove(!n.component.isValidDateDownEl(t.pointer.downEl))},n.handleDragEnd=function(e){var t=n.component.context,r=t.calendar,i=t.view;if(!n.dragging.pointer.wasTouchScroll){var o=n.hitDragging,s=o.initialHit,a=o.finalHit;s&&a&&me(s,a)&&r.triggerDateClick(s.dateSpan,s.dayEl,i,e.origEvent)}},n.dragging=new ge(t.component.el),n.dragging.autoScroller.isEnabled=!1;var r=n.hitDragging=new ve(n.dragging,Object(l.wb)(t));return r.emitter.on("pointerdown",n.handlePointerDown),r.emitter.on("dragend",n.handleDragEnd),n}return te(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t}(l.m),ye=function(e){function t(t){var n=e.call(this,t)||this;n.dragSelection=null,n.handlePointerDown=function(e){var t=n.component,r=n.dragging,i=t.context.options.selectable&&t.isValidDateDownEl(e.origEvent.target);r.setIgnoreMove(!i),r.delay=e.isTouch?function(e){var t=e.context.options,n=t.selectLongPressDelay;return null==n&&(n=t.longPressDelay),n}(t):null},n.handleDragStart=function(e){n.component.context.calendar.unselect(e)},n.handleHitUpdate=function(e,t){var r=n.component.context.calendar,i=null,o=!1;e&&((i=function(e,t,n){var r=e.dateSpan,i=t.dateSpan,o=[r.range.start,r.range.end,i.range.start,i.range.end];o.sort(l.G);for(var s={},a=0,c=n;a<c.length;a++){var d=(0,c[a])(e,t);if(!1===d)return null;d&&ne(s,d)}return s.range={start:o[0],end:o[3]},s.allDay=r.allDay,s}(n.hitDragging.initialHit,e,r.pluginSystem.hooks.dateSelectionTransformers))&&n.component.isDateSelectionValid(i)||(o=!0,i=null)),i?r.dispatch({type:"SELECT_DATES",selection:i}):t||r.dispatch({type:"UNSELECT_DATES"}),o?Object(l.bb)():Object(l.fb)(),t||(n.dragSelection=i)},n.handlePointerUp=function(e){n.dragSelection&&(n.component.context.calendar.triggerDateSelect(n.dragSelection,e),n.dragSelection=null)};var r=t.component,i=r.context.options,o=n.dragging=new ge(r.el);o.touchScrollAllowed=!1,o.minDistance=i.selectMinDistance||0,o.autoScroller.isEnabled=i.dragScroll;var s=n.hitDragging=new ve(n.dragging,Object(l.wb)(t));return s.emitter.on("pointerdown",n.handlePointerDown),s.emitter.on("dragstart",n.handleDragStart),s.emitter.on("hitupdate",n.handleHitUpdate),s.emitter.on("pointerup",n.handlePointerUp),n}return te(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t}(l.m),Se=function(e){function t(n){var r=e.call(this,n)||this;r.subjectSeg=null,r.isDragging=!1,r.eventRange=null,r.relevantEvents=null,r.receivingCalendar=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(e){var t=e.origEvent.target,n=r.component,i=r.dragging,o=i.mirror,s=n.context.options,a=n.context.calendar,c=r.subjectSeg=Object(l.nb)(e.subjectEl),d=(r.eventRange=c.eventRange).instance.instanceId;r.relevantEvents=Object(l.pb)(a.state.eventStore,d),i.minDistance=e.isTouch?0:s.eventDragMinDistance,i.delay=e.isTouch&&d!==n.props.eventSelection?function(e){var t=e.context.options,n=t.eventLongPressDelay;return null==n&&(n=t.longPressDelay),n}(n):null,o.parentNode=a.el,o.revertDuration=s.dragRevertDuration;var h=n.isValidSegDownEl(t)&&!Object(l.db)(t,".fc-resizer");i.setIgnoreMove(!h),r.isDragging=h&&e.subjectEl.classList.contains("fc-draggable")},r.handleDragStart=function(e){var t=r.component.context,n=t.calendar,i=r.eventRange,o=i.instance.instanceId;e.isTouch?o!==r.component.props.eventSelection&&n.dispatch({type:"SELECT_EVENT",eventInstanceId:o}):n.dispatch({type:"UNSELECT_EVENT"}),r.isDragging&&(n.unselect(e),n.publiclyTrigger("eventDragStart",[{el:r.subjectSeg.el,event:new l.j(n,i.def,i.instance),jsEvent:e.origEvent,view:t.view}]))},r.handleHitUpdate=function(e,t){if(r.isDragging){var n=r.relevantEvents,i=r.hitDragging.initialHit,o=r.component.context.calendar,s=null,a=null,c=null,d=!1,h={affectedEvents:n,mutatedEvents:Object(l.S)(),isEvent:!0,origSeg:r.subjectSeg};if(e){var u=e.component,p=u.context.options;o===(s=u.context.calendar)||p.editable&&p.droppable?(a=function(e,t,n){var r=e.dateSpan,i=t.dateSpan,o=r.range.start,s=i.range.start,a={};r.allDay!==i.allDay&&(a.allDay=i.allDay,a.hasEnd=t.component.context.options.allDayMaintainDuration,i.allDay&&(o=Object(l.Rb)(o)));var c=Object(l.X)(o,s,e.component.context.dateEnv,e.component===t.component?e.component.largeUnit:null);c.milliseconds&&(a.allDay=!1);for(var d={datesDelta:c,standardProps:a},h=0,u=n;h<u.length;h++)(0,u[h])(d,e,t);return d}(i,e,s.pluginSystem.hooks.eventDragMutationMassagers))&&(c=Object(l.A)(n,s.eventUiBases,a,s),h.mutatedEvents=c,u.isInteractionValid(h)||(d=!0,a=null,c=null,h.mutatedEvents=Object(l.S)())):s=null}r.displayDrag(s,h),d?Object(l.bb)():Object(l.fb)(),t||(o===s&&me(i,e)&&(a=null),r.dragging.setMirrorNeedsRevert(!a),r.dragging.setMirrorIsVisible(!e||!document.querySelector(".fc-mirror")),r.receivingCalendar=s,r.validMutation=a,r.mutatedRelevantEvents=c)}},r.handlePointerUp=function(){r.isDragging||r.cleanup()},r.handleDragEnd=function(e){if(r.isDragging){var t=r.component.context,n=t.calendar,i=t.view,o=r.receivingCalendar,s=r.validMutation,a=r.eventRange.def,c=r.eventRange.instance,d=new l.j(n,a,c),h=r.relevantEvents,u=r.mutatedRelevantEvents,p=r.hitDragging.finalHit;if(r.clearDrag(),n.publiclyTrigger("eventDragStop",[{el:r.subjectSeg.el,event:d,jsEvent:e.origEvent,view:i}]),s){if(o===n){n.dispatch({type:"MERGE_EVENTS",eventStore:u});for(var g={},f=0,v=n.pluginSystem.hooks.eventDropTransformers;f<v.length;f++)ne(g,(0,v[f])(s,n));var m=ne({},g,{el:e.subjectEl,delta:s.datesDelta,oldEvent:d,event:new l.j(n,u.defs[a.defId],c?u.instances[c.instanceId]:null),revert:function(){n.dispatch({type:"MERGE_EVENTS",eventStore:h})},jsEvent:e.origEvent,view:i});n.publiclyTrigger("eventDrop",[m])}else if(o){n.publiclyTrigger("eventLeave",[{draggedEl:e.subjectEl,event:d,view:i}]),n.dispatch({type:"REMOVE_EVENT_INSTANCES",instances:r.mutatedRelevantEvents.instances}),o.dispatch({type:"MERGE_EVENTS",eventStore:r.mutatedRelevantEvents}),e.isTouch&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:c.instanceId});var b=ne({},o.buildDatePointApi(p.dateSpan),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:p.component});o.publiclyTrigger("drop",[b]),o.publiclyTrigger("eventReceive",[{draggedEl:e.subjectEl,event:new l.j(o,u.defs[a.defId],u.instances[c.instanceId]),view:p.component}])}}else n.publiclyTrigger("_noEventDrop")}r.cleanup()};var i=r.component,o=i.context.options,s=r.dragging=new ge(i.el);s.pointer.selector=t.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=o.dragScroll;var a=r.hitDragging=new ve(r.dragging,l.vb);return a.useSubjectCenter=n.useEventCenter,a.emitter.on("pointerdown",r.handlePointerDown),a.emitter.on("dragstart",r.handleDragStart),a.emitter.on("hitupdate",r.handleHitUpdate),a.emitter.on("pointerup",r.handlePointerUp),a.emitter.on("dragend",r.handleDragEnd),r}return te(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t.prototype.displayDrag=function(e,t){var n=this.receivingCalendar;n&&n!==e&&n.dispatch(n===this.component.context.calendar?{type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Object(l.S)(),isEvent:!0,origSeg:t.origSeg}}:{type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},t.prototype.clearDrag=function(){var e=this.component.context.calendar,t=this.receivingCalendar;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})},t.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingCalendar=null,this.validMutation=null,this.mutatedRelevantEvents=null},t.SELECTOR=".fc-draggable, .fc-resizable",t}(l.m),Ee=function(e){function t(t){var n=e.call(this,t)||this;n.draggingSeg=null,n.eventRange=null,n.relevantEvents=null,n.validMutation=null,n.mutatedRelevantEvents=null,n.handlePointerDown=function(e){var t=n.component,r=n.querySeg(e),i=n.eventRange=r.eventRange;n.dragging.minDistance=t.context.options.eventDragMinDistance,n.dragging.setIgnoreMove(!n.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&n.component.props.eventSelection!==i.instance.instanceId)},n.handleDragStart=function(e){var t=n.component.context,r=t.calendar,i=t.view,o=n.eventRange;n.relevantEvents=Object(l.pb)(r.state.eventStore,n.eventRange.instance.instanceId),n.draggingSeg=n.querySeg(e),r.unselect(),r.publiclyTrigger("eventResizeStart",[{el:n.draggingSeg.el,event:new l.j(r,o.def,o.instance),jsEvent:e.origEvent,view:i}])},n.handleHitUpdate=function(e,t,r){var i=n.component.context.calendar,o=n.relevantEvents,s=n.hitDragging.initialHit,a=n.eventRange.instance,c=null,d=null,h=!1,u={affectedEvents:o,mutatedEvents:Object(l.S)(),isEvent:!0,origSeg:n.draggingSeg};e&&(c=function(e,t,n,r,i){for(var o=e.component.context.dateEnv,s=e.dateSpan.range.start,a=t.dateSpan.range.start,c=Object(l.X)(s,a,o,e.component.largeUnit),d={},h=0,u=i;h<u.length;h++){var p=(0,u[h])(e,t);if(!1===p)return null;p&&ne(d,p)}if(n){if(o.add(r.start,c)<r.end)return d.startDelta=c,d}else if(o.add(r.end,c)>r.start)return d.endDelta=c,d;return null}(s,e,r.subjectEl.classList.contains("fc-start-resizer"),a.range,i.pluginSystem.hooks.eventResizeJoinTransforms)),c&&(d=Object(l.A)(o,i.eventUiBases,c,i),u.mutatedEvents=d,n.component.isInteractionValid(u)||(h=!0,c=null,d=null,u.mutatedEvents=null)),i.dispatch(d?{type:"SET_EVENT_RESIZE",state:u}:{type:"UNSET_EVENT_RESIZE"}),h?Object(l.bb)():Object(l.fb)(),t||(c&&me(s,e)&&(c=null),n.validMutation=c,n.mutatedRelevantEvents=d)},n.handleDragEnd=function(e){var t=n.component.context,r=t.calendar,i=t.view,o=n.eventRange.def,s=n.eventRange.instance,a=new l.j(r,o,s),c=n.relevantEvents,d=n.mutatedRelevantEvents;r.publiclyTrigger("eventResizeStop",[{el:n.draggingSeg.el,event:a,jsEvent:e.origEvent,view:i}]),n.validMutation?(r.dispatch({type:"MERGE_EVENTS",eventStore:d}),r.publiclyTrigger("eventResize",[{el:n.draggingSeg.el,startDelta:n.validMutation.startDelta||Object(l.Q)(0),endDelta:n.validMutation.endDelta||Object(l.Q)(0),prevEvent:a,event:new l.j(r,d.defs[o.defId],s?d.instances[s.instanceId]:null),revert:function(){r.dispatch({type:"MERGE_EVENTS",eventStore:c})},jsEvent:e.origEvent,view:i}])):r.publiclyTrigger("_noEventResize"),n.draggingSeg=null,n.relevantEvents=null,n.validMutation=null};var r=t.component,i=n.dragging=new ge(r.el);i.pointer.selector=".fc-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.context.options.dragScroll;var o=n.hitDragging=new ve(n.dragging,Object(l.wb)(t));return o.emitter.on("pointerdown",n.handlePointerDown),o.emitter.on("dragstart",n.handleDragStart),o.emitter.on("hitupdate",n.handleHitUpdate),o.emitter.on("dragend",n.handleDragEnd),n}return te(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t.prototype.querySeg=function(e){return Object(l.nb)(Object(l.db)(e.subjectEl,this.component.fgSegSelector))},t}(l.m),we=function(){function e(e){var t=this;this.isRecentPointerDateSelect=!1,this.onSelect=function(e){e.jsEvent&&(t.isRecentPointerDateSelect=!0)},this.onDocumentPointerUp=function(e){var n=t.calendar,r=t.documentPointer,i=n.state;if(!r.wasTouchScroll){if(i.dateSelection&&!t.isRecentPointerDateSelect){var o=n.viewOpt("unselectAuto"),s=n.viewOpt("unselectCancel");!o||o&&Object(l.db)(r.downEl,s)||n.unselect(e)}i.eventSelection&&!Object(l.db)(r.downEl,Se.SELECTOR)&&n.dispatch({type:"UNSELECT_EVENT"})}t.isRecentPointerDateSelect=!1},this.calendar=e;var n=this.documentPointer=new se(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerup",this.onDocumentPointerUp),e.on("select",this.onSelect)}return e.prototype.destroy=function(){this.calendar.off("select",this.onSelect),this.documentPointer.destroy()},e}();!function(){function e(e,t){var n=this;this.receivingCalendar=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(e){n.dragMeta=n.buildDragMeta(e.subjectEl)},this.handleHitUpdate=function(e,t,r){var i=n.hitDragging.dragging,o=null,s=null,a=!1,c={affectedEvents:Object(l.S)(),mutatedEvents:Object(l.S)(),isEvent:n.dragMeta.create,origSeg:null};e&&n.canDropElOnCalendar(r.subjectEl,o=e.component.context.calendar)&&(s=function(e,t,n){for(var r=ne({},t.leftoverProps),i=0,o=n.pluginSystem.hooks.externalDefTransforms;i<o.length;i++)ne(r,(0,o[i])(e,t));var s=Object(l.Jb)(r,t.sourceId,e.allDay,n.opt("forceEventDuration")||Boolean(t.duration),n),a=e.range.start;e.allDay&&t.startTime&&(a=n.dateEnv.add(a,t.startTime));var c=t.duration?n.dateEnv.add(a,t.duration):n.getDefaultEventEnd(e.allDay,a);return{def:s,instance:Object(l.T)(s.defId,{start:a,end:c})}}(e.dateSpan,n.dragMeta,o),c.mutatedEvents=Object(l.gb)(s),(a=!Object(l.Ab)(c,o))&&(c.mutatedEvents=Object(l.S)(),s=null)),n.displayDrag(o,c),i.setMirrorIsVisible(t||!s||!document.querySelector(".fc-mirror")),a?Object(l.bb)():Object(l.fb)(),t||(i.setMirrorNeedsRevert(!s),n.receivingCalendar=o,n.droppableEvent=s)},this.handleDragEnd=function(e){var t=n.receivingCalendar,r=n.droppableEvent;if(n.clearDrag(),t&&r){var i=n.hitDragging.finalHit,o=i.component.context.view,s=n.dragMeta,a=ne({},t.buildDatePointApi(i.dateSpan),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:o});t.publiclyTrigger("drop",[a]),s.create&&(t.dispatch({type:"MERGE_EVENTS",eventStore:Object(l.gb)(r)}),e.isTouch&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:r.instance.instanceId}),t.publiclyTrigger("eventReceive",[{draggedEl:e.subjectEl,event:new l.j(t,r.def,r.instance),view:o}]))}n.receivingCalendar=null,n.droppableEvent=null};var r=this.hitDragging=new ve(e,l.vb);r.requireInitial=!1,r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=t}e.prototype.buildDragMeta=function(e){return"object"==typeof this.suppliedDragMeta?Object(l.Ib)(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?Object(l.Ib)(this.suppliedDragMeta(e)):(r=(n=e.getAttribute("data-"+((t=l.O.dataAttrPrefix)?t+"-":"")+"event")||"")?JSON.parse(n):{create:!1},Object(l.Ib)(r));var t,n,r},e.prototype.displayDrag=function(e,t){var n=this.receivingCalendar;n&&n!==e&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},e.prototype.clearDrag=function(){this.receivingCalendar&&this.receivingCalendar.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.canDropElOnCalendar=function(e,t){var n=t.opt("dropAccept");return"function"==typeof n?n(e):"string"!=typeof n||!n||Boolean(Object(l.eb)(e,n))}}(),l.O.dataAttrPrefix="",function(e){function t(t){var n=e.call(this,t)||this;n.shouldIgnoreMove=!1,n.mirrorSelector="",n.currentMirrorEl=null,n.handlePointerDown=function(e){n.emitter.trigger("pointerdown",e),n.shouldIgnoreMove||n.emitter.trigger("dragstart",e)},n.handlePointerMove=function(e){n.shouldIgnoreMove||n.emitter.trigger("dragmove",e)},n.handlePointerUp=function(e){n.emitter.trigger("pointerup",e),n.shouldIgnoreMove||n.emitter.trigger("dragend",e)};var r=n.pointer=new se(t);return r.emitter.on("pointerdown",n.handlePointerDown),r.emitter.on("pointermove",n.handlePointerMove),r.emitter.on("pointerup",n.handlePointerUp),n}te(t,e),t.prototype.destroy=function(){this.pointer.destroy()},t.prototype.setIgnoreMove=function(e){this.shouldIgnoreMove=e},t.prototype.setMirrorIsVisible=function(e){if(e)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var t=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;t&&(this.currentMirrorEl=t,t.style.visibility="hidden")}}}(l.g);var De=Object(l.V)({componentInteractions:[be,ye,Se,Ee],calendarInteractions:[we],elementDraggingImpl:ge}),Ce=n("I83f"),Oe=n.n(Ce),Te=n("J7/z"),je=n("3Pt+"),Re=function(e){return e[e.Add=0]="Add",e[e.Modified=1]="Modified",e[e.Delete=2]="Delete",e}({}),Ie=n("sGCn"),xe=n("fXoL"),Me=n("7kUa"),He=n("rLzU"),Pe=n("eO1q"),Ge=n("jIHw");function ke(e,t){1&e&&(xe.Tb(0,"small",14),xe.Tb(1,"span"),xe.Kc(2," T\xedtulo es requerido, longitud m\xe1xima de 80 caracteres. "),xe.Sb(),xe.Kc(3,"\xa0 "),xe.Sb())}function Ne(e,t){if(1&e&&(xe.Tb(0,"small",14),xe.Tb(1,"span"),xe.Kc(2),xe.Sb(),xe.Kc(3,"\xa0 "),xe.Sb()),2&e){const e=xe.ec();xe.Bb(2),xe.Mc(" ",e.eventForm.value.allDay?"Fecha":"Fecha y Hora de inicio"," es requerido. ")}}function Be(e,t){1&e&&(xe.Tb(0,"small",14),xe.Tb(1,"span"),xe.Kc(2," Fecha y Hora de fin debe ser mayor a la de inicio. "),xe.Sb(),xe.Kc(3,"\xa0 "),xe.Sb())}function Le(e,t){if(1&e&&(xe.Tb(0,"div",1),xe.Tb(1,"label",15),xe.Kc(2,"Fecha y Hora de fin"),xe.Sb(),xe.Ob(3,"p-calendar",16,17),xe.Ic(5,Be,4,0,"small",4),xe.Sb()),2&e){const e=xe.ec();xe.Bb(3),xe.lc("showIcon",!0)("showButtonBar",!0)("monthNavigator",!0)("yearNavigator",!0)("stepMinute",15)("yearRange",e.min_year+":"+e.max_year)("showTime",!0),xe.Bb(2),xe.lc("ngIf",e.isEndValid())}}function _e(e,t){1&e&&(xe.Tb(0,"label"),xe.Kc(1,"\xa0"),xe.Sb())}function ze(e,t){if(1&e&&(xe.Tb(0,"div",18),xe.Ic(1,_e,2,0,"label",19),xe.Ob(2,"button",20),xe.Sb()),2&e){const e=xe.ec();xe.Bb(1),xe.lc("ngIf",e.innerWidth>767)}}function Ae(e,t){1&e&&(xe.Tb(0,"label"),xe.Kc(1,"\xa0"),xe.Sb())}function Ve(e,t){if(1&e){const e=xe.Ub();xe.Tb(0,"div",18),xe.Ic(1,Ae,2,0,"label",19),xe.Tb(2,"button",21),xe.ac("click",function(){return xe.Cc(e),xe.ec().deleteEvent()}),xe.Sb(),xe.Sb()}if(2&e){const e=xe.ec();xe.Bb(1),xe.lc("ngIf",e.innerWidth>767)}}function Fe(e,t){1&e&&(xe.Tb(0,"label"),xe.Kc(1,"\xa0"),xe.Sb())}function We(e,t){if(1&e){const e=xe.Ub();xe.Tb(0,"div"),xe.Ic(1,Fe,2,0,"label",19),xe.Tb(2,"button",22),xe.ac("click",function(){return xe.Cc(e),xe.ec().closeDialog()}),xe.Sb(),xe.Sb()}if(2&e){const e=xe.ec();xe.Db("p-field p-col-12 p-md-"+(e.event.id?"12":"6")),xe.Bb(1),xe.lc("ngIf",e.innerWidth>767&&!e.event.id)}}function Ue(e,t){1&e&&(xe.Tb(0,"label"),xe.Kc(1,"\xa0"),xe.Sb())}function Ye(e,t){if(1&e){const e=xe.Ub();xe.Tb(0,"div",1),xe.Ic(1,Ue,2,0,"label",19),xe.Tb(2,"button",23),xe.ac("click",function(){return xe.Cc(e),xe.ec().closeDialog()}),xe.Sb(),xe.Sb()}if(2&e){const e=xe.ec();xe.Bb(1),xe.lc("ngIf",e.innerWidth>767)}}let qe=(()=>{class e{constructor(e,t,n){this.fb=e,this.ref=t,this.config=n,this.min_year=2021,this.max_year=(new Date).getFullYear()+3,this.eventForm=this.fb.group({title:[,[je.p.required,je.p.maxLength(80),je.p.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]],start:[,[je.p.required]],end:[,],allDay:[,]})}isFieldValid(e){return this.eventForm.controls[e].errors&&this.eventForm.controls[e].touched}onResize(e){this.innerWidth=window.innerWidth}ngOnInit(){var e,t,n,r,i;this.innerWidth=window.innerWidth,this.isAdmin=(null===(e=Object(Ie.a)())||void 0===e?void 0:e.role_id)===s.a.USER_ADMIN,this.isAdmin||(null===(t=this.eventForm.get("title"))||void 0===t||t.disable(),null===(n=this.eventForm.get("start"))||void 0===n||n.disable(),null===(r=this.eventForm.get("end"))||void 0===r||r.disable(),null===(i=this.eventForm.get("allDay"))||void 0===i||i.disable()),this.event=this.config.data.event,this.eventForm.reset({title:this.event.title,start:this.event.start,end:this.event.end,allDay:this.event.allDay})}submit(){this.eventForm.invalid?this.eventForm.markAllAsTouched():this.event.id&&this.verifyChanges()||(this.event.title=this.eventForm.value.title,this.event.start=this.eventForm.value.start,this.event.end=this.eventForm.value.end,this.event.allDay=this.eventForm.value.allDay,this.isEndValid()||this.ref.close({event:this.event,action:this.event.id?Re.Modified:Re.Add}))}deleteEvent(){this.ref.close({event:this.event,action:Re.Delete})}closeDialog(){this.ref.close()}verifyChanges(){var e,t,n,r;return this.event.title==this.eventForm.value.title&&(null===(e=this.event.start)||void 0===e?void 0:e.getTime())==(null===(t=this.eventForm.value.start)||void 0===t?void 0:t.getTime())&&(null===(n=this.event.end)||void 0===n?void 0:n.getTime())==(null===(r=this.eventForm.value.end)||void 0===r?void 0:r.getTime())&&this.event.allDay==this.eventForm.value.allDay}isEndValid(){return!this.event.allDay&&!!this.event.end&&(this.event.start=new Date(this.event.start),this.event.end=new Date(this.event.end),this.event.start.getTime()>=this.event.end.getTime())}}return e.\u0275fac=function(t){return new(t||e)(xe.Nb(je.c),xe.Nb(Te.d),xe.Nb(Te.b))},e.\u0275cmp=xe.Hb({type:e,selectors:[["app-detail"]],hostBindings:function(e,t){1&e&&xe.ac("resize",function(e){return t.onResize(e)},!1,xe.Bc)},decls:22,vars:16,consts:[[1,"p-fluid","p-formgrid","p-grid",3,"formGroup","ngSubmit"],[1,"p-field","p-col-12","p-md-12"],["for","title"],["id","title","formControlName","title","type","text","pInputText",""],["class","p-error",4,"ngIf"],[1,"p-field","p-col-12","p-md-12","p-mt-2"],["for","allDay"],["name","allDay","formControlName","allDay"],["for","start"],["appendTo","body","dateFormat","dd/mm/yy","formControlName","start","inputId","time",3,"showIcon","showButtonBar","monthNavigator","yearNavigator","stepMinute","yearRange","showTime"],["start",""],["class","p-field p-col-12 p-md-12",4,"ngIf"],["class","p-field p-col-12 p-md-6",4,"ngIf"],[3,"class",4,"ngIf"],[1,"p-error"],["for","end"],["appendTo","body","dateFormat","dd/mm/yy","formControlName","end","inputId","time",3,"showIcon","showButtonBar","monthNavigator","yearNavigator","stepMinute","yearRange","showTime"],["end",""],[1,"p-field","p-col-12","p-md-6"],[4,"ngIf"],["type","submit","pButton","","label","Guardar","icon","pi pi-save"],["type","button","pButton","","label","Eliminar","icon","pi pi-trash",1,"p-button-danger",3,"click"],["type","button","pButton","","label","Cancelar","icon","pi pi-times",1,"p-button-secondary",3,"click"],["type","button","pButton","","label","Cerrar","icon","pi pi-times",1,"p-button-danger",3,"click"]],template:function(e,t){1&e&&(xe.Tb(0,"form",0),xe.ac("ngSubmit",function(){return t.submit()}),xe.Tb(1,"div",1),xe.Tb(2,"label",2),xe.Kc(3,"T\xedtulo"),xe.Sb(),xe.Ob(4,"input",3),xe.Ic(5,ke,4,0,"small",4),xe.Sb(),xe.Tb(6,"div",5),xe.Tb(7,"label",6),xe.Kc(8,"Todo el d\xeda \xa0"),xe.Sb(),xe.Ob(9,"br"),xe.Ob(10,"p-inputSwitch",7),xe.Sb(),xe.Tb(11,"div",1),xe.Tb(12,"label",8),xe.Kc(13),xe.Sb(),xe.Ob(14,"p-calendar",9,10),xe.Ic(16,Ne,4,1,"small",4),xe.Sb(),xe.Ic(17,Le,6,8,"div",11),xe.Ic(18,ze,3,1,"div",12),xe.Ic(19,Ve,3,1,"div",12),xe.Ic(20,We,3,3,"div",13),xe.Ic(21,Ye,3,1,"div",11),xe.Sb()),2&e&&(xe.lc("formGroup",t.eventForm),xe.Bb(5),xe.lc("ngIf",t.isFieldValid("title")),xe.Bb(8),xe.Lc(t.eventForm.value.allDay?"Fecha":"Fecha y Hora de inicio"),xe.Bb(1),xe.lc("showIcon",!0)("showButtonBar",!0)("monthNavigator",!0)("yearNavigator",!0)("stepMinute",15)("yearRange",t.min_year+":"+t.max_year)("showTime",!0),xe.Bb(2),xe.lc("ngIf",t.isFieldValid("start")),xe.Bb(1),xe.lc("ngIf",!t.eventForm.value.allDay),xe.Bb(1),xe.lc("ngIf",t.isAdmin),xe.Bb(1),xe.lc("ngIf",t.isAdmin&&t.event.id),xe.Bb(1),xe.lc("ngIf",t.isAdmin),xe.Bb(1),xe.lc("ngIf",!t.isAdmin))},directives:[je.q,je.j,je.e,je.b,je.i,je.d,Me.a,r.l,He.a,Pe.a,Ge.b],styles:[""]}),e})();var Xe=n("7zfz"),Ke=n("AytR"),Qe=n("tk/3");let $e=(()=>{class e{constructor(e){this.http=e}getEvents(e){return this.http.post(`${Ke.a.urlBase}/api/events/get`,{year:e})}insertOrUpdate(e){return this.http.post(`${Ke.a.urlBase}/api/events/insertOrUpdate`,e)}delete(e){return this.http.delete(`${Ke.a.urlBase}/api/events/delete/${e.id}`)}}return e.\u0275fac=function(t){return new(t||e)(xe.Xb(Qe.b))},e.\u0275prov=xe.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Je=n("Nf9I"),Ze=n("Gxio"),et=n("rEr+"),tt=n("9R/8"),nt=n("arFO"),rt=n("fqaE"),it=n("0ADX");const ot=["calendar"],st=["fc"];function at(e,t){if(1&e){const e=xe.Ub();xe.Tb(0,"p-dropdown",16),xe.ac("ngModelChange",function(t){return xe.Cc(e),xe.ec().currentYear=t})("onChange",function(){return xe.Cc(e),xe.ec().gotoDate()}),xe.Sb(),xe.Ob(1,"h5",17)}if(2&e){const e=xe.ec();xe.lc("options",e.years)("ngModel",e.currentYear)}}function lt(e,t){if(1&e&&xe.Ob(0,"p-badge",21),2&e){const e=xe.ec().$implicit;xe.mc("value",e.count)}}function ct(e,t){if(1&e){const e=xe.Ub();xe.Tb(0,"tr"),xe.Tb(1,"td",18),xe.ac("click",function(){xe.Cc(e);const n=t.$implicit;return xe.ec().gotoDate(n.id)}),xe.Ob(2,"i",19),xe.Kc(3),xe.Ic(4,lt,1,1,"p-badge",20),xe.Sb(),xe.Sb()}if(2&e){const e=t.$implicit,n=xe.ec();xe.Bb(1),xe.Gc("cursor: pointer; padding: "+(n.innerWidth>767?"10px;":"5px")),xe.Bb(2),xe.Mc("\xa0 ",e.name," \xa0 "),xe.Bb(1),xe.lc("ngIf",0!==e.count)}}function dt(e,t){if(1&e){const e=xe.Ub();xe.Tb(0,"button",22),xe.ac("click",function(){return xe.Cc(e),xe.ec().newEvent()}),xe.Sb()}}const ht=function(){return["Eventos","Administrar"]},ut=function(){return["Eventos"]};function pt(e,t){if(1&e&&xe.Ob(0,"app-mini-menu",23),2&e){const e=xe.ec();xe.lc("options",e.isAdmin?xe.pc(2,ht):xe.pc(3,ut))("icon","home")}}const gt=function(){return{width:"50vw"}},ft=function(){return{width:"90%"}},vt=[{path:"",children:[{path:"",component:(()=>{class e{constructor(e,t,n,r){this.eventService=e,this.dialogService=t,this.messageService=n,this.confirmationService=r,this.currentYear=(new Date).getFullYear(),this.years=[],this.months=[{id:1,count:0,name:"Enero"},{id:2,count:0,name:"Febrero"},{id:3,count:0,name:"Marzo"},{id:4,count:0,name:"Abril"},{id:5,count:0,name:"Mayo"},{id:6,count:0,name:"Junio"},{id:7,count:0,name:"Julio"},{id:8,count:0,name:"Agosto"},{id:9,count:0,name:"Septiembre"},{id:10,count:0,name:"Octubre"},{id:11,count:0,name:"Noviembre"},{id:12,count:0,name:"Diciembre"}]}getEvents(e){this.eventService.getEvents(e).subscribe(e=>{this.events=200===e.code?e.list:[],this.months.forEach(e=>{e.count=this.getCountByMonth(e.id)})},e=>{})}getCountByMonth(e){let t=0;return this.events.forEach(n=>{null!=n.start&&(n.start=new Date(n.start),n.start.getMonth()+1==e&&(t+=1))}),t}onResize(e){this.innerWidth=window.innerWidth,this.setOptions()}ngOnInit(){var e;this.innerWidth=window.innerWidth,this.isAdmin=(null===(e=Object(Ie.a)())||void 0===e?void 0:e.role_id)===s.a.USER_ADMIN,this.getEvents(this.currentYear),this.setOptions();for(let t=2021;t<=this.currentYear;t++)this.years.push({name:`A\xf1o ${t.toString()}`,id:t})}setOptions(){this.options={plugins:[P,Z,De],defaultDate:new Date,header:{left:"prev,next,today",center:innerWidth>767?"title":"",right:"dayGridMonth,timeGridWeek,timeGridDay"},locales:[Oe.a],locale:"es",editable:!1,dateClick:e=>{if(!this.isAdmin)return;const{date:t}=e;let n=new Date(t);n.setHours(n.getHours()+1),this.showEventDialog({allDay:!1,start:t,end:n})},eventClick:e=>{const{id:t,allDay:n,start:r,end:i,title:o}=e.event,s={id:parseInt(t),allDay:n,start:r,end:i,title:o};this.showEventDialog(s,!1)}}}ngOnDestroy(){this.ref&&this.ref.close()}newEvent(){let e=new Date,t=new Date(e);t.setHours(e.getHours()+1),this.showEventDialog({allDay:!1,start:e,end:t})}showEventDialog(e,t=!0){this.ref=this.dialogService.open(qe,{data:{event:e},header:this.isAdmin?t?"Nuevo evento":"Editar evento":"Detalle del evento",width:this.innerWidth>767?"45rem":"90%",contentStyle:{"max-height":"1000px",overflow:"auto"},baseZIndex:1}),this.ref.onClose.subscribe(e=>{e&&e.event&&(e.action!==Re.Add&&e.action!==Re.Modified||this.eventService.insertOrUpdate(e.event).subscribe(t=>{this.messageService.add(200==t.code?{key:"tc",severity:"success",summary:"\xc9xito",detail:`Evento ${e.action===Re.Add?"guardado":"editado"} correctamente`}:{key:"tc",severity:"error",summary:"Incorrecto",detail:"El evento no fue "+(e.action===Re.Add?"guardado":"editado")}),this.getEvents(this.currentYear)},e=>{this.messageService.add({key:"tc",severity:"error",summary:"Error",detail:"Cont\xe1ctese con el administrador"})}),e.action===Re.Delete&&this.confirmationService.confirm({message:"\xbfEst\xe1 seguro(a) que quiere eliminar este evento?",header:"Confirmaci\xf3n",icon:"pi pi-info-circle",accept:()=>{this.eventService.delete(e.event).subscribe(e=>{this.messageService.add(200==e.code?{key:"tc",severity:"success",summary:"\xc9xito",detail:"Evento eliminado correctamente"}:{key:"tc",severity:"error",summary:"Incorrecto",detail:"El evento no fue eliminado"}),this.getEvents(this.currentYear)},e=>{this.messageService.add({key:"tc",severity:"error",summary:"Error",detail:"Cont\xe1ctese con el administrador"})})},reject:t=>{this.showEventDialog(e.event,!1)}}))})}gotoDate(e=1){this.getEvents(this.currentYear);const t=new Date(`${this.currentYear}-01-01T00:00:00`).setMonth(e-1);this.fc.getCalendar().gotoDate(t)}showError(e,t="Incorrecto"){this.messageService.add({key:"tc",severity:"error",summary:t,detail:e})}}return e.\u0275fac=function(t){return new(t||e)(xe.Nb($e),xe.Nb(Te.a),xe.Nb(Xe.g),xe.Nb(Xe.a))},e.\u0275cmp=xe.Hb({type:e,selectors:[["app-index"]],viewQuery:function(e,t){if(1&e&&(xe.Qc(ot,1),xe.Qc(st,1)),2&e){let e;xe.yc(e=xe.bc())&&(t.calendar=e.first),xe.yc(e=xe.bc())&&(t.fc=e.first)}},hostBindings:function(e,t){1&e&&xe.ac("resize",function(e){return t.onResize(e)},!1,xe.Bc)},features:[xe.Ab([Te.a,Xe.g,Xe.a])],decls:17,vars:10,consts:[["rejectButtonStyleClass","p-button-text",3,"baseZIndex"],["position","top-center","key","tc"],[1,"p-mt-2"],[1,"p-grid","p-formgrid","p-fluid"],[1,"p-field","p-col-12","p-md-3"],[1,"card","myCard","myBg",2,"margin-bottom","0"],[1,"p-text-left","myTitle",2,"margin-bottom","0"],["styleClass","p-datatable-striped p-mt-2",3,"value"],["pTemplate","header"],["pTemplate","body"],["pButton","","label","Nuevo evento","icon","pi pi-calendar-plus","class","p-mt-2",3,"click",4,"ngIf"],[1,"p-field","p-col-12","p-md-9"],["class","miniMenu",3,"options","icon",4,"ngIf"],[1,"card","myCard","myBg","p-mt-2"],["locale","es",1,"text-color",3,"events","options"],["fc",""],["optionLabel","name","optionValue","id",3,"options","ngModel","ngModelChange","onChange"],[1,"myTitle",2,"margin-bottom","0"],[3,"click"],[1,"pi","pi-calendar","primary-color"],["styleClass","p-mr-2",3,"value",4,"ngIf"],["styleClass","p-mr-2",3,"value"],["pButton","","label","Nuevo evento","icon","pi pi-calendar-plus",1,"p-mt-2",3,"click"],[1,"miniMenu",3,"options","icon"]],template:function(e,t){1&e&&(xe.Ob(0,"p-confirmDialog",0),xe.Ob(1,"p-toast",1),xe.Tb(2,"div",2),xe.Tb(3,"div",3),xe.Tb(4,"div",4),xe.Tb(5,"div",5),xe.Tb(6,"h2",6),xe.Kc(7," Administrar eventos "),xe.Sb(),xe.Tb(8,"p-table",7),xe.Ic(9,at,2,2,"ng-template",8),xe.Ic(10,ct,5,4,"ng-template",9),xe.Sb(),xe.Ic(11,dt,1,0,"button",10),xe.Sb(),xe.Sb(),xe.Tb(12,"div",11),xe.Ic(13,pt,1,4,"app-mini-menu",12),xe.Tb(14,"div",13),xe.Ob(15,"p-fullCalendar",14,15),xe.Sb(),xe.Sb(),xe.Sb(),xe.Sb()),2&e&&(xe.Gc(t.innerWidth>767?xe.pc(8,gt):xe.pc(9,ft)),xe.lc("baseZIndex",1e4),xe.Bb(8),xe.lc("value",t.months),xe.Bb(3),xe.lc("ngIf",t.isAdmin),xe.Bb(2),xe.lc("ngIf",t.innerWidth>767),xe.Bb(2),xe.lc("events",t.events)("options",t.options))},directives:[Je.a,Ze.a,et.b,Xe.i,r.l,tt.a,nt.a,je.i,je.l,rt.a,Ge.b,it.a],styles:[".size[_ngcontent-%COMP%]{height:100%}@media only screen and (max-width:767px){h2[_ngcontent-%COMP%]{font-size:20px!important}}"]}),e})(),canLoad:[a.a],canActivate:[a.a],data:{USER_ROLES:[s.a.USER_ADMIN,s.a.USER],MODULE:o.a.EVENTS}},{path:"**",redirectTo:""}]}];let mt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=xe.Lb({type:e}),e.\u0275inj=xe.Kb({imports:[[i.f.forChild(vt)],i.f]}),e})();var bt=n("uPqY"),yt=n("V/fk");let St=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=xe.Lb({type:e}),e.\u0275inj=xe.Kb({imports:[[r.c,mt,je.o,bt.a,yt.a]]}),e})()},I83f:function(e,t,n){e.exports=function(){"use strict";return{code:"es",week:{dow:1,doy:4},buttonText:{prev:"Ant",next:"Sig",today:"Hoy",month:"Mes",week:"Semana",day:"D\xeda",list:"Agenda"},weekLabel:"Sm",allDayHtml:"Todo<br/>el d\xeda",eventLimitText:"m\xe1s",noEventsMessage:"No hay eventos para mostrar"}}()}}]);