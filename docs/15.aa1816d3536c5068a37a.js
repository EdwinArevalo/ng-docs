(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"9N29":function(e,t,i){"use strict";i.r(t),i.d(t,"UserModule",function(){return Wt});var r=i("ofXK"),n=i("tyNb"),o=i("UKuc"),s=i("dgEK");class a{}var c=i("Zdpv"),l=i("AytR"),u=i("fXoL"),d=i("x4NB"),p=i("jLSX"),m=i("8CEF"),b=i("7zfz"),h=i("6t4m"),f=i("0ADX"),g=i("OZ7R"),v=i("3Pt+"),S=i("7kUa"),I=i("CwEU"),F=i("eO1q"),y=i("arFO"),T=i("jIHw");function w(e,t){1&e&&(u.Tb(0,"label",29),u.Kc(1,"\xa0"),u.Sb())}function _(e,t){1&e&&(u.Tb(0,"label",30),u.Kc(1,"\xa0"),u.Sb())}const B=function(){return{minWidth:"100%"}};function C(e,t){if(1&e){const e=u.Ub();u.Tb(0,"div",2),u.Tb(1,"div",3),u.Tb(2,"label",31),u.Kc(3,"Rol"),u.Sb(),u.Tb(4,"p-dropdown",32),u.ac("ngModelChange",function(t){return u.Cc(e),u.ec().userFilter.role_id=t}),u.Sb(),u.Sb(),u.Tb(5,"div",3),u.Tb(6,"label",31),u.Kc(7,"Cargo"),u.Sb(),u.Tb(8,"p-dropdown",33),u.ac("ngModelChange",function(t){return u.Cc(e),u.ec().userFilter.ocupation_id=t}),u.Sb(),u.Sb(),u.Sb()}if(2&e){const e=u.ec();u.Bb(4),u.Gc(u.pc(10,B)),u.lc("options",e.roles)("ngModel",e.userFilter.role_id)("showClear",!0),u.Bb(4),u.Gc(u.pc(11,B)),u.lc("options",e.occupations)("ngModel",e.userFilter.ocupation_id)("showClear",!0)}}function O(e,t){if(1&e){const e=u.Ub();u.Tb(0,"div",2),u.Tb(1,"div",22),u.Tb(2,"label",31),u.Kc(3,"Rol"),u.Sb(),u.Tb(4,"p-dropdown",32),u.ac("ngModelChange",function(t){return u.Cc(e),u.ec().userFilter.role_id=t}),u.Sb(),u.Sb(),u.Sb()}if(2&e){const e=u.ec();u.Bb(4),u.Gc(u.pc(5,B)),u.lc("options",e.roles)("ngModel",e.userFilter.role_id)("showClear",!0)}}let x=(()=>{class e{constructor(e){this.commonService=e,this.max_date=new Date,this.min_year=2021,this.max_year=(new Date).getFullYear(),this.userFilter=new a,this.filterEvent=new u.n,this.closeFilter=new u.n,this.userFilterInput=new a,this.occupations=[],this.roles=[],this.status=[]}onResize(e){this.innerWidth=window.innerWidth}ngOnInit(){this.innerWidth=window.innerWidth,this.commonService.getOcuppations().subscribe(e=>{200==e.code&&(this.occupations=e.list,this.occupations.unshift({id:void 0,name:"Todas"}))}),this.roles=[{name:"Todos",value:null},{name:"Usuario",value:1},{name:"Administrador",value:2}],this.status=[{name:"Todos",value:null},{name:"Habilitado",value:!0},{name:"Inhabilitado",value:!1}],this.loadFilters()}loadFilters(){this.userFilter=Object.assign({},this.userFilterInput),this.userFilter.date_from&&(this.date_from=new Date(`${this.userFilter.date_from} 00:00:00`)),this.userFilter.date_to&&(this.date_to=new Date(`${this.userFilter.date_to} 00:00:00`))}search(){this.userFilter.role_id==o.a.USER_ADMIN&&(this.userFilter.ocupation_id=void 0),this.userFilter.date_from=this.date_from?this.date_from.toISOString().split("T")[0]:"",this.userFilter.date_to=this.date_to?this.date_to.toISOString().split("T")[0]:"",localStorage.setItem("userFilter",JSON.stringify(this.userFilter)),this.filterEvent.emit(this.userFilter)}closeDialog(){this.closeFilter.emit(!0)}clear(){this.userFilter=new a,this.date_from=void 0,this.date_to=void 0,this.userFilter.page=this.userFilterInput.page,this.userFilter.size=this.userFilterInput.size}}return e.\u0275fac=function(t){return new(t||e)(u.Nb(g.a))},e.\u0275cmp=u.Hb({type:e,selectors:[["app-user-filter"]],hostBindings:function(e,t){1&e&&u.ac("resize",function(e){return t.onResize(e)},!1,u.Bc)},inputs:{userFilterInput:"userFilterInput"},outputs:{filterEvent:"filterEvent",closeFilter:"closeFilter"},decls:59,vars:36,consts:[[1,"p-m-4",3,"ngSubmit"],[1,"myFormFilter"],[1,"p-fluid","p-formgrid","p-grid"],[1,"p-field","p-col-12","p-md-6"],["for","first_name"],["placeholder","Primer nombre","name","user.first_name","autocomplete","off","id","first_name","type","text","pInputText","",3,"ngModel","ngModelChange"],["for","second_name",4,"ngIf"],["placeholder","Segundo nombre","name","second_name","autocomplete","off","id","second_name","type","text","pInputText","",3,"ngModel","ngModelChange"],["for","first_surname"],["placeholder","Primer apellido","name","first_surname","autocomplete","off","id","first_surname","type","text","pInputText","",3,"ngModel","ngModelChange"],["for","second_surname",4,"ngIf"],["placeholder","Segundo apellido","name","second_surname","autocomplete","off","id","second_surname","type","text","pInputText","",3,"ngModel","ngModelChange"],["for","name"],["placeholder","Direcci\xf3n email","name","email","autocomplete","off","id","name","type","email","pInputText","",3,"ngModel","ngModelChange"],["name","dni","mask","99999999","placeholder","N\xfamero dni",3,"ngModel","unmask","autoClear","ngModelChange"],["for","dateFrom"],["dateFormat","dd/mm/yy","name","dateFrom","id","dateFrom","inputId","navigators",3,"showIcon","appendTo","showButtonBar","placeholder","ngModel","monthNavigator","yearNavigator","yearRange","maxDate","ngModelChange"],["date_From",""],["for","dateTo"],["dateFormat","dd/mm/yy","name","dateTo","id","dateTo","inputId","navigators",3,"showIcon","appendTo","showButtonBar","placeholder","ngModel","monthNavigator","yearNavigator","yearRange","maxDate","ngModelChange"],["date_To",""],["class","p-fluid p-formgrid p-grid",4,"ngIf"],[1,"p-field","p-col-12","p-md-12"],["for","status"],["placeholder","\xa0","name","status","optionValue","value","optionLabel","name",3,"options","ngModel","showClear","ngModelChange"],["for",""],["pButton","","pRipple","","type","submit","label","Buscar","icon","pi pi-search",1,"myBtnInput","p-button-raised","p-button-primary"],["pButton","","pRipple","","type","button","label","Restablecer","icon","pi pi-replay",1,"myBtnInput","p-button-raised","p-button-secondary",3,"click"],["pButton","","pRipple","","type","button","label","Cerrar","icon","pi pi-times",1,"myBtnInput","p-button-raised","p-button-danger",3,"click"],["for","second_name"],["for","second_surname"],["for","type"],["placeholder","\xa0","name","role_id","optionValue","value","optionLabel","name",3,"options","ngModel","showClear","ngModelChange"],["placeholder","\xa0","name","ocupation_id","optionValue","id","optionLabel","name",3,"options","ngModel","showClear","ngModelChange"]],template:function(e,t){if(1&e&&(u.Tb(0,"form",0),u.ac("ngSubmit",function(){return t.search()}),u.Tb(1,"h1"),u.Kc(2,"Filtros"),u.Sb(),u.Tb(3,"div",1),u.Tb(4,"div",2),u.Tb(5,"div",3),u.Tb(6,"label",4),u.Kc(7,"Nombres"),u.Sb(),u.Tb(8,"input",5),u.ac("ngModelChange",function(e){return t.userFilter.first_name=e}),u.Sb(),u.Sb(),u.Tb(9,"div",3),u.Ic(10,w,2,0,"label",6),u.Tb(11,"input",7),u.ac("ngModelChange",function(e){return t.userFilter.second_name=e}),u.Sb(),u.Sb(),u.Sb(),u.Tb(12,"div",2),u.Tb(13,"div",3),u.Tb(14,"label",8),u.Kc(15,"Apellidos"),u.Sb(),u.Tb(16,"input",9),u.ac("ngModelChange",function(e){return t.userFilter.first_surname=e}),u.Sb(),u.Sb(),u.Tb(17,"div",3),u.Ic(18,_,2,0,"label",10),u.Tb(19,"input",11),u.ac("ngModelChange",function(e){return t.userFilter.second_surname=e}),u.Sb(),u.Sb(),u.Sb(),u.Tb(20,"div",2),u.Tb(21,"div",3),u.Tb(22,"label",12),u.Kc(23,"Email"),u.Sb(),u.Tb(24,"input",13),u.ac("ngModelChange",function(e){return t.userFilter.email=e}),u.Sb(),u.Sb(),u.Tb(25,"div",3),u.Tb(26,"label",12),u.Kc(27,"Dni"),u.Sb(),u.Tb(28,"p-inputMask",14),u.ac("ngModelChange",function(e){return t.userFilter.dni=e}),u.Sb(),u.Sb(),u.Sb(),u.Tb(29,"div",2),u.Tb(30,"div",3),u.Tb(31,"label",15),u.Kc(32,"Fecha de uni\xf3n desde"),u.Sb(),u.Tb(33,"p-calendar",16,17),u.ac("ngModelChange",function(e){return t.date_from=e}),u.Sb(),u.Sb(),u.Tb(35,"div",3),u.Tb(36,"label",18),u.Kc(37,"Fecha de uni\xf3n hasta"),u.Sb(),u.Tb(38,"p-calendar",19,20),u.ac("ngModelChange",function(e){return t.date_to=e}),u.Sb(),u.Sb(),u.Sb(),u.Ic(40,C,9,12,"div",21),u.Ic(41,O,5,6,"div",21),u.Tb(42,"div",2),u.Tb(43,"div",22),u.Tb(44,"label",23),u.Kc(45,"Estado"),u.Sb(),u.Tb(46,"p-dropdown",24),u.ac("ngModelChange",function(e){return t.userFilter.enabled=e}),u.Sb(),u.Sb(),u.Sb(),u.Tb(47,"div",2),u.Tb(48,"div",22),u.Tb(49,"label",25),u.Kc(50," \xa0"),u.Sb(),u.Ob(51,"button",26),u.Sb(),u.Sb(),u.Tb(52,"div",2),u.Tb(53,"div",3),u.Tb(54,"button",27),u.ac("click",function(){return t.clear()}),u.Sb(),u.Sb(),u.Tb(55,"div",3),u.Tb(56,"button",28),u.ac("click",function(){return t.closeDialog()}),u.Sb(),u.Sb(),u.Sb(),u.Ob(57,"br"),u.Ob(58,"br"),u.Sb(),u.Sb()),2&e){const e=u.zc(34),i=u.zc(39);u.Bb(8),u.lc("ngModel",t.userFilter.first_name),u.Bb(2),u.lc("ngIf",t.innerWidth>767),u.Bb(1),u.lc("ngModel",t.userFilter.second_name),u.Bb(5),u.lc("ngModel",t.userFilter.first_surname),u.Bb(2),u.lc("ngIf",t.innerWidth>767),u.Bb(1),u.lc("ngModel",t.userFilter.second_surname),u.Bb(5),u.lc("ngModel",t.userFilter.email),u.Bb(4),u.lc("ngModel",t.userFilter.dni)("unmask",!0)("autoClear",!1),u.Bb(5),u.nc("placeholder","01/01/",t.max_year,""),u.lc("showIcon",!0)("appendTo",e)("showButtonBar",!0)("ngModel",t.date_from)("monthNavigator",!0)("yearNavigator",!0)("yearRange",t.min_year+":"+t.max_year)("maxDate",t.max_date),u.Bb(5),u.nc("placeholder","01/01/",t.max_year,""),u.lc("showIcon",!0)("appendTo",i)("showButtonBar",!0)("ngModel",t.date_to)("monthNavigator",!0)("yearNavigator",!0)("yearRange",t.min_year+":"+t.max_year)("maxDate",t.max_date),u.Bb(2),u.lc("ngIf",2!=t.userFilter.role_id),u.Bb(1),u.lc("ngIf",2==t.userFilter.role_id),u.Bb(5),u.Gc(u.pc(35,B)),u.lc("options",t.status)("ngModel",t.userFilter.enabled)("showClear",!0)}},directives:[v.q,v.j,v.k,v.b,S.a,v.i,v.l,r.l,I.a,F.a,y.a,T.b],styles:[".myFormFilter[_ngcontent-%COMP%]{height:88vh;padding-right:10px;overflow-y:scroll!important;overflow-x:hidden!important}"]}),e})();var M=i("Wq6t");const k=["p"],K=function(){return["Usuarios","Administrar"]};function D(e,t){1&e&&u.Ob(0,"app-mini-menu",13),2&e&&u.lc("options",u.pc(2,K))("icon","home")}function P(e,t){if(1&e){const e=u.Ub();u.Tb(0,"app-user-filter",14),u.ac("filterEvent",function(t){return u.Cc(e),u.ec().filterEvent(t)})("closeFilter",function(){return u.Cc(e),u.ec().closeFilterWindow()}),u.Sb()}if(2&e){const e=u.ec();u.lc("userFilterInput",e.userFilter)}}function E(e,t){1&e&&u.Ob(0,"i",34)}function R(e,t){1&e&&u.Ob(0,"i",35)}function N(e,t){1&e&&u.Ob(0,"i",36)}function A(e,t){1&e&&u.Ob(0,"i",36)}function L(e,t){1&e&&u.Ob(0,"i",37)}function U(e,t){1&e&&u.Ob(0,"i",37)}function W(e,t){if(1&e&&(u.Tb(0,"div",29),u.Tb(1,"div"),u.Ic(2,E,1,0,"i",30),u.Ic(3,R,1,0,"i",31),u.Ic(4,N,1,0,"i",32),u.Ic(5,A,1,0,"i",32),u.Ic(6,L,1,0,"i",33),u.Ic(7,U,1,0,"i",33),u.Kc(8),u.Sb(),u.Sb()),2&e){const e=u.ec(3);u.Bb(2),u.lc("ngIf",0==(null==e.userFilter.sort?null:e.userFilter.sort.sortId)),u.Bb(1),u.lc("ngIf",1==(null==e.userFilter.sort?null:e.userFilter.sort.sortId)),u.Bb(1),u.lc("ngIf",2==(null==e.userFilter.sort?null:e.userFilter.sort.sortId)),u.Bb(1),u.lc("ngIf",3==(null==e.userFilter.sort?null:e.userFilter.sort.sortId)),u.Bb(1),u.lc("ngIf",4==(null==e.userFilter.sort?null:e.userFilter.sort.sortId)),u.Bb(1),u.lc("ngIf",5==(null==e.userFilter.sort?null:e.userFilter.sort.sortId)),u.Bb(1),u.Mc(" ",null==e.userFilter.sort?null:e.userFilter.sort.sortField," ")}}function z(e,t){if(1&e&&u.Ic(0,W,9,7,"div",28),2&e){const e=u.ec(2);u.lc("ngIf",null==e.userFilter.sort?null:e.userFilter.sort.sortField)}}function q(e,t){1&e&&u.Ob(0,"i",34)}function j(e,t){1&e&&u.Ob(0,"i",35)}function $(e,t){1&e&&u.Ob(0,"i",36)}function V(e,t){1&e&&u.Ob(0,"i",36)}function G(e,t){1&e&&u.Ob(0,"i",37)}function H(e,t){1&e&&u.Ob(0,"i",37)}function J(e,t){if(1&e&&(u.Tb(0,"div",38),u.Tb(1,"div"),u.Ic(2,q,1,0,"i",30),u.Ic(3,j,1,0,"i",31),u.Ic(4,$,1,0,"i",32),u.Ic(5,V,1,0,"i",32),u.Ic(6,G,1,0,"i",33),u.Ic(7,H,1,0,"i",33),u.Kc(8),u.Sb(),u.Sb()),2&e){const e=t.$implicit;u.Bb(2),u.lc("ngIf",0==e.sortId),u.Bb(1),u.lc("ngIf",1==e.sortId),u.Bb(1),u.lc("ngIf",2==e.sortId),u.Bb(1),u.lc("ngIf",3==e.sortId),u.Bb(1),u.lc("ngIf",4==e.sortId),u.Bb(1),u.lc("ngIf",5==e.sortId),u.Bb(1),u.Mc(" ",e.sortField," ")}}function Z(e,t){1&e&&(u.Tb(0,"label",39),u.Kc(1,"Ordenar por"),u.Sb())}function Q(e,t){if(1&e){const e=u.Ub();u.Tb(0,"div",15),u.Ob(1,"div",16),u.Ob(2,"p-dataViewLayoutOptions",null,17),u.Sb(),u.Tb(4,"div",18),u.Tb(5,"p-splitButton",19),u.ac("onClick",function(){return u.Cc(e),u.ec().show()}),u.Sb(),u.Tb(6,"span",20),u.Ob(7,"i",21),u.Tb(8,"input",22),u.ac("ngModelChange",function(t){return u.Cc(e),u.ec().userFilter.dni=t})("ngModelChange",function(t){return u.Cc(e),u.ec().searchEvent(t)}),u.Sb(),u.Sb(),u.Tb(9,"span",23),u.Tb(10,"p-dropdown",24),u.ac("ngModelChange",function(t){return u.Cc(e),u.ec().userFilter.sort=t})("onChange",function(){return u.Cc(e),u.ec().sortEvent()}),u.Ic(11,z,1,1,"ng-template",25),u.Ic(12,J,9,7,"ng-template",26),u.Sb(),u.Ic(13,Z,2,0,"label",27),u.Sb(),u.Sb()}if(2&e){const e=u.ec();u.Bb(5),u.lc("model",e.items),u.Bb(3),u.lc("ngModel",e.userFilter.dni),u.Bb(2),u.lc("options",e.sortList)("ngModel",e.userFilter.sort)("showClear",!0)("autoDisplayFirst",!1),u.Bb(3),u.lc("ngIf",null==e.userFilter.sort||e.innerWidth>=768)}}function Y(e,t){if(1&e){const e=u.Ub();u.Tb(0,"img",57),u.ac("click",function(){u.Cc(e);const t=u.ec().$implicit;return u.ec().showDetail(t)}),u.Sb()}if(2&e){const e=u.ec().$implicit;u.lc("src",null==e?null:e.photo_path,u.Ec)("alt",e.name)}}function X(e,t){if(1&e){const e=u.Ub();u.dc(),u.Tb(0,"svg",58),u.ac("click",function(){u.Cc(e);const t=u.ec().$implicit;return u.ec().showDetail(t)}),u.Ob(1,"defs"),u.Tb(2,"g",59),u.Ob(3,"path",60),u.Sb(),u.Sb()}}function ee(e,t){if(1&e&&(u.Tb(0,"span"),u.Kc(1),u.Sb()),2&e){const e=u.ec().$implicit;u.Bb(1),u.Lc(null==e.occupation?null:e.occupation.name)}}function te(e,t){if(1&e&&(u.Tb(0,"span",61),u.Kc(1),u.Sb()),2&e){const e=u.ec(2);u.Bb(1),u.Mc(" ",e.innerWidth>=430?"Administrador":"Admin"," ")}}function ie(e,t){if(1&e){const e=u.Ub();u.Tb(0,"div",40),u.Tb(1,"div",41),u.Ic(2,Y,1,2,"img",42),u.Ic(3,X,4,0,"svg",43),u.Tb(4,"div",44),u.Tb(5,"div",45),u.Kc(6),u.fc(7,"titlecase"),u.fc(8,"titlecase"),u.fc(9,"titlecase"),u.fc(10,"titlecase"),u.Sb(),u.Tb(11,"div",46),u.Ob(12,"i",47),u.Kc(13),u.Sb(),u.Tb(14,"div",48),u.Ob(15,"i",49),u.Kc(16),u.Sb(),u.Tb(17,"span",50),u.Kc(18),u.fc(19,"date"),u.fc(20,"titlecase"),u.fc(21,"date"),u.fc(22,"date"),u.fc(23,"titlecase"),u.fc(24,"date"),u.Sb(),u.Sb(),u.Tb(25,"div",51),u.Tb(26,"div"),u.Ob(27,"i"),u.Ic(28,ee,2,1,"span",52),u.Ic(29,te,2,1,"span",53),u.Sb(),u.Tb(30,"div",54),u.Tb(31,"span"),u.Kc(32),u.Sb(),u.Sb(),u.Ob(33,"br"),u.Tb(34,"div",55),u.Tb(35,"button",56),u.ac("click",function(){u.Cc(e);const i=t.$implicit;return u.ec().showDetail(i)}),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb()}if(2&e){const e=t.$implicit,i=u.ec();u.Bb(2),u.lc("ngIf",null==e?null:e.photo_path),u.Bb(1),u.lc("ngIf",!e.photo_path),u.Bb(3),u.Pc(" ",u.gc(7,22,e.second_name?e.first_name:e.first_name+",")," ",u.gc(8,24,e.second_name?e.second_name+",":"")," ",u.gc(9,26,e.first_surname)," ",u.gc(10,28,e.second_surname)," "),u.Bb(7),u.Lc(e.email),u.Bb(3),u.Lc(e.dni),u.Bb(2),u.Pc(" Se uni\xf3 el ",u.hc(19,30,e.createdAt,"d")," de ",u.gc(20,33,u.hc(21,35,e.createdAt,"MMMM"))," del ",u.hc(22,38,e.createdAt,"y"),", ",u.gc(23,41,u.hc(24,43,e.createdAt,"hh:mm a")),""),u.Bb(8),u.Db(i.innerWidth>=576?"p-mb-3":""),u.Bb(1),u.Db("pi pi-"+(2==e.role_id?"shield":"briefcase")+" product-category-icon"),u.Bb(1),u.lc("ngIf",null==e.occupation?null:e.occupation.name),u.Bb(1),u.lc("ngIf",2==e.role_id),u.Bb(2),u.Db("status "+(e.enabled?"enabled":"disabled")),u.Bb(1),u.Lc(e.enabled?"Habilidato":"Inhabilitado")}}function re(e,t){if(1&e&&u.Ob(0,"i"),2&e){const e=u.ec().$implicit;u.Db("pi pi-"+(2==e.role_id?"shield":"briefcase")+" product-category-icon")}}function ne(e,t){if(1&e&&(u.Tb(0,"span",74),u.Kc(1),u.Sb()),2&e){const e=u.ec().$implicit;u.Bb(1),u.Lc(null==e.occupation?null:e.occupation.name)}}function oe(e,t){if(1&e&&(u.Tb(0,"span",75),u.Kc(1),u.Sb()),2&e){const e=u.ec(2);u.Bb(1),u.Mc(" ",e.innerWidth>=408?"Administrador":"Admin"," ")}}function se(e,t){if(1&e){const e=u.Ub();u.Tb(0,"img",76),u.ac("click",function(){u.Cc(e);const t=u.ec().$implicit;return u.ec().showDetail(t)}),u.Sb()}if(2&e){const e=u.ec().$implicit;u.lc("src",null==e?null:e.photo_path,u.Ec)("alt",e.name)}}function ae(e,t){if(1&e){const e=u.Ub();u.dc(),u.Tb(0,"svg",77),u.ac("click",function(){u.Cc(e);const t=u.ec().$implicit;return u.ec().showDetail(t)}),u.Ob(1,"defs"),u.Tb(2,"g",59),u.Ob(3,"path",60),u.Sb(),u.Sb()}}function ce(e,t){if(1&e){const e=u.Ub();u.Tb(0,"div",62),u.Tb(1,"div",63),u.Tb(2,"div",64),u.Tb(3,"div"),u.Ic(4,re,1,2,"i",65),u.Ic(5,ne,2,1,"span",66),u.Ic(6,oe,2,1,"span",67),u.Sb(),u.Tb(7,"span"),u.Kc(8),u.Sb(),u.Sb(),u.Tb(9,"div",68),u.Ic(10,se,1,2,"img",69),u.Ic(11,ae,4,0,"svg",70),u.Tb(12,"div",71),u.Kc(13),u.fc(14,"titlecase"),u.fc(15,"titlecase"),u.Sb(),u.Tb(16,"div",46),u.Ob(17,"i",47),u.Kc(18),u.Sb(),u.Tb(19,"div",46),u.Ob(20,"i",49),u.Kc(21),u.Sb(),u.Sb(),u.Tb(22,"div",72),u.Tb(23,"span",50),u.Kc(24),u.fc(25,"date"),u.fc(26,"titlecase"),u.fc(27,"date"),u.fc(28,"date"),u.Sb(),u.Tb(29,"button",73),u.ac("click",function(){u.Cc(e);const i=t.$implicit;return u.ec().showDetail(i)}),u.Sb(),u.Sb(),u.Sb(),u.Sb()}if(2&e){const e=t.$implicit,i=u.ec();u.Bb(4),u.lc("ngIf",i.innerWidth>=980||i.innerWidth<=768),u.Bb(1),u.lc("ngIf",null==e.occupation?null:e.occupation.name),u.Bb(1),u.lc("ngIf",2==e.role_id),u.Bb(1),u.Db("status "+(e.enabled?"enabled":"disabled")),u.Bb(1),u.Lc(e.enabled?"Habilidato":"Inhabilitado"),u.Bb(2),u.lc("ngIf",null==e?null:e.photo_path),u.Bb(1),u.lc("ngIf",!e.photo_path),u.Bb(2),u.Nc("",u.gc(14,15,null==e?null:e.first_name)," ",u.gc(15,17,null==e?null:e.first_surname),""),u.Bb(5),u.Lc(e.email),u.Bb(3),u.Lc(e.dni),u.Bb(3),u.Oc(" Se uni\xf3 el ",u.hc(25,19,e.createdAt,"d")," de ",u.gc(26,22,u.hc(27,24,e.createdAt,"MMMM"))," del ",u.hc(28,27,e.createdAt,"y")," ")}}const le=function(){return{width:"34em"}},ue=function(){return{width:"100%"}},de=function(){return[6,9,12,15,18]};let pe=(()=>{class e{constructor(e,t){this.userService=e,this.router=t,this.visibleSidebar=!1,this.userFilter=new a,this.usersFound=!0,this.usersFilterResult=new c.a,this.sortList=[],this.lastDni="",this.timer=null}onResize(e){this.innerWidth=window.innerWidth}ngOnInit(){this.innerWidth=window.innerWidth,this.urlBase=l.a.urlBase,this.userFilter=JSON.parse(localStorage.getItem("userFilter"))?JSON.parse(localStorage.getItem("userFilter")):new a,this.userFilter.size=this.userFilter.size?this.userFilter.size:6,this.setFilterItems(),this.setSortList(),this.submit(this.userFilter.page?this.userFilter.page:0)}setFilterItems(){this.items=[{label:"Limpiar ",icon:"pi pi-filter-slash",command:()=>{var e;localStorage.removeItem("userFilter"),this.userFilter=new a,null===(e=this.paginator)||void 0===e||e.changePage(0)}},{separator:!0},{label:"Refrescar",icon:"pi pi-refresh",command:()=>{var e;null===(e=this.paginator)||void 0===e||e.changePage(0)}}]}setSortList(){this.sortList=[{sortField:"Nombres",sortId:0,inactive:!1},{sortField:"Cargo",sortId:2,inactive:!1},{sortField:"Estado",sortId:3,inactive:!1},{sortField:"Dni",sortId:1,inactive:!1},{sortField:"M\xe1s recientes",sortId:4,inactive:!1},{sortField:"M\xe1s antiguos",sortId:5,inactive:!1}]}submit(e){this.userFilter.page=e,this.userService.getUsersFilter(this.userFilter).subscribe(e=>{200==e.code?(this.usersFound=!0,this.usersFilterResult=e.object):404==e.code&&(this.usersFound=!1,this.usersFilterResult.list=[]),localStorage.setItem("userFilter",JSON.stringify(this.userFilter))},e=>{})}paginate(e){this.userFilter.size=e.rows,this.submit(e.page)}ngAfterViewInit(){var e;0!==(null===(e=this.userFilter)||void 0===e?void 0:e.page)&&setTimeout(()=>{var e;null===(e=this.paginator)||void 0===e||e.changePage(this.userFilter.page?this.userFilter.page:0)},300)}filterEvent(e){e&&(this.userFilter=Object.assign({},e),this.submit(0)),this.closeFilterWindow()}searchEvent(e){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.search(e)},700)}search(e){e!==this.lastDni&&this.submit(0),this.lastDni=e}show(){this.visibleSidebar=!0}closeFilterWindow(){this.visibleSidebar=!1}sortEvent(){var e;null===(e=this.paginator)||void 0===e||e.changePage(0)}showDetail(e){this.router.navigate(["users","detail",e.id])}}return e.\u0275fac=function(t){return new(t||e)(u.Nb(d.a),u.Nb(n.b))},e.\u0275cmp=u.Hb({type:e,selectors:[["app-index"]],viewQuery:function(e,t){if(1&e&&u.Qc(k,1),2&e){let e;u.yc(e=u.bc())&&(t.paginator=e.first)}},hostBindings:function(e,t){1&e&&u.ac("resize",function(e){return t.onResize(e)},!1,u.Bc)},decls:14,vars:22,consts:[[3,"options","icon",4,"ngIf"],[1,"myFormFilter",3,"blockScroll","visible","baseZIndex","visibleChange"],[3,"userFilterInput","filterEvent","closeFilter",4,"ngIf"],[1,"p-mt-2"],[1,"card","myCard","myBg"],[1,"p-text-left","myTitle",2,"margin-bottom","0"],["filterBy","name","layout","grid","emptyMessage","No se encontraron registros",3,"value","rows"],["dv",""],["pTemplate","header"],["pTemplate","listItem"],["pTemplate","gridItem"],[3,"rows","showCurrentPageReport","showJumpToPageDropdown","currentPageReportTemplate","totalRecords","pageLinkSize","rowsPerPageOptions","onPageChange"],["p",""],[3,"options","icon"],[3,"userFilterInput","filterEvent","closeFilter"],[1,"p-d-flex","p-flex-column","p-flex-md-row","p-jc-md-between","p-mb-2"],[1,""],["o",""],[1,"p-d-flex","p-flex-column","p-flex-md-row","p-jc-md-between"],["label","Aplicar Filtros","icon","pi pi-filter","styleClass","p-button-primary p-mb-2",3,"model","onClick"],[1,"p-input-icon-left","p-mb-md-0","p-mb-2"],[1,"pi","pi-search"],["type","search","pattern","\\d*","pInputText","","autocomplete","off","placeholder","Buscar por dni","name","_dni",3,"ngModel","ngModelChange"],[1,"p-float-label"],["optionLabel","sortField","optionDisabled","inactive",3,"options","ngModel","showClear","autoDisplayFirst","ngModelChange","onChange"],["pTemplate","selectedItem"],["pTemplate","item"],["for","dropdown",4,"ngIf"],["class","country-item country-item-value",4,"ngIf"],[1,"country-item","country-item-value"],["class","product-category-icon pi pi-sort-alpha-up",4,"ngIf"],["class","product-category-icon pi pi-sort-numeric-up",4,"ngIf"],["class","product-category-icon pi pi-sort-amount-up",4,"ngIf"],["class","product-category-icon pi pi-clock",4,"ngIf"],[1,"product-category-icon","pi","pi-sort-alpha-up"],[1,"product-category-icon","pi","pi-sort-numeric-up"],[1,"product-category-icon","pi","pi-sort-amount-up"],[1,"product-category-icon","pi","pi-clock"],[1,"country-item"],["for","dropdown"],[1,"p-col-12"],[1,"product-list-item"],["style","width: 8.5rem; margin-right: 1rem; cursor: pointer;","class","myMiniAvatar",3,"src","alt","click",4,"ngIf"],["class","myAvatarSvg","style","width: 8.5rem; margin-right: 1rem; cursor: pointer;","viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg",3,"click",4,"ngIf"],[1,"product-list-detail"],[1,"product-name",2,"margin-bottom","5px"],[1,"product-description",2,"margin-bottom","5px"],[1,"pi","pi-envelope","product-category-icon"],[1,"product-description",2,"margin-bottom","10px"],[1,"pi","pi-id-card","product-category-icon"],[1,"product-price"],[1,"product-list-action"],[4,"ngIf"],["class","status warn",4,"ngIf"],[1,"p-text-right"],[1,"p-d-flex"],["pButton","","pRipple","","type","button","icon","pi pi-eye",1,"p-ml-auto","p-button-secondary",3,"click"],[1,"myMiniAvatar",2,"width","8.5rem","margin-right","1rem","cursor","pointer",3,"src","alt","click"],["viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg",1,"myAvatarSvg",2,"width","8.5rem","margin-right","1rem","cursor","pointer",3,"click"],["id","User"],["d","M28,22.5c0,3.645-5.2715,6.5-12,6.5S4,26.145,4,22.5,9.2715,16,16,16,28,18.855,28,22.5ZM16,14a5.5,5.5,0,1,0-5.5-5.5A5.5066,5.5066,0,0,0,16,14Z",1,"cls-1"],[1,"status","warn"],[1,"p-col-12","p-md-4"],[1,"product-grid-item","card","myCard"],[1,"product-grid-item-top",2,"margin-bottom","1rem"],[3,"class",4,"ngIf"],["class","product-category",4,"ngIf"],["class","product-category status warn",4,"ngIf"],[1,"product-grid-item-content"],["style","width: 50%; margin: 0; cursor: pointer;","class","myMiniAvatar",3,"src","alt","click",4,"ngIf"],["class","myAvatarSvg","style","width: 50%; cursor: pointer;","viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg",3,"click",4,"ngIf"],[1,"product-name"],[1,"product-grid-item-bottom"],["pButton","","pRipple","","type","button","icon","pi pi-eye",1,"p-button-secondary",3,"click"],[1,"product-category"],[1,"product-category","status","warn"],[1,"myMiniAvatar",2,"width","50%","margin","0","cursor","pointer",3,"src","alt","click"],["viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg",1,"myAvatarSvg",2,"width","50%","cursor","pointer",3,"click"]],template:function(e,t){1&e&&(u.Ic(0,D,1,3,"app-mini-menu",0),u.Tb(1,"p-sidebar",1),u.ac("visibleChange",function(e){return t.visibleSidebar=e}),u.Ic(2,P,1,1,"app-user-filter",2),u.Sb(),u.Tb(3,"div",3),u.Tb(4,"div",4),u.Tb(5,"h2",5),u.Kc(6," Administrar usuarios "),u.Sb(),u.Tb(7,"p-dataView",6,7),u.Ic(9,Q,14,7,"ng-template",8),u.Ic(10,ie,36,46,"ng-template",9),u.Ic(11,ce,30,30,"ng-template",10),u.Sb(),u.Tb(12,"p-paginator",11,12),u.ac("onPageChange",function(e){return t.paginate(e)}),u.Sb(),u.Sb(),u.Sb()),2&e&&(u.lc("ngIf",t.innerWidth>767),u.Bb(1),u.Gc(t.innerWidth>544?u.pc(19,le):u.pc(20,ue)),u.lc("blockScroll",!0)("visible",t.visibleSidebar)("baseZIndex",1e4),u.Bb(1),u.lc("ngIf",t.visibleSidebar),u.Bb(5),u.lc("value",t.usersFilterResult.list)("rows",9),u.Bb(5),u.Db(t.usersFound?"":"ocult"),u.oc("currentPageReportTemplate","P\xe1gina ",t.usersFilterResult.currentPage+1," de ",t.usersFilterResult.totalPages,""),u.lc("rows",t.userFilter.size)("showCurrentPageReport",!0)("showJumpToPageDropdown",!1)("totalRecords",t.usersFilterResult.totalItems)("pageLinkSize",3)("rowsPerPageOptions",u.pc(21,de)))},directives:[r.l,p.a,m.a,b.i,h.a,f.a,x,m.b,M.a,v.b,v.n,S.a,v.i,v.l,y.a,T.b],pipes:[r.t,r.e],styles:["[_nghost-%COMP%]     .p-dropdown{width:14rem;font-weight:400}[_nghost-%COMP%]     .product-name{font-size:1.5rem;font-weight:700}[_nghost-%COMP%]     .product-description{margin:0 0 1rem}[_nghost-%COMP%]     .product-category-icon{vertical-align:middle;margin-right:.5rem;color:var(--primary-color)}[_nghost-%COMP%]     .product-category{font-weight:600;vertical-align:middle}[_nghost-%COMP%]     .product-list-item{display:flex;align-items:center;padding:1rem;width:100%}[_nghost-%COMP%]     .product-list-item img{width:130px;margin-right:2rem}[_nghost-%COMP%]     .product-list-item .product-list-detail{flex:1 1 0}[_nghost-%COMP%]     .product-list-item .p-rating{margin:0 0 .5rem}[_nghost-%COMP%]     .product-list-item .product-price{font-size:1.2rem;font-weight:500;margin-bottom:.5rem;align-self:flex-end;color:var(--primary-color)}[_nghost-%COMP%]     .product-list-item .product-list-action{display:flex;flex-direction:column}[_nghost-%COMP%]     .product-list-item .p-button{margin-bottom:.5rem}[_nghost-%COMP%]     .product-grid-item{margin:.5em;border:1px solid #dee2e6}[_nghost-%COMP%]     .product-grid-item .product-grid-item-bottom, [_nghost-%COMP%]     .product-grid-item .product-grid-item-top{display:flex;align-items:center;justify-content:space-between}[_nghost-%COMP%]     .product-grid-item img{width:40%;margin:.5rem 0}[_nghost-%COMP%]     .product-grid-item .product-grid-item-content{text-align:center}[_nghost-%COMP%]     .product-grid-item .product-price{font-size:1.05rem;font-weight:500;color:var(--primary-color)}@media screen and (max-width:576px){[_nghost-%COMP%]     .product-list-item{flex-direction:column;align-items:center}[_nghost-%COMP%]     .product-list-item img{width:75%;margin:2rem 0}[_nghost-%COMP%]     .product-list-item .product-list-detail{text-align:center}[_nghost-%COMP%]     .product-list-item .product-price{align-self:center}[_nghost-%COMP%]     .product-list-item .product-list-action{display:flex;flex-direction:column}[_nghost-%COMP%]     .product-list-item .product-list-action{margin-top:2rem;flex-direction:row;justify-content:space-between;align-items:center;width:100%}}"]}),e})();var me=i("zUwj"),be=i("J7/z"),he=i("Rp2L"),fe=i("/JoM"),ge=i("Gxio"),ve=i("Nf9I"),Se=i("rLzU");const Ie=["myInputFile"],Fe=["mySplitButton"],ye=function(){return["Usuarios","Detalle","Informaci\xf3n General"]};function Te(e,t){1&e&&u.Ob(0,"app-mini-menu",48),2&e&&u.lc("options",u.pc(2,ye))("icon","home")}function we(e,t){if(1&e&&u.Ob(0,"img",49),2&e){const e=u.ec();u.lc("src",e.user.photo_path,u.Ec)}}function _e(e,t){1&e&&(u.dc(),u.Tb(0,"svg",50),u.Ob(1,"defs"),u.Tb(2,"g",51),u.Ob(3,"path",52),u.Sb(),u.Sb())}function Be(e,t){1&e&&(u.Tb(0,"small",53),u.Tb(1,"span"),u.Kc(2," Campo requerido. "),u.Sb(),u.Kc(3,"\xa0 "),u.Sb())}function Ce(e,t){1&e&&(u.Tb(0,"small",53),u.Tb(1,"span"),u.Kc(2," Campo requerido. "),u.Sb(),u.Kc(3,"\xa0 "),u.Sb())}function Oe(e,t){1&e&&(u.Tb(0,"small",53),u.Tb(1,"span"),u.Kc(2," Campo requerido. "),u.Sb(),u.Kc(3,"\xa0 "),u.Sb())}function xe(e,t){1&e&&(u.Tb(0,"small",53),u.Tb(1,"span"),u.Kc(2," Campo requerido. "),u.Sb(),u.Kc(3,"\xa0 "),u.Sb())}function Me(e,t){1&e&&(u.Tb(0,"small",53),u.Tb(1,"span"),u.Kc(2," Campo requerido. "),u.Sb(),u.Kc(3,"\xa0 "),u.Sb())}function ke(e,t){1&e&&(u.Tb(0,"small",53),u.Tb(1,"span"),u.Kc(2," Campo requerido. "),u.Sb(),u.Kc(3,"\xa0 "),u.Sb())}function Ke(e,t){1&e&&(u.Tb(0,"small",53),u.Tb(1,"span"),u.Kc(2," Email no v\xe1lido. "),u.Sb(),u.Kc(3,"\xa0 "),u.Sb())}function De(e,t){1&e&&(u.Tb(0,"small",53),u.Tb(1,"span"),u.Kc(2," Campo num\xe9rico de 8 d\xedgitos. "),u.Sb(),u.Kc(3,"\xa0 "),u.Sb())}function Pe(e,t){1&e&&(u.Tb(0,"small",53),u.Tb(1,"span"),u.Kc(2," Campo requerido. "),u.Sb(),u.Kc(3,"\xa0 "),u.Sb())}function Ee(e,t){1&e&&(u.Tb(0,"small",53),u.Tb(1,"span"),u.Kc(2," Campo requerido. "),u.Sb(),u.Kc(3,"\xa0 "),u.Sb())}const Re=function(){return{maxWidth:"100%"}};function Ne(e,t){if(1&e&&(u.Tb(0,"div",21),u.Tb(1,"label",41),u.Kc(2,"Cargo"),u.Sb(),u.Ob(3,"p-dropdown",54),u.Ic(4,Ee,4,0,"small",24),u.Sb()),2&e){const e=u.ec();u.Bb(3),u.Gc(u.pc(5,Re)),u.lc("options",e.occupations)("showClear",!0),u.Bb(1),u.lc("ngIf",e.isFieldValidOcupation_id)}}function Ae(e,t){1&e&&(u.Tb(0,"small",53),u.Tb(1,"span"),u.Kc(2," Campo requerido. "),u.Sb(),u.Kc(3,"\xa0 "),u.Sb())}const Le=function(){return{width:"50vw"}},Ue=function(){return{width:"90%"}};let We=(()=>{class e{constructor(e,t,i,r,n,o,s){this.fb=e,this.authService=t,this.userService=i,this.messageService=r,this.dialogService=n,this.confirmationService=o,this.commonService=s,this.updated=new u.n,this.max_date=new Date,this.min_year=(new Date).getFullYear()-100,this.max_year=(new Date).getFullYear()-10,this.userForm=this.fb.group({first_name:[,[v.p.required,v.p.maxLength(30),v.p.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]],second_name:[,[v.p.maxLength(30)]],first_surname:[,[v.p.required,v.p.maxLength(30),v.p.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]],second_surname:[,[v.p.maxLength(30)]],contact_name:[,[v.p.maxLength(30)]],phone_number:[,[v.p.required,v.p.minLength(11)]],birthdate:[,[v.p.required]],email:[,[v.p.required,v.p.maxLength(40),v.p.pattern(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)]],dni:[,[v.p.required,v.p.pattern(/^([0-9])*$/),v.p.minLength(8),v.p.maxLength(8)]],role_id:[,[v.p.required]],ocupation_id:[]}),this.occupations=[],this.roles=[],this.isFieldValidOcupation_id=!1}onResize(e){this.innerWidth=window.innerWidth}ngOnInit(){this.innerWidth=window.innerWidth,this.setDropdowns(),this.setCurrentUserForm(),this.urlBase=l.a.urlBase}setDropdowns(){this.commonService.getOcuppations().subscribe(e=>{200==e.code&&(this.occupations=e.list)}),this.roles=[{name:"Usuario",value:1},{name:"Administrador",value:2}]}isFieldValid(e){return this.userForm.controls[e].errors&&this.userForm.controls[e].touched}setCurrentUserForm(){this.userForm.reset({first_name:this.user.first_name,second_name:this.user.second_name,first_surname:this.user.first_surname,second_surname:this.user.second_surname,contact_name:this.user.contact_name,phone_number:this.user.phone_number,birthdate:this.user.birthdate?new Date(`${this.user.birthdate}`):null,dni:this.user.dni,email:this.user.email,role_id:this.user.role_id,ocupation_id:this.user.ocupation_id}),this.userStatus=this.user.enabled,this.setMenu(this.user.photo_path)}setMenu(e){this.items=[{label:e?"Cambiar avatar":"A\xf1adir avatar",icon:"pi pi-upload",command:()=>{this.clickInputFile()}}],e&&this.items.push({label:"Eliminar avatar",icon:"pi pi-trash",command:()=>{this.removeConfirm()}})}clickInputFile(){this.myInputFile.nativeElement.click()}submit(){var e;if(this.userForm.invalid)this.userForm.markAllAsTouched();else{if(this.userForm.value.role_id==o.a.USER){if(!this.userForm.value.ocupation_id)return void(this.isFieldValidOcupation_id=!0);this.isFieldValidOcupation_id=!1}else null===(e=this.userForm.get("ocupation_id"))||void 0===e||e.setValue(null);this.verifyChanges()||this.userService.update(Object.assign(Object.assign({},this.userForm.value),{id:this.user.id})).subscribe(e=>{var t,i,r,n,o,s,a,c,l,u;200==e.code?this.messageService.add({key:"tc",severity:"success",summary:"\xc9xito",detail:"Datos guardados correctamente"}):void 0!==(null===(t=e.errors)||void 0===t?void 0:t.birthdate)?this.showError(null===(i=e.errors.birthdate)||void 0===i?void 0:i.msg):void 0!==(null===(r=e.errors)||void 0===r?void 0:r.phone_number)?this.showError(null===(n=e.errors.phone_number)||void 0===n?void 0:n.msg):void 0!==(null===(o=e.errors)||void 0===o?void 0:o.first_name)?this.showError(null===(s=e.errors.first_name)||void 0===s?void 0:s.msg):void 0!==(null===(a=e.errors)||void 0===a?void 0:a.first_surname)?this.showError(null===(c=e.errors.first_surname)||void 0===c?void 0:c.msg):void 0!==(null===(l=e.errors)||void 0===l?void 0:l.id)&&this.showError(null===(u=e.errors.id)||void 0===u?void 0:u.msg),this.updated.emit(!0)},e=>{this.messageService.add({key:"tc",severity:"error",summary:"Error",detail:"Cont\xe1ctese con el administrador"})})}}verifyChanges(){return console.log(`this.user.ocupation_id ${this.user.ocupation_id} == this.userForm.value.ocupation_id ${this.userForm.value.ocupation_id} `),this.user.first_name==this.userForm.value.first_name&&this.user.second_name==this.userForm.value.second_name&&this.user.first_surname==this.userForm.value.first_surname&&this.user.second_surname==this.userForm.value.second_surname&&this.user.phone_number==this.userForm.value.phone_number&&this.user.contact_name==this.userForm.value.contact_name&&this.user.email==this.userForm.value.email&&this.user.dni==this.userForm.value.dni&&this.user.role_id==this.userForm.value.role_id&&this.user.ocupation_id==this.userForm.value.ocupation_id&&this.user.birthdate==new Date(this.userForm.value.birthdate).toISOString()}ngOnDestroy(){this.ref&&this.ref.close()}showCropper(e){this.ref=this.dialogService.open(he.a,{data:{event:e},header:"Personalizar el nuevo avatar",width:this.innerWidth>767?"65%":"90%",contentStyle:{"max-height":"1000px",overflow:"auto"},baseZIndex:1}),this.ref.onClose.subscribe(e=>{e?this.userService.setPhotoById(e,this.user.id).subscribe(e=>{this.messageService.add(200==e.code?{key:"tc",severity:"success",summary:"\xc9xito",detail:"Avatar actualizado correctamente"}:{key:"tc",severity:"error",summary:"Error",detail:"No se pudo actualizar el avatar"}),this.updated.emit(!0)},e=>{this.messageService.add({key:"tc",severity:"error",summary:"Error",detail:"Cont\xe1ctese con el administrador"})}):"error"==e&&this.showError("Por favor seleccione otra","No se pudo procesar la imagen")})}edit(){this.mySplitButton.buttonViewChild.nativeElement.click()}onSelectImg(e){if(e.currentTarget.files){if(e.currentTarget.files[0].size>15e4)return void this.showError("Por favor suba una imagen menor a 150 KB","Imagen demasiado grande");this.showCropper(e)}}removePhoto(){this.userService.removePhotoById(this.user.id).subscribe(e=>{this.messageService.add(200==e.code?{key:"tc",severity:"success",summary:"\xc9xito",detail:"Avatar eliminado correctamente"}:{key:"tc",severity:"error",summary:"Incorrecto",detail:"El avatar no fue eliminado"}),this.updated.emit(!0)},e=>{this.messageService.add({key:"tc",severity:"error",summary:"Error",detail:"Cont\xe1ctese con el administrador"})})}removeConfirm(){this.confirmationService.confirm({message:"\xbfEst\xe1 seguro(a) que quiere eliminar el avatar?",header:"Confirmaci\xf3n",icon:"pi pi-info-circle",accept:()=>{this.removePhoto()},reject:e=>{}})}changeStatus(){this.confirmationService.confirm({message:`\xbfEst\xe1 seguro(a) que quiere ${this.userStatus?"habilitar":"inhabilitar"} a este usuario?`,header:"Confirmaci\xf3n",icon:"pi pi-info-circle",accept:()=>{this.userStatus?this.userService.enableUser(this.user.id).subscribe(e=>{this.messageService.add(200==e.code?{key:"tc",severity:"success",summary:"\xc9xito",detail:"El usuario fue habilitado correctamente"}:{key:"tc",severity:"error",summary:"Incorrecto",detail:"No se pudo cambiar el estado del usuario"}),this.updated.emit(!0)},e=>{this.messageService.add({key:"tc",severity:"error",summary:"Error",detail:"Cont\xe1ctese con el administrador"})}):this.userService.disableUser(this.user.id).subscribe(e=>{this.messageService.add(200==e.code?{key:"tc",severity:"success",summary:"\xc9xito",detail:"El usuario fue inhabilitado correctamente"}:{key:"tc",severity:"error",summary:"Incorrecto",detail:"No se pudo cambiar el estado del usuario"}),this.updated.emit(!0)},e=>{this.messageService.add({key:"tc",severity:"error",summary:"Error",detail:"Cont\xe1ctese con el administrador"})})},reject:e=>{this.userStatus=!this.userStatus}})}showError(e,t="Incorrecto"){this.messageService.add({key:"tc",severity:"error",summary:t,detail:e})}showWarning(e,t="Advertencia"){this.messageService.add({key:"tc",severity:"warn",summary:t,detail:e})}}return e.\u0275fac=function(t){return new(t||e)(u.Nb(v.c),u.Nb(fe.a),u.Nb(d.a),u.Nb(b.g),u.Nb(be.a),u.Nb(b.a),u.Nb(g.a))},e.\u0275cmp=u.Hb({type:e,selectors:[["app-general-information"]],viewQuery:function(e,t){if(1&e&&(u.Qc(Ie,1),u.Qc(Fe,1)),2&e){let e;u.yc(e=u.bc())&&(t.myInputFile=e.first),u.yc(e=u.bc())&&(t.mySplitButton=e.first)}},hostBindings:function(e,t){1&e&&u.ac("resize",function(e){return t.onResize(e)},!1,u.Bc)},inputs:{user:"user"},outputs:{updated:"updated"},features:[u.Ab([b.g,be.a,b.a])],decls:81,vars:38,consts:[["class","miniMenu",3,"options","icon",4,"ngIf"],["position","top-center","key","tc"],["rejectButtonStyleClass","p-button-text",3,"baseZIndex"],[1,"card","myCard","myBg","p-mt-2"],[1,"p-text-left","myTitle"],[1,"text-color"],[1,"p-fluid","p-grid"],[1,"p-field","p-col-12","p-md-4","p-pr-4"],["for","first_name",1,"p-text-left","text-color"],[1,"avatar-container"],["class","myAvatar","width","100%","alt","",3,"src",4,"ngIf"],["class","myAvatarSvg","viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["styleClass","p-button-secondary","label","Editar","icon","pi pi-pencil",1,"myAvatarBtn",3,"model","onClick"],["mySplitButton",""],["type","file","accept",".png,.jpg,.jpeg",1,"ocult",3,"change"],["myInputFile",""],[1,"p-text-left"],[1,"text-color",2,"margin-bottom","10px"],[3,"ngModel","ngModelChange","onChange"],[1,"p-field","p-col-12","p-md-8"],[1,"p-fluid","p-formgrid","p-grid",3,"formGroup","ngSubmit"],[1,"p-field","p-col-12","p-md-6"],["for","first_name",1,"text-color"],["id","first_name","type","text","pInputText","","formControlName","first_name","autocomplete","off"],["class","p-error",4,"ngIf"],["for","second_name",1,"text-color"],["id","second_name","type","text","pInputText","","formControlName","second_name","autocomplete","off"],["for","first_surname",1,"text-color"],["id","first_surname","type","text","pInputText","","formControlName","first_surname","autocomplete","off"],["for","second_surname",1,"text-color"],["id","second_surname","type","text","pInputText","","formControlName","second_surname","autocomplete","off"],[1,"p-field","p-col-12","p-md-7"],["for","birthdate",1,"text-color"],["dateFormat","dd/mm/yy","name","birthdate","id","birthdate","formControlName","birthdate","inputId","navigators",3,"showIcon","monthNavigator","yearNavigator","yearRange","maxDate"],[1,"p-field","p-col-12","p-md-5"],["for","phone_number",1,"text-color"],["formControlName","phone_number","mask","(+99) 999-999-999",3,"unmask","autoClear"],["for","email",1,"text-color"],["id","email","formControlName","email","type","text","pInputText","","autocomplete","off"],["for","dni",1,"text-color"],["formControlName","dni","mask","99999999",3,"unmask","autoClear"],["for","ocupation",1,"text-color"],["formControlName","role_id","placeholder","\xa0","name","role","optionValue","value","optionLabel","name",3,"options","showClear"],["class","p-field p-col-12 p-md-6 ",4,"ngIf"],["for","contact_name",1,"text-color"],["id","contact_name","type","text","pInputText","","formControlName","contact_name","autocomplete","off"],[1,"p-field","p-col-12","p-md-12","p-mt-2"],["type","submit","pButton","","label","Guardar datos","icon","pi pi-save",1,"myBtnInput","p-button-primary"],[1,"miniMenu",3,"options","icon"],["width","100%","alt","",1,"myAvatar",3,"src"],["viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg",1,"myAvatarSvg"],["id","User"],["d","M28,22.5c0,3.645-5.2715,6.5-12,6.5S4,26.145,4,22.5,9.2715,16,16,16,28,18.855,28,22.5ZM16,14a5.5,5.5,0,1,0-5.5-5.5A5.5066,5.5066,0,0,0,16,14Z",1,"cls-1"],[1,"p-error"],["formControlName","ocupation_id","placeholder","\xa0","name","ocupation_id","optionValue","id","optionLabel","name",3,"options","showClear"]],template:function(e,t){1&e&&(u.Ic(0,Te,1,3,"app-mini-menu",0),u.Ob(1,"p-toast",1),u.Ob(2,"p-confirmDialog",2),u.Tb(3,"div",3),u.Tb(4,"div",4),u.Kc(5,"Informaci\xf3n General "),u.Sb(),u.Tb(6,"h3",5),u.Kc(7,"Actualizar informaci\xf3n general del usuario "),u.Sb(),u.Ob(8,"br"),u.Tb(9,"div",6),u.Tb(10,"div",7),u.Tb(11,"label",8),u.Kc(12,"Avatar"),u.Sb(),u.Ob(13,"br"),u.Tb(14,"div",9),u.Ic(15,we,1,1,"img",10),u.Ic(16,_e,4,0,"svg",11),u.Tb(17,"p-splitButton",12,13),u.ac("onClick",function(){return t.clickInputFile()}),u.Sb(),u.Tb(19,"input",14,15),u.ac("change",function(e){return t.onSelectImg(e)}),u.Sb(),u.Sb(),u.Ob(21,"br"),u.Tb(22,"div",16),u.Tb(23,"h4",17),u.Kc(24,"Habilitar usuario"),u.Sb(),u.Tb(25,"p-inputSwitch",18),u.ac("ngModelChange",function(e){return t.userStatus=e})("onChange",function(){return t.changeStatus()}),u.Sb(),u.Sb(),u.Sb(),u.Tb(26,"div",19),u.Tb(27,"form",20),u.ac("ngSubmit",function(){return t.submit()}),u.Tb(28,"div",21),u.Tb(29,"label",22),u.Kc(30,"Primer nombre"),u.Sb(),u.Ob(31,"input",23),u.Ic(32,Be,4,0,"small",24),u.Sb(),u.Tb(33,"div",21),u.Tb(34,"label",25),u.Kc(35,"Segundo nombre"),u.Sb(),u.Ob(36,"input",26),u.Ic(37,Ce,4,0,"small",24),u.Sb(),u.Tb(38,"div",21),u.Tb(39,"label",27),u.Kc(40,"Primer apellido"),u.Sb(),u.Ob(41,"input",28),u.Ic(42,Oe,4,0,"small",24),u.Sb(),u.Tb(43,"div",21),u.Tb(44,"label",29),u.Kc(45,"Segundo apellido"),u.Sb(),u.Ob(46,"input",30),u.Ic(47,xe,4,0,"small",24),u.Sb(),u.Tb(48,"div",31),u.Tb(49,"label",32),u.Kc(50,"Fecha de nacimiento"),u.Sb(),u.Ob(51,"p-calendar",33),u.Ic(52,Me,4,0,"small",24),u.Sb(),u.Tb(53,"div",34),u.Tb(54,"label",35),u.Kc(55,"N\xfamero de celular"),u.Sb(),u.Ob(56,"p-inputMask",36),u.Ic(57,ke,4,0,"small",24),u.Sb(),u.Tb(58,"div",31),u.Tb(59,"label",37),u.Kc(60,"Email"),u.Sb(),u.Ob(61,"input",38),u.Ic(62,Ke,4,0,"small",24),u.Sb(),u.Tb(63,"div",34),u.Tb(64,"label",39),u.Kc(65,"Dni"),u.Sb(),u.Ob(66,"p-inputMask",40),u.Ic(67,De,4,0,"small",24),u.Sb(),u.Tb(68,"div",21),u.Tb(69,"label",41),u.Kc(70,"Rol"),u.Sb(),u.Ob(71,"p-dropdown",42),u.Ic(72,Pe,4,0,"small",24),u.Sb(),u.Ic(73,Ne,5,6,"div",43),u.Tb(74,"div"),u.Tb(75,"label",44),u.Kc(76,"Nombre de contacto"),u.Sb(),u.Ob(77,"input",45),u.Ic(78,Ae,4,0,"small",24),u.Sb(),u.Tb(79,"div",46),u.Ob(80,"button",47),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb()),2&e&&(u.lc("ngIf",t.innerWidth>767),u.Bb(2),u.Gc(t.innerWidth>767?u.pc(35,Le):u.pc(36,Ue)),u.lc("baseZIndex",1e4),u.Bb(13),u.lc("ngIf",t.user.photo_path),u.Bb(1),u.lc("ngIf",!t.user.photo_path),u.Bb(1),u.lc("model",t.items),u.Bb(8),u.lc("ngModel",t.userStatus),u.Bb(2),u.lc("formGroup",t.userForm),u.Bb(5),u.lc("ngIf",t.isFieldValid("first_name")),u.Bb(5),u.lc("ngIf",t.isFieldValid("second_name")),u.Bb(5),u.lc("ngIf",t.isFieldValid("first_surname")),u.Bb(5),u.lc("ngIf",t.isFieldValid("second_surname")),u.Bb(4),u.lc("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",t.min_year+":"+t.max_year)("maxDate",t.max_date),u.Bb(1),u.lc("ngIf",t.isFieldValid("birthdate")),u.Bb(4),u.lc("unmask",!0)("autoClear",!1),u.Bb(1),u.lc("ngIf",t.isFieldValid("phone_number")),u.Bb(5),u.lc("ngIf",t.isFieldValid("email")),u.Bb(4),u.lc("unmask",!0)("autoClear",!1),u.Bb(1),u.lc("ngIf",t.isFieldValid("dni")),u.Bb(4),u.Gc(u.pc(37,Re)),u.lc("options",t.roles)("showClear",!0),u.Bb(1),u.lc("ngIf",t.isFieldValid("role_id")),u.Bb(1),u.lc("ngIf",2!=t.userForm.value.role_id),u.Bb(1),u.Db("p-field p-col-12  p-md-"+(2!=t.userForm.value.role_id?"12":"6")),u.Bb(4),u.lc("ngIf",t.isFieldValid("contact_name")))},directives:[r.l,ge.a,ve.a,M.a,Se.a,v.i,v.l,v.q,v.j,v.e,v.b,S.a,v.d,F.a,I.a,y.a,T.b,f.a],styles:[""]}),e})();var ze=i("kSmT"),qe=i("+F6F"),je=i("hYoW"),$e=i("DnMA"),Ve=i("MhiG"),Ge=i("gYft"),He=i("rEr+"),Je=i("QtfB");const Ze=["p"],Qe=function(){return["Usuarios","Detalle","Documentos"]};function Ye(e,t){1&e&&u.Ob(0,"app-mini-menu",14),2&e&&u.lc("options",u.pc(2,Qe))("icon","home")}function Xe(e,t){if(1&e){const e=u.Ub();u.Tb(0,"app-filter-component",15),u.ac("filterEvent",function(t){return u.Cc(e),u.ec().filterEvent(t)})("closeFilter",function(){return u.Cc(e),u.ec().closeFilterWindow()}),u.Sb()}if(2&e){const e=u.ec();u.lc("documentFilterInput",e.documentFilter)}}const et=function(){return{maxWidth:"190px"}},tt=function(){return{maxWidth:"223px"}};function it(e,t){if(1&e){const e=u.Ub();u.Tb(0,"div",16),u.Tb(1,"p-splitButton",17),u.ac("onClick",function(){return u.Cc(e),u.ec().show()}),u.Sb(),u.Tb(2,"span",18),u.Ob(3,"i",19),u.Tb(4,"input",20),u.ac("ngModelChange",function(t){return u.Cc(e),u.ec().documentFilter.name=t})("ngModelChange",function(t){return u.Cc(e),u.ec().searchEvent(t)}),u.Sb(),u.Sb(),u.Sb()}if(2&e){const e=u.ec();u.Bb(1),u.Gc(u.pc(6,et)),u.lc("model",e.items),u.Bb(3),u.Gc(u.pc(7,tt)),u.lc("ngModel",e.documentFilter.name)}}function rt(e,t){1&e&&u.Ob(0,"i",32)}function nt(e,t){1&e&&u.Ob(0,"i",33)}function ot(e,t){1&e&&u.Ob(0,"i",34)}function st(e,t){1&e&&u.Ob(0,"i",32)}function at(e,t){1&e&&u.Ob(0,"i",33)}function ct(e,t){1&e&&u.Ob(0,"i",34)}function lt(e,t){1&e&&u.Ob(0,"i",32)}function ut(e,t){1&e&&u.Ob(0,"i",35)}function dt(e,t){1&e&&u.Ob(0,"i",36)}function pt(e,t){1&e&&u.Ob(0,"i",32)}function mt(e,t){1&e&&u.Ob(0,"i",35)}function bt(e,t){1&e&&u.Ob(0,"i",36)}function ht(e,t){1&e&&u.Ob(0,"i",32)}function ft(e,t){1&e&&u.Ob(0,"i",35)}function gt(e,t){1&e&&u.Ob(0,"i",36)}const vt=function(e){return[e,1]};function St(e,t){if(1&e){const e=u.Ub();u.Tb(0,"tr"),u.Tb(1,"th",21),u.ac("click",function(){return u.Cc(e),u.ec().sortByField(2)}),u.Kc(2," Nombre del documento "),u.Ic(3,rt,1,0,"i",22),u.Ic(4,nt,1,0,"i",23),u.Ic(5,ot,1,0,"i",24),u.Sb(),u.Tb(6,"th",25),u.ac("click",function(){return u.Cc(e),u.ec().sortByField(3)}),u.Kc(7," Categor\xeda "),u.Ic(8,st,1,0,"i",22),u.Ic(9,at,1,0,"i",23),u.Ic(10,ct,1,0,"i",24),u.Sb(),u.Tb(11,"th",26),u.ac("click",function(){return u.Cc(e),u.ec().sortByField(4)}),u.Kc(12," Fecha de env\xedo "),u.Ic(13,lt,1,0,"i",22),u.Ic(14,ut,1,0,"i",27),u.Ic(15,dt,1,0,"i",28),u.Sb(),u.Tb(16,"th",29),u.ac("click",function(){return u.Cc(e),u.ec().sortByField(5)}),u.Kc(17," Estado "),u.Ic(18,pt,1,0,"i",22),u.Ic(19,mt,1,0,"i",27),u.Ic(20,bt,1,0,"i",28),u.Sb(),u.Tb(21,"th",30),u.ac("click",function(){return u.Cc(e),u.ec().sortByField(6)}),u.Kc(22," Fecha de estado "),u.Ic(23,ht,1,0,"i",22),u.Ic(24,ft,1,0,"i",27),u.Ic(25,gt,1,0,"i",28),u.Sb(),u.Tb(26,"th",31),u.Kc(27,"Acciones"),u.Sb(),u.Sb()}if(2&e){const e=u.ec();u.Bb(3),u.lc("ngIf",!(u.qc(15,vt,-1).includes(e.documentFilter.orderSort)&&2==e.documentFilter.fieldSort)),u.Bb(1),u.lc("ngIf",-1==e.documentFilter.orderSort&&2==e.documentFilter.fieldSort),u.Bb(1),u.lc("ngIf",1==e.documentFilter.orderSort&&2==e.documentFilter.fieldSort),u.Bb(3),u.lc("ngIf",!(u.qc(17,vt,-1).includes(e.documentFilter.orderSort)&&3==e.documentFilter.fieldSort)),u.Bb(1),u.lc("ngIf",-1==e.documentFilter.orderSort&&3==e.documentFilter.fieldSort),u.Bb(1),u.lc("ngIf",1==e.documentFilter.orderSort&&3==e.documentFilter.fieldSort),u.Bb(3),u.lc("ngIf",!(u.qc(19,vt,-1).includes(e.documentFilter.orderSort)&&4==e.documentFilter.fieldSort)),u.Bb(1),u.lc("ngIf",-1==e.documentFilter.orderSort&&4==e.documentFilter.fieldSort),u.Bb(1),u.lc("ngIf",1==e.documentFilter.orderSort&&4==e.documentFilter.fieldSort),u.Bb(3),u.lc("ngIf",!(u.qc(21,vt,-1).includes(e.documentFilter.orderSort)&&5==e.documentFilter.fieldSort)),u.Bb(1),u.lc("ngIf",-1==e.documentFilter.orderSort&&5==e.documentFilter.fieldSort),u.Bb(1),u.lc("ngIf",1==e.documentFilter.orderSort&&5==e.documentFilter.fieldSort),u.Bb(3),u.lc("ngIf",!(u.qc(23,vt,-1).includes(e.documentFilter.orderSort)&&6==e.documentFilter.fieldSort)),u.Bb(1),u.lc("ngIf",-1==e.documentFilter.orderSort&&6==e.documentFilter.fieldSort),u.Bb(1),u.lc("ngIf",1==e.documentFilter.orderSort&&6==e.documentFilter.fieldSort)}}function It(e,t){if(1&e){const e=u.Ub();u.Tb(0,"tr",38),u.Tb(1,"td",39),u.Kc(2),u.Sb(),u.Tb(3,"td",40),u.Ob(4,"i",41),u.Kc(5),u.Sb(),u.Tb(6,"td",42),u.Kc(7),u.fc(8,"titlecase"),u.fc(9,"date"),u.Sb(),u.Tb(10,"td",43),u.Tb(11,"span"),u.Kc(12),u.Sb(),u.Sb(),u.Tb(13,"td",44),u.Kc(14),u.fc(15,"titlecase"),u.fc(16,"date"),u.Sb(),u.Tb(17,"td",31),u.Tb(18,"button",45),u.ac("click",function(){u.Cc(e);const t=u.ec().$implicit;return u.ec().goToDetail(t.id)}),u.Sb(),u.Tb(19,"a",46),u.Ob(20,"button",47),u.Sb(),u.Sb(),u.Sb()}if(2&e){const e=u.ec().$implicit,t=u.ec();u.lc("pSelectableRow",e),u.Bb(2),u.Mc("",e.name," "),u.Bb(3),u.Mc(" \xa0 ",null==e.documentsubcategory||null==e.documentsubcategory.documentcategory?null:e.documentsubcategory.documentcategory.name,""),u.Bb(2),u.Lc(u.gc(8,9,u.hc(9,11,e.createdAt,"MMM d, y hh:mm a"))),u.Bb(4),u.Db(" status "+t.getStatusClass(e.status)),u.Bb(1),u.Lc(null==e.status?"Pendiente":e.status?"Aprobado":"Rechazado"),u.Bb(2),u.Lc(e.status_date?u.gc(15,14,u.hc(16,16,e.status_date,"MMM d, y hh:mm a")):"-"),u.Bb(5),u.lc("href",e.path,u.Ec)}}function Ft(e,t){if(1&e&&u.Ic(0,It,21,19,"tr",37),2&e){const e=u.ec();u.lc("ngIf",e.documentsFound)}}function yt(e,t){1&e&&(u.Tb(0,"div",48),u.Tb(1,"h3",49),u.Kc(2,"No se encontraron documentos"),u.Sb(),u.Sb())}const Tt=function(){return{width:"34em"}},wt=function(){return{width:"100%"}},_t=function(){return[5,10,15,20]};let Bt=(()=>{class e{constructor(e,t){this.documentService=e,this.router=t,this.visibleSidebar=!1,this.documentsFound=!0,this.documentFilterResult=new c.a,this.documentFilter=new $e.a,this.lastName="",this.timer=null}onResize(e){this.innerWidth=window.innerWidth}ngOnInit(){this.innerWidth=window.innerWidth,this.items=[{label:"Limpiar ",icon:"pi pi-filter-slash",command:()=>{var e;localStorage.removeItem("docByUserFilter"),this.documentFilter=new $e.a,null===(e=this.paginator)||void 0===e||e.changePage(0)}},{separator:!0},{label:"Refrescar",icon:"pi pi-refresh",command:()=>{var e;this.documentFilter.fieldSort=void 0,null===(e=this.paginator)||void 0===e||e.changePage(0)}}],this.urlBase=l.a.urlBase,this.documentFilter=JSON.parse(localStorage.getItem("docByUserFilter"))?JSON.parse(localStorage.getItem("docByUserFilter")):new $e.a,this.documentFilter=this.user.id!==this.documentFilter.user_id?new $e.a:this.documentFilter,this.documentFilter.size=this.documentFilter.size?this.documentFilter.size:5,this.submit(this.documentFilter.page?this.documentFilter.page:0)}ngAfterViewInit(){var e;0!==(null===(e=this.documentFilter)||void 0===e?void 0:e.page)&&setTimeout(()=>{var e;null===(e=this.paginator)||void 0===e||e.changePage(this.documentFilter.page?this.documentFilter.page:0)},300)}submit(e){this.documentFilter.page=e,this.documentFilter.user_id=this.user.id,this.documentService.filterDocumentsAdmin(this.documentFilter).subscribe(e=>{200==e.code?(this.documentsFound=!0,this.documentFilterResult=e.object):404==e.code&&(this.documentsFound=!1,this.documentFilterResult.list=[]),localStorage.setItem("docByUserFilter",JSON.stringify(this.documentFilter))})}paginate(e){this.documentFilter.size=e.rows,this.submit(e.page)}getStatusClass(e){return Object(Ve.d)(e)}goToDetail(e){this.router.navigate(["documents/detail/"+e],{queryParams:{isUserDetailPrev:!0}})}sortByField(e){var t;this.documentFilter.fieldSort=e,this.documentFilter.orderSort=this.lastField==e&&1==this.documentFilter.orderSort?-1:1,this.lastField=e,null===(t=this.paginator)||void 0===t||t.changePage(0)}searchEvent(e){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.search(e)},700)}search(e){e!==this.lastName&&this.submit(0),this.lastName=e}closeFilterWindow(){this.visibleSidebar=!1}show(){this.visibleSidebar=!0}filterEvent(e){e&&(this.documentFilter=Object.assign({},e),this.submit(0)),this.closeFilterWindow()}}return e.\u0275fac=function(t){return new(t||e)(u.Nb(Ge.a),u.Nb(n.b))},e.\u0275cmp=u.Hb({type:e,selectors:[["app-user-documents"]],viewQuery:function(e,t){if(1&e&&u.Qc(Ze,1),2&e){let e;u.yc(e=u.bc())&&(t.paginator=e.first)}},hostBindings:function(e,t){1&e&&u.ac("resize",function(e){return t.onResize(e)},!1,u.Bc)},inputs:{user:"user"},decls:16,vars:23,consts:[[3,"options","icon",4,"ngIf"],[1,"myFormFilter",3,"blockScroll","visible","baseZIndex","visibleChange"],[3,"documentFilterInput","filterEvent","closeFilter",4,"ngIf"],[1,"p-mt-2"],[1,"card","myCard","myBg"],[1,"p-text-left","myTitle",2,"margin-bottom","0"],["sortMode","multiple","styleClass","p-datatable-striped","scrollDirection","Horizontal",3,"value","scrollable"],["t",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"rows","showCurrentPageReport","showJumpToPageDropdown","currentPageReportTemplate","totalRecords","pageLinkSize","rowsPerPageOptions","onPageChange"],["p",""],["class","p-d-flex p-jc-center",4,"ngIf"],[3,"options","icon"],[3,"documentFilterInput","filterEvent","closeFilter"],[1,""],["label","Aplicar Filtros","icon","pi pi-filter","styleClass","p-button-primary p-mb-2",3,"model","onClick"],[1,"p-input-icon-left","p-mb-2","p-mb-md-0"],[1,"pi","pi-search"],["type","search","pInputText","","autocomplete","off","placeholder","Buscar por nombre","name","name",3,"ngModel","ngModelChange"],[2,"cursor","pointer","width","200px",3,"click"],["class","pi pi-sort-alt",4,"ngIf"],["class","pi pi-sort-alpha-down-alt",4,"ngIf"],["class","pi pi-sort-alpha-up",4,"ngIf"],[2,"cursor","pointer","width","160px",3,"click"],[2,"cursor","pointer","width","180px",3,"click"],["class","pi pi-sort-amount-down",4,"ngIf"],["class","pi pi-sort-amount-up-alt",4,"ngIf"],[2,"cursor","pointer","width","120px","text-align","center",3,"click"],[2,"cursor","pointer","width","190px",3,"click"],[2,"width","140px","text-align","center"],[1,"pi","pi-sort-alt"],[1,"pi","pi-sort-alpha-down-alt"],[1,"pi","pi-sort-alpha-up"],[1,"pi","pi-sort-amount-down"],[1,"pi","pi-sort-amount-up-alt"],[3,"pSelectableRow",4,"ngIf"],[3,"pSelectableRow"],[2,"width","200px"],[2,"width","160px"],[1,"pi","pi-tag","tag-color"],[2,"width","180px"],[2,"width","120px","text-align","center"],[2,"width","190px"],["pButton","","pRipple","","type","button","icon","pi pi-eye",1,"p-button-info","p-mr-1",3,"click"],["target","blank",2,"text-decoration","none",3,"href"],["pButton","","pRipple","","type","button","icon","pi pi-download",1,"p-button-info","p-mr-1","p-mt-1"],[1,"p-d-flex","p-jc-center"],[1,"primary-color"]],template:function(e,t){1&e&&(u.Ic(0,Ye,1,3,"app-mini-menu",0),u.Tb(1,"p-sidebar",1),u.ac("visibleChange",function(e){return t.visibleSidebar=e}),u.Ic(2,Xe,1,1,"app-filter-component",2),u.Sb(),u.Tb(3,"div",3),u.Tb(4,"div",4),u.Tb(5,"h2",5),u.Kc(6," Historial de documentos "),u.Sb(),u.Tb(7,"p-table",6,7),u.Ic(9,it,5,8,"ng-template",8),u.Ic(10,St,28,25,"ng-template",9),u.Ic(11,Ft,1,1,"ng-template",10),u.Sb(),u.Ob(12,"br"),u.Tb(13,"p-paginator",11,12),u.ac("onPageChange",function(e){return t.paginate(e)}),u.Sb(),u.Ic(15,yt,3,0,"div",13),u.Sb(),u.Sb()),2&e&&(u.lc("ngIf",t.innerWidth>767),u.Bb(1),u.Gc(t.innerWidth>544?u.pc(20,Tt):u.pc(21,wt)),u.lc("blockScroll",!0)("visible",t.visibleSidebar)("baseZIndex",1e4),u.Bb(1),u.lc("ngIf",t.visibleSidebar),u.Bb(5),u.lc("value",t.documentFilterResult.list)("scrollable",!0),u.Bb(6),u.Db(t.documentsFound?"":"ocult"),u.oc("currentPageReportTemplate","P\xe1gina ",t.documentFilterResult.currentPage+1," de ",t.documentFilterResult.totalPages,""),u.lc("rows",t.documentFilter.size)("showCurrentPageReport",!0)("showJumpToPageDropdown",!1)("totalRecords",t.documentFilterResult.totalItems)("pageLinkSize",3)("rowsPerPageOptions",u.pc(22,_t)),u.Bb(2),u.lc("ngIf",!t.documentsFound))},directives:[r.l,p.a,He.b,b.i,h.a,f.a,Je.a,M.a,v.b,S.a,v.i,v.l,He.a,T.b],pipes:[r.t,r.e],styles:[""]}),e})();const Ct=function(){return{"background-color":"#2196F3",color:"#ffffff"}};function Ot(e,t){if(1&e&&(u.Ob(0,"p-avatar",13),u.fc(1,"uppercase")),2&e){const e=u.ec(2);u.Gc(u.pc(5,Ct)),u.lc("label",u.gc(1,3,e.username[0]))}}function xt(e,t){if(1&e&&u.Ob(0,"img",14),2&e){const e=u.ec(2);u.lc("src",null==e.user?null:e.user.photo_path,u.Ec)}}function Mt(e,t){1&e&&u.Ob(0,"p-tag",15)}function kt(e,t){1&e&&u.Ob(0,"p-tag",16)}function Kt(e,t){if(1&e){const e=u.Ub();u.Tb(0,"app-general-information",17),u.ac("updated",function(t){return u.Cc(e),u.ec(2).reload(t)}),u.Sb()}if(2&e){const e=u.ec(2);u.lc("user",e.user)}}function Dt(e,t){if(1&e&&u.Ob(0,"app-user-documents",18),2&e){const e=u.ec(2);u.lc("user",e.user)}}function Pt(e,t){if(1&e&&(u.Tb(0,"div",2),u.Tb(1,"div",3),u.Tb(2,"div"),u.Tb(3,"h2",4),u.Ic(4,Ot,2,6,"p-avatar",5),u.Ic(5,xt,1,1,"img",6),u.Kc(6),u.fc(7,"titlecase"),u.fc(8,"titlecase"),u.Tb(9,"div"),u.Ic(10,Mt,1,0,"p-tag",7),u.Ic(11,kt,1,0,"p-tag",8),u.Sb(),u.Sb(),u.Sb(),u.Ob(12,"p-panelMenu",9),u.Sb(),u.Tb(13,"div",10),u.Ic(14,Kt,1,1,"app-general-information",11),u.Ic(15,Dt,1,1,"app-user-documents",12),u.Sb(),u.Sb()),2&e){const e=u.ec();u.Bb(2),u.Db("p-grid p-mt-3 p-mb-3 "+(e.innerWidth>767?" p-ml-2":" p-d-flex p-jc-center")),u.Bb(2),u.lc("ngIf",!(null!=e.user&&e.user.photo_path)),u.Bb(1),u.lc("ngIf",null==e.user?null:e.user.photo_path),u.Bb(1),u.Nc(" ",u.gc(7,13,null==e.user?null:e.user.first_name)," ",u.gc(8,15,null==e.user?null:e.user.first_surname)," \xa0\xa0 "),u.Bb(3),u.Db(e.innerWidth>767?" ":"p-d-flex p-jc-center"),u.Bb(1),u.lc("ngIf",e.user.enabled),u.Bb(1),u.lc("ngIf",!e.user.enabled),u.Bb(1),u.lc("model",e.items),u.Bb(2),u.lc("ngIf",e.router.url.includes("general-information")),u.Bb(1),u.lc("ngIf",e.router.url.includes("documents"))}}const Et=[{path:"",children:[{path:"",component:pe,canLoad:[s.a],canActivate:[s.a],data:{USER_ROLES:[o.a.USER_ADMIN],MODULE:me.a.USERS}},{path:"detail/:id",component:(()=>{class e{constructor(e,t,i,r){this.userService=e,this.messageService=t,this.route=i,this.router=r,this.items=[],this.username=""}onResize(e){this.innerWidth=window.innerWidth}ngOnInit(){var e;this.innerWidth=window.innerWidth,this.userId=null===(e=this.route.snapshot.paramMap.get("id"))||void 0===e?void 0:e.toString(),this.loadUserData(),this.urlBase=l.a.urlBase}loadUserData(){this.userService.getUserById(this.userId).subscribe(e=>{var t;200==e.code?(this.user=e.object,this.username=`${e.object.first_name}`.trim(),this.setItems(),null===(t=this.generalData)||void 0===t||t.setMenu(this.user.photo_path)):404===e.code&&(this.messageService.add({key:"tc",severity:"warn",summary:"No encontrado",detail:"El usuario no existe"}),setTimeout(()=>{this.router.navigate(["./users/"])},3e3))})}setItems(){this.items=[{label:"Informaci\xf3n General",icon:"pi pi-fw pi-user-edit",routerLink:`/users/detail/${this.user.id}/general-information`},{label:"Documentos",icon:"pi pi-fw pi-file",routerLink:`/users/detail/${this.user.id}/documents`}]}reload(e){this.loadUserData()}}return e.\u0275fac=function(t){return new(t||e)(u.Nb(d.a),u.Nb(b.g),u.Nb(n.a),u.Nb(n.b))},e.\u0275cmp=u.Hb({type:e,selectors:[["app-detail"]],viewQuery:function(e,t){if(1&e&&u.Qc(We,1),2&e){let e;u.yc(e=u.bc())&&(t.generalData=e.first)}},hostBindings:function(e,t){1&e&&u.ac("resize",function(e){return t.onResize(e)},!1,u.Bc)},features:[u.Ab([b.g])],decls:2,vars:1,consts:[["position","top-center","key","tc"],["class","p-grid p-formgrid p-fluid",4,"ngIf"],[1,"p-grid","p-formgrid","p-fluid"],[1,"p-field","p-col-12","p-md-3"],[1,"text-color",2,"margin","0"],["styleClass","p-mr-2","shape","circle",3,"label","style",4,"ngIf"],["alt","user?.photo_path","class","myMiniAvatar",3,"src",4,"ngIf"],["styleClass","p-mr-2","severity","success","value","HABILITADO",4,"ngIf"],["severity","danger","value","INHABILITADO",4,"ngIf"],[3,"model"],[1,"p-field","p-col-12","p-md-9"],[3,"user","updated",4,"ngIf"],[3,"user",4,"ngIf"],["styleClass","p-mr-2","shape","circle",3,"label"],["alt","user?.photo_path",1,"myMiniAvatar",3,"src"],["styleClass","p-mr-2","severity","success","value","HABILITADO"],["severity","danger","value","INHABILITADO"],[3,"user","updated"],[3,"user"]],template:function(e,t){1&e&&(u.Ob(0,"p-toast",0),u.Ic(1,Pt,16,17,"div",1)),2&e&&(u.Bb(1),u.lc("ngIf",t.user))},directives:[ge.a,r.l,ze.a,qe.a,je.a,We,Bt],pipes:[r.t,r.u],styles:[""]}),e})(),canLoad:[s.a],canActivate:[s.a],data:{USER_ROLES:[o.a.USER_ADMIN],MODULE:me.a.USERS},children:[{path:"general-information",component:We,canLoad:[s.a],canActivate:[s.a],data:{USER_ROLES:[o.a.USER_ADMIN],MODULE:me.a.USERS}},{path:"documents",component:Bt,canLoad:[s.a],canActivate:[s.a],data:{USER_ROLES:[o.a.USER_ADMIN],MODULE:me.a.USERS}},{path:"**",redirectTo:"general-information"}]},{path:"**",redirectTo:""}]}];let Rt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Lb({type:e}),e.\u0275inj=u.Kb({imports:[[n.f.forChild(Et)],n.f]}),e})();var Nt=i("uPqY"),At=i("V/fk"),Lt=i("oKuv"),Ut=i("PCNd");let Wt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Lb({type:e}),e.\u0275inj=u.Kb({imports:[[r.c,Rt,Nt.a,At.a,Lt.DocumentModule,v.o,Ut.a]]}),e})()}}]);