(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{pU93:function(e,t,r){"use strict";r.r(t),r.d(t,"SettingsModule",function(){return ce});var i=r("ofXK"),s=r("tyNb"),a=r("AytR"),o=r("fXoL"),n=r("x4NB"),c=r("kSmT"),l=r("+F6F");const m=function(){return{"background-color":"#2196F3",color:"#ffffff"}};function u(e,t){if(1&e&&(o.Nb(0,"p-avatar",8),o.ec(1,"uppercase")),2&e){const e=o.dc();o.Fc(o.oc(5,m)),o.kc("label",o.fc(1,3,e.username[0]))}}function p(e,t){if(1&e&&o.Nb(0,"img",9),2&e){const e=o.dc();o.kc("src",null==e.user?null:e.user.photo_path,o.Dc)}}let d=(()=>{class e{constructor(e){this.userService=e,this.username=""}ngOnInit(){this.urlBase=a.a.urlBase,this.loadCurrentUser(),this.items=[{label:"Cuenta",icon:"pi pi-fw pi-user-edit",routerLink:"/settings/account"},{label:"Seguridad",icon:"pi pi-fw pi-lock",routerLink:"/settings/security"},{label:"Apariencia",icon:"pi pi-fw pi-moon",routerLink:"/settings/appearance"}],this.userService.changeAvatarEmitter.subscribe(e=>{this.loadCurrentUser()})}loadCurrentUser(){this.userService.getCurrentUser().subscribe(e=>{200==e.code&&(this.user=e.object,this.username=`${e.object.first_name}`.trim())})}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(n.a))},e.\u0275cmp=o.Gb({type:e,selectors:[["app-index"]],decls:12,vars:9,consts:[[1,"p-grid"],[1,"p-col-3"],[1,"p-grid","p-mt-3","p-mb-3","p-ml-2"],["styleClass","p-mr-2","shape","circle",3,"label","style",4,"ngIf"],["alt","user?.photo_path","class","myMiniAvatar",3,"src",4,"ngIf"],[1,"text-color",2,"margin","0"],[3,"model"],[1,"p-col-9","p-pl-4"],["styleClass","p-mr-2","shape","circle",3,"label"],["alt","user?.photo_path",1,"myMiniAvatar",3,"src"]],template:function(e,t){1&e&&(o.Sb(0,"div",0),o.Sb(1,"div",1),o.Sb(2,"div",2),o.Hc(3,u,2,6,"p-avatar",3),o.Hc(4,p,1,1,"img",4),o.Sb(5,"h2",5),o.Jc(6),o.ec(7,"titlecase"),o.ec(8,"titlecase"),o.Rb(),o.Rb(),o.Nb(9,"p-panelMenu",6),o.Rb(),o.Sb(10,"div",7),o.Nb(11,"router-outlet"),o.Rb(),o.Rb()),2&e&&(o.Bb(3),o.kc("ngIf",!(null!=t.user&&t.user.photo_path)),o.Bb(1),o.kc("ngIf",null==t.user?null:t.user.photo_path),o.Bb(2),o.Mc(" ",o.fc(7,5,null==t.user?null:t.user.first_name)," ",o.fc(8,7,null==t.user?null:t.user.first_surname)," "),o.Bb(3),o.kc("model",t.items))},directives:[i.l,c.a,s.g,l.a],pipes:[i.t,i.u],styles:[""]}),e})();var b=r("b4N3"),h=r("7zfz"),f=r("3Pt+"),v=r("J7/z"),g=r("Rp2L"),S=r("UKuc"),y=r("/JoM"),w=r("0ADX"),R=r("Gxio"),_=r("Nf9I"),k=r("Wq6t"),C=r("7kUa"),x=r("eO1q"),N=r("CwEU"),I=r("arFO"),F=r("jIHw");const B=["myInputFile"],J=["mySplitButton"];function E(e,t){if(1&e&&o.Nb(0,"img",45),2&e){const e=o.dc();o.kc("src",e.user.photo_path,o.Dc)}}function A(e,t){1&e&&(o.cc(),o.Sb(0,"svg",46),o.Nb(1,"defs"),o.Sb(2,"g",47),o.Nb(3,"path",48),o.Rb(),o.Rb())}function M(e,t){1&e&&(o.Sb(0,"small",49),o.Sb(1,"span"),o.Jc(2," Campo requerido. "),o.Rb(),o.Jc(3,"\xa0 "),o.Rb())}function T(e,t){1&e&&(o.Sb(0,"small",49),o.Sb(1,"span"),o.Jc(2," Campo requerido. "),o.Rb(),o.Jc(3,"\xa0 "),o.Rb())}function U(e,t){1&e&&(o.Sb(0,"small",49),o.Sb(1,"span"),o.Jc(2," Campo requerido. "),o.Rb(),o.Jc(3,"\xa0 "),o.Rb())}function L(e,t){1&e&&(o.Sb(0,"small",49),o.Sb(1,"span"),o.Jc(2," Campo requerido. "),o.Rb(),o.Jc(3,"\xa0 "),o.Rb())}function D(e,t){1&e&&(o.Sb(0,"small",49),o.Sb(1,"span"),o.Jc(2," Campo requerido. "),o.Rb(),o.Jc(3,"\xa0 "),o.Rb())}function q(e,t){1&e&&(o.Sb(0,"small",49),o.Sb(1,"span"),o.Jc(2," Campo requerido. "),o.Rb(),o.Jc(3,"\xa0 "),o.Rb())}function V(e,t){1&e&&(o.Sb(0,"small",49),o.Sb(1,"span"),o.Jc(2," Email no v\xe1lido. "),o.Rb(),o.Jc(3,"\xa0 "),o.Rb())}function H(e,t){1&e&&(o.Sb(0,"small",49),o.Sb(1,"span"),o.Jc(2," Campo num\xe9rico de 8 d\xedgitos. "),o.Rb(),o.Jc(3,"\xa0 "),o.Rb())}function P(e,t){1&e&&(o.Sb(0,"small",49),o.Sb(1,"span"),o.Jc(2," Campo requerido. "),o.Rb(),o.Jc(3,"\xa0 "),o.Rb())}const O=function(){return["Configuraci\xf3n","Cuenta"]},j=function(){return{width:"50vw"}};let G=(()=>{class e{constructor(e,t,r,i,s,a){this.fb=e,this.authService=t,this.userService=r,this.messageService=i,this.dialogService=s,this.confirmationService=a,this.max_date=new Date,this.min_year=(new Date).getFullYear()-100,this.max_year=(new Date).getFullYear()-10,this.user=new b.a,this.isRoleAdmin=!1,this.userForm=this.fb.group({first_name:[,[f.p.required,f.p.maxLength(30),f.p.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]],second_name:[,[f.p.maxLength(30)]],first_surname:[,[f.p.required,f.p.maxLength(30),f.p.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]],second_surname:[,[f.p.maxLength(30)]],contact_name:[,[f.p.maxLength(30)]],phone_number:[,[f.p.required,f.p.minLength(11)]],birthdate:[,[f.p.required]],email:[,[f.p.required,f.p.maxLength(40),f.p.pattern(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)]],dni:[,[f.p.required,f.p.pattern(/^([0-9])*$/),f.p.minLength(8),f.p.maxLength(8)]]})}ngOnInit(){this.getCurrentUser(),this.isRoleAdmin=this.authService.getUserRole()==S.a.USER_ADMIN,this.urlBase=a.a.urlBase}isFieldValid(e){return this.userForm.controls[e].errors&&this.userForm.controls[e].touched}getCurrentUser(){this.userService.getCurrentUser().subscribe(e=>{200==e.code&&(this.user=e.object,this.userForm.reset({first_name:this.user.first_name,second_name:this.user.second_name,first_surname:this.user.first_surname,second_surname:this.user.second_surname,contact_name:this.user.contact_name,phone_number:this.user.phone_number,birthdate:this.user.birthdate?new Date(`${this.user.birthdate}`):null,dni:this.user.dni,email:this.user.email}),this.setMenu(this.user.photo_path))},e=>{this.messageService.add({key:"tc",severity:"error",summary:"Error",detail:"Cont\xe1ctese con el administrador"})})}setMenu(e){this.items=[{label:e?"Cambiar avatar":"A\xf1adir avatar",icon:"pi pi-upload",command:()=>{this.clickInputFile()}}],e&&this.items.push({label:"Eliminar avatar",icon:"pi pi-trash",command:()=>{this.removeConfirm()}})}clickInputFile(){this.myInputFile.nativeElement.click()}submit(){this.userForm.invalid?this.userForm.markAllAsTouched():this.verifyChanges()||this.userService.updateCurrentUser(this.userForm.value).subscribe(e=>{var t,r,i,s,a,o,n,c;200==e.code?(this.messageService.add({key:"tc",severity:"success",summary:"\xc9xito",detail:"Datos guardados correctamente"}),this.getCurrentUser()):void 0!==(null===(t=e.errors)||void 0===t?void 0:t.birthdate)?this.showError(null===(r=e.errors.birthdate)||void 0===r?void 0:r.msg):void 0!==(null===(i=e.errors)||void 0===i?void 0:i.phone_number)?this.showError(null===(s=e.errors.phone_number)||void 0===s?void 0:s.msg):void 0!==(null===(a=e.errors)||void 0===a?void 0:a.first_name)?this.showError(null===(o=e.errors.first_name)||void 0===o?void 0:o.msg):void 0!==(null===(n=e.errors)||void 0===n?void 0:n.first_surname)&&this.showError(null===(c=e.errors.first_surname)||void 0===c?void 0:c.msg)},e=>{this.messageService.add({key:"tc",severity:"error",summary:"Error",detail:"Cont\xe1ctese con el administrador"})})}verifyChanges(){return this.user.first_name==this.userForm.value.first_name&&this.user.second_name==this.userForm.value.second_name&&this.user.first_surname==this.userForm.value.first_surname&&this.user.second_surname==this.userForm.value.second_surname&&this.user.phone_number==this.userForm.value.phone_number&&this.user.contact_name==this.userForm.value.contact_name&&this.user.email==this.userForm.value.email&&this.user.dni==this.userForm.value.dni&&this.user.birthdate==new Date(this.userForm.value.birthdate).toISOString()}ngOnDestroy(){this.ref&&this.ref.close()}showCropper(e){this.ref=this.dialogService.open(g.a,{data:{event:e},header:"Personaliza tu nuevo avatar",width:"60%",contentStyle:{"max-height":"1000px",overflow:"auto"},baseZIndex:1}),this.ref.onClose.subscribe(e=>{e?this.userService.setPhoto(e).subscribe(e=>{200==e.code?(this.messageService.add({key:"tc",severity:"success",summary:"\xc9xito",detail:"Avatar actualizado correctamente"}),this.userService.ChangeAvatarEmitter("")):this.messageService.add({key:"tc",severity:"error",summary:"Error",detail:"No se pudo actualizar el avatar"}),this.getCurrentUser()},e=>{this.messageService.add({key:"tc",severity:"error",summary:"Error",detail:"Cont\xe1ctese con el administrador"})}):"error"==e&&this.showError("Por favor seleccione otra","No se pudo procesar la imagen")})}edit(){console.log(this.mySplitButton.buttonViewChild.nativeElement.click())}onSelectImg(e){if(e.currentTarget.files){if(e.currentTarget.files[0].size>15e4)return void this.showError("Por favor suba una imagen menor a 150 KB","Imagen demasiado grande");this.showCropper(e)}}removePhoto(){this.userService.removePhoto().subscribe(e=>{200==e.code?(this.messageService.add({key:"tc",severity:"success",summary:"\xc9xito",detail:"Avatar eliminado correctamente"}),this.getCurrentUser()):this.messageService.add({key:"tc",severity:"error",summary:"Incorrecto",detail:"El avatar no fue eliminado"})},e=>{this.messageService.add({key:"tc",severity:"error",summary:"Error",detail:"Cont\xe1ctese con el administrador"})})}removeConfirm(){this.confirmationService.confirm({message:"\xbfEst\xe1 seguro(a) que quiere eliminar su avatar?",header:"Confirmaci\xf3n",icon:"pi pi-info-circle",accept:()=>{this.removePhoto()},reject:e=>{}})}showError(e,t="Incorrecto"){this.messageService.add({key:"tc",severity:"error",summary:t,detail:e})}showWarning(e,t="Advertencia"){this.messageService.add({key:"tc",severity:"warn",summary:t,detail:e})}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(f.c),o.Mb(y.a),o.Mb(n.a),o.Mb(h.g),o.Mb(v.a),o.Mb(h.a))},e.\u0275cmp=o.Gb({type:e,selectors:[["app-account"]],viewQuery:function(e,t){if(1&e&&(o.Pc(B,1),o.Pc(J,1)),2&e){let e;o.xc(e=o.ac())&&(t.myInputFile=e.first),o.xc(e=o.ac())&&(t.mySplitButton=e.first)}},features:[o.Ab([h.g,v.a,h.a])],decls:75,vars:33,consts:[[1,"miniMenu",3,"options","icon"],["position","top-center","key","tc"],["rejectButtonStyleClass","p-button-text",3,"baseZIndex"],[1,"card","myCard","myBg","p-mt-2"],[1,"p-text-left","myTitle"],[1,"pi","pi-user",2,"font-size","1.5rem"],[1,"text-color"],[1,"p-fluid","p-grid"],[1,"p-field","p-col-12","p-md-4","p-pr-4"],["for","first_name",1,"p-text-left","text-color"],[1,"avatar-container"],["class","myAvatar","width","100%","alt","",3,"src",4,"ngIf"],["class","myAvatarSvg","viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["styleClass","p-button-secondary","label","Editar","icon","pi pi-pencil",1,"myAvatarBtn",3,"model","onClick"],["mySplitButton",""],["type","file","accept",".png,.jpg,.jpeg",1,"ocult",3,"change"],["myInputFile",""],[1,"p-field","p-col-12","p-md-8"],[1,"p-fluid","p-formgrid","p-grid",3,"formGroup","ngSubmit"],[1,"p-field","p-col-12","p-md-6"],["for","first_name",1,"text-color"],["id","first_name","type","text","pInputText","","formControlName","first_name","autocomplete","off"],["class","p-error",4,"ngIf"],["for","second_name",1,"text-color"],["id","second_name","type","text","pInputText","","formControlName","second_name","autocomplete","off"],["for","first_surname",1,"text-color"],["id","first_surname","type","text","pInputText","","formControlName","first_surname","autocomplete","off"],["for","second_surname",1,"text-color"],["id","second_surname","type","text","pInputText","","formControlName","second_surname","autocomplete","off"],[1,"p-field","p-col-12","p-md-7"],["for","birthdate",1,"text-color"],["dateFormat","dd/mm/yy","name","birthdate","id","birthdate","formControlName","birthdate","inputId","navigators",3,"showIcon","monthNavigator","yearNavigator","yearRange","maxDate"],[1,"p-field","p-col-12","p-md-5"],["for","phone_number",1,"text-color"],["formControlName","phone_number","mask","(+99) 999-999-999",3,"unmask","autoClear"],["for","email",1,"text-color"],["id","email","formControlName","email","type","text","pInputText","","autocomplete","off"],["for","dni",1,"text-color"],["formControlName","dni","mask","99999999",3,"unmask","autoClear"],["for","ocupation",1,"text-color"],[3,"optionDisabled","disabled","placeholder"],["for","contact_name",1,"text-color"],["id","contact_name","type","text","pInputText","","formControlName","contact_name","autocomplete","off"],[1,"p-field","p-col-12","p-md-12","p-mt-2"],["type","submit","pButton","","label","Guardar datos","icon","pi pi-save",1,"myBtnInput","p-button-primary"],["width","100%","alt","",1,"myAvatar",3,"src"],["viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg",1,"myAvatarSvg"],["id","User"],["d","M28,22.5c0,3.645-5.2715,6.5-12,6.5S4,26.145,4,22.5,9.2715,16,16,16,28,18.855,28,22.5ZM16,14a5.5,5.5,0,1,0-5.5-5.5A5.5066,5.5066,0,0,0,16,14Z",1,"cls-1"],[1,"p-error"]],template:function(e,t){1&e&&(o.Nb(0,"app-mini-menu",0),o.Nb(1,"p-toast",1),o.Nb(2,"p-confirmDialog",2),o.Sb(3,"div",3),o.Sb(4,"div",4),o.Jc(5,"Cuenta \xa0 "),o.Nb(6,"i",5),o.Rb(),o.Sb(7,"h3",6),o.Jc(8,"Actualiza tu informaci\xf3n general "),o.Rb(),o.Nb(9,"br"),o.Sb(10,"div",7),o.Sb(11,"div",8),o.Sb(12,"label",9),o.Jc(13,"Avatar"),o.Rb(),o.Nb(14,"br"),o.Sb(15,"div",10),o.Hc(16,E,1,1,"img",11),o.Hc(17,A,4,0,"svg",12),o.Sb(18,"p-splitButton",13,14),o.Zb("onClick",function(){return t.clickInputFile()}),o.Rb(),o.Sb(20,"input",15,16),o.Zb("change",function(e){return t.onSelectImg(e)}),o.Rb(),o.Rb(),o.Rb(),o.Sb(22,"div",17),o.Sb(23,"form",18),o.Zb("ngSubmit",function(){return t.submit()}),o.Sb(24,"div",19),o.Sb(25,"label",20),o.Jc(26,"Primer nombre"),o.Rb(),o.Nb(27,"input",21),o.Hc(28,M,4,0,"small",22),o.Rb(),o.Sb(29,"div",19),o.Sb(30,"label",23),o.Jc(31,"Segundo nombre"),o.Rb(),o.Nb(32,"input",24),o.Hc(33,T,4,0,"small",22),o.Rb(),o.Sb(34,"div",19),o.Sb(35,"label",25),o.Jc(36,"Primer apellido"),o.Rb(),o.Nb(37,"input",26),o.Hc(38,U,4,0,"small",22),o.Rb(),o.Sb(39,"div",19),o.Sb(40,"label",27),o.Jc(41,"Segundo apellido"),o.Rb(),o.Nb(42,"input",28),o.Hc(43,L,4,0,"small",22),o.Rb(),o.Sb(44,"div",29),o.Sb(45,"label",30),o.Jc(46,"Fecha de nacimiento"),o.Rb(),o.Nb(47,"p-calendar",31),o.Hc(48,D,4,0,"small",22),o.Rb(),o.Sb(49,"div",32),o.Sb(50,"label",33),o.Jc(51,"N\xfamero de celular"),o.Rb(),o.Nb(52,"p-inputMask",34),o.Hc(53,q,4,0,"small",22),o.Rb(),o.Sb(54,"div",29),o.Sb(55,"label",35),o.Jc(56,"Email"),o.Rb(),o.Nb(57,"input",36),o.Hc(58,V,4,0,"small",22),o.Rb(),o.Sb(59,"div",32),o.Sb(60,"label",37),o.Jc(61,"Dni"),o.Rb(),o.Nb(62,"p-inputMask",38),o.Hc(63,H,4,0,"small",22),o.Rb(),o.Sb(64,"div",32),o.Sb(65,"label",39),o.Jc(66),o.Rb(),o.Nb(67,"p-dropdown",40),o.Rb(),o.Sb(68,"div",29),o.Sb(69,"label",41),o.Jc(70,"Nombre de contacto"),o.Rb(),o.Nb(71,"input",42),o.Hc(72,P,4,0,"small",22),o.Rb(),o.Sb(73,"div",43),o.Nb(74,"button",44),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&e&&(o.kc("options",o.oc(31,O))("icon","settings"),o.Bb(2),o.Fc(o.oc(32,j)),o.kc("baseZIndex",1e4),o.Bb(14),o.kc("ngIf",t.user.photo_path),o.Bb(1),o.kc("ngIf",!t.user.photo_path),o.Bb(1),o.kc("model",t.items),o.Bb(5),o.kc("formGroup",t.userForm),o.Bb(5),o.kc("ngIf",t.isFieldValid("first_name")),o.Bb(5),o.kc("ngIf",t.isFieldValid("second_name")),o.Bb(5),o.kc("ngIf",t.isFieldValid("first_surname")),o.Bb(5),o.kc("ngIf",t.isFieldValid("second_surname")),o.Bb(4),o.kc("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",t.min_year+":"+t.max_year)("maxDate",t.max_date),o.Bb(1),o.kc("ngIf",t.isFieldValid("birthdate")),o.Bb(4),o.kc("unmask",!0)("autoClear",!1),o.Bb(1),o.kc("ngIf",t.isFieldValid("phone_number")),o.Bb(5),o.kc("ngIf",t.isFieldValid("email")),o.Bb(4),o.kc("unmask",!0)("autoClear",!1),o.Bb(1),o.kc("ngIf",t.isFieldValid("dni")),o.Bb(3),o.Kc(t.isRoleAdmin?"Rol":"Cargo"),o.Bb(1),o.lc("placeholder",t.isRoleAdmin?"Administrador":null==t.user.occupation?null:t.user.occupation.name),o.kc("optionDisabled","inactive")("disabled",!0),o.Bb(5),o.kc("ngIf",t.isFieldValid("contact_name")))},directives:[w.a,R.a,_.a,i.l,k.a,f.q,f.j,f.e,f.b,C.a,f.i,f.d,x.a,N.a,I.a,F.b],styles:[""]}),e})();var z=r("tk/3");let Z=(()=>{class e{constructor(e){this.httpClient=e}resetPass(e){return this.httpClient.patch(`${a.a.urlBase}/api/users/resetPassword`,e)}}return e.\u0275fac=function(t){return new(t||e)(o.Wb(z.b))},e.\u0275prov=o.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function $(e,t){1&e&&(o.Sb(0,"span"),o.Jc(1," Campo requerido. "),o.Rb())}function K(e,t){1&e&&(o.Sb(0,"span"),o.Jc(1," Longitud [6-12] caracteres. "),o.Rb())}function W(e,t){1&e&&(o.Sb(0,"span"),o.Jc(1," No coincide con la contrase\xf1a nueva."),o.Rb())}const X=function(){return["Configuraci\xf3n","Seguridad"]};let Y=(()=>{class e{constructor(e,t,r){this.fb=e,this.messageService=t,this.settingsService=r,this.passError=!1,this.passForm=this.fb.group({password:[,[f.p.required,f.p.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]],new_password:[,[f.p.required,f.p.minLength(6),f.p.maxLength(12),f.p.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]],new_password2:[,[f.p.required,f.p.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]]})}ngOnInit(){this.passForm.reset({password:"",new_password:"",new_password2:""})}isFieldValid(e){return this.passForm.controls[e].errors&&this.passForm.controls[e].touched}submit(){this.passForm.invalid?this.passForm.markAllAsTouched():this.passForm.value.new_password===this.passForm.value.new_password2?(this.passError=!1,this.settingsService.resetPass({password:this.passForm.value.password,new_password:this.passForm.value.new_password}).subscribe(e=>{var t,r,i,s;200==e.code?(this.passForm.reset({password:"",new_password:"",new_password2:""}),this.messageService.add({key:"tc",severity:"success",summary:"\xc9xito",detail:"Nueva contrase\xf1a establecida correctamente"})):404==e.code?this.messageService.add({key:"tc",severity:"error",detail:"La contrase\xf1a actual es incorrecta"}):void 0!==(null===(t=e.errors)||void 0===t?void 0:t.password)?this.showError(null===(r=e.errors.password)||void 0===r?void 0:r.msg):void 0!==(null===(i=e.errors)||void 0===i?void 0:i.new_password)&&this.showError(null===(s=e.errors.new_password)||void 0===s?void 0:s.msg)},e=>{this.messageService.add({key:"tc",severity:"error",summary:"Error",detail:"Cont\xe1ctese con el administrador"})})):this.passError=!0}showError(e,t="Registro  Incorrecto"){this.messageService.add({key:"tc",severity:"error",summary:t,detail:e})}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(f.c),o.Mb(h.g),o.Mb(Z))},e.\u0275cmp=o.Gb({type:e,selectors:[["app-security"]],features:[o.Ab([h.g])],decls:39,vars:7,consts:[[1,"miniMenu",3,"options","icon"],["position","top-center","key","tc"],[1,"card","myCard","myBg","p-mt-2"],[1,"p-text-left","myTitle"],[1,"pi","pi-lock",2,"font-size","1.5rem"],[1,"text-color"],[1,"p-fluid",3,"formGroup","ngSubmit"],[1,"p-field","p-grid"],["for","password",1,"text-color","p-col-12","p-mb-2","p-md-3","p-mb-md-0"],[1,"p-col-12","p-md-9"],["id","password","type","password","pInputText","","formControlName","password","autocomplete","off"],[1,"p-error"],[4,"ngIf"],["for","new_password",1,"text-color","p-col-12","p-mb-2","p-md-3","p-mb-md-0"],["id","new_password","type","password","pInputText","","formControlName","new_password","autocomplete","off"],["for","new_password2",1,"text-color","p-col-12","p-mb-2","p-md-3","p-mb-md-0"],["id","new_password2","type","password","pInputText","","formControlName","new_password2","autocomplete","off"],["for","submit",1,"text-color","p-col-12","p-mb-2","p-md-3","p-mb-md-0"],["type","submit","pButton","","label","Cambiar contrase\xf1a","icon","pi pi-refresh",1,"myBtnInput"]],template:function(e,t){1&e&&(o.Nb(0,"app-mini-menu",0),o.Nb(1,"p-toast",1),o.Sb(2,"div",2),o.Sb(3,"div",3),o.Jc(4,"Seguridad \xa0"),o.Nb(5,"i",4),o.Rb(),o.Sb(6,"h3",5),o.Jc(7,"Establece una contrase\xf1a nueva"),o.Rb(),o.Nb(8,"br"),o.Sb(9,"form",6),o.Zb("ngSubmit",function(){return t.submit()}),o.Sb(10,"div",7),o.Sb(11,"label",8),o.Jc(12,"Contrase\xf1a actual"),o.Rb(),o.Sb(13,"div",9),o.Nb(14,"input",10),o.Sb(15,"small",11),o.Hc(16,$,2,0,"span",12),o.Jc(17,"\xa0 "),o.Rb(),o.Rb(),o.Rb(),o.Sb(18,"div",7),o.Sb(19,"label",13),o.Jc(20,"Contrase\xf1a nueva"),o.Rb(),o.Sb(21,"div",9),o.Nb(22,"input",14),o.Sb(23,"small",11),o.Hc(24,K,2,0,"span",12),o.Jc(25,"\xa0 "),o.Rb(),o.Rb(),o.Rb(),o.Sb(26,"div",7),o.Sb(27,"label",15),o.Jc(28,"Repetir contrase\xf1a nueva"),o.Rb(),o.Sb(29,"div",9),o.Nb(30,"input",16),o.Sb(31,"small",11),o.Hc(32,W,2,0,"span",12),o.Jc(33,"\xa0 "),o.Rb(),o.Rb(),o.Rb(),o.Sb(34,"div",7),o.Sb(35,"label",17),o.Jc(36," \xa0 "),o.Rb(),o.Sb(37,"div",9),o.Nb(38,"button",18),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&e&&(o.kc("options",o.oc(6,X))("icon","settings"),o.Bb(9),o.kc("formGroup",t.passForm),o.Bb(7),o.kc("ngIf",t.isFieldValid("password")),o.Bb(8),o.kc("ngIf",t.isFieldValid("new_password")),o.Bb(8),o.kc("ngIf",t.isFieldValid("new_password2")||t.passError))},directives:[w.a,R.a,f.q,f.j,f.e,f.b,C.a,f.i,f.d,i.l,F.b],styles:[""]}),e})();var Q=r("ETNk");const ee=function(){return["Configuraci\xf3n","Apariencia"]};let te=(()=>{class e{constructor(e){this.themeService=e}ngOnInit(){this.theme=this.themeService.getTheme()}switchTheme(e){this.theme=e,this.themeService.switchTheme(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(Q.a))},e.\u0275cmp=o.Gb({type:e,selectors:[["app-appearance"]],decls:23,vars:9,consts:[[1,"miniMenu",3,"options","icon"],[1,"card","myCard","myBg","p-mt-2"],[1,"p-text-left","myTitle"],[1,"pi","pi-moon",2,"font-size","1.5rem"],[1,"text-color"],[1,"p-grid","p-mt-4"],[1,"p-col","p-m-2"],[1,"card","myCard","myBgVela","p-grid",3,"click"],[1,"text-Vela","p-col-4"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-rounded","p-col-8"],[1,"card","myCard","myBgLight","p-grid",3,"click"],[1,"text-Light","p-col-4"],[1,"card","myCard","myBgDark","p-grid",3,"click"],[1,"text-Dark","p-col-4"]],template:function(e,t){1&e&&(o.Nb(0,"app-mini-menu",0),o.Sb(1,"div",1),o.Sb(2,"div",2),o.Jc(3,"Apariencia \xa0"),o.Nb(4,"i",3),o.Rb(),o.Sb(5,"h3",4),o.Jc(6,"Seleciona una tema para la aplicaci\xf3n "),o.Rb(),o.Sb(7,"div",5),o.Sb(8,"div",6),o.Sb(9,"div",7),o.Zb("click",function(){return t.switchTheme("theme-vela-blue")}),o.Sb(10,"h4",8),o.Jc(11,"Vela "),o.Rb(),o.Nb(12,"button",9),o.Rb(),o.Rb(),o.Sb(13,"div",6),o.Sb(14,"div",10),o.Zb("click",function(){return t.switchTheme("theme-mdc-light-indigo")}),o.Sb(15,"h4",11),o.Jc(16,"Ligero"),o.Rb(),o.Nb(17,"button",9),o.Rb(),o.Rb(),o.Sb(18,"div",6),o.Sb(19,"div",12),o.Zb("click",function(){return t.switchTheme("theme-mdc-dark-indigo")}),o.Sb(20,"h4",13),o.Jc(21,"Oscuro"),o.Rb(),o.Nb(22,"button",9),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&e&&(o.kc("options",o.oc(8,ee))("icon","settings"),o.Bb(12),o.Db("theme-vela-blue"===t.theme?"":"p-button-outlined"),o.Bb(5),o.Db("theme-mdc-light-indigo"===t.theme?"":"p-button-outlined"),o.Bb(5),o.Db("theme-mdc-dark-indigo"===t.theme?"":"p-button-outlined"))},directives:[w.a,F.b],styles:[""]}),e})();var re=r("dgEK"),ie=r("zUwj");const se=[{path:"",children:[{path:"",component:d,children:[{path:"account",component:G,canLoad:[re.a],canActivate:[re.a],data:{USER_ROLES:[S.a.USER,S.a.USER_ADMIN],MODULE:ie.a.SETTINGS}},{path:"security",component:Y,canLoad:[re.a],canActivate:[re.a],data:{USER_ROLES:[S.a.USER,S.a.USER_ADMIN],MODULE:ie.a.SETTINGS}},{path:"appearance",component:te,canLoad:[re.a],canActivate:[re.a],data:{USER_ROLES:[S.a.USER,S.a.USER_ADMIN],MODULE:ie.a.SETTINGS}},{path:"**",redirectTo:"appearance"}]},{path:"**",redirectTo:"appearance"}]}];let ae=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({imports:[[s.f.forChild(se)],s.f]}),e})();var oe=r("V/fk"),ne=r("uPqY");let ce=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({imports:[[i.c,ae,ne.a,oe.a,f.o]]}),e})()}}]);